"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{93314:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(24246),i=n(84262);n(27378);function r(e){var t=e.children;return(0,a.jsx)(i.Z,{flexGrow:1,sx:{gridTemplateColumns:"1fr",gap:[3,6],alignContent:"start",justifyContent:"start"},pb:[0,12],children:t})}},73018:function(e,t,n){var a=n(73141),i=n(59587),r=n(94447),p=(0,n(2914).Z)(),u=i.m[p],o=new r.Z(u.readRpcUrl,u.chainId),s=new a.ZP({provider:o});t.Z=s},73141:function(e,t,n){n.d(t,{mR:function(){return ty},Vx:function(){return oi},Yz:function(){return s},Nd:function(){return pu},u6:function(){return Mu},Ll:function(){return Bn},Y0:function(){return a},xs:function(){return r},IY:function(){return ou},Ly:function(){return sr},lw:function(){return Hi},OK:function(){return ie},sX:function(){return di},hc:function(){return Su},ho:function(){return Kr},A9:function(){return $r},Bp:function(){return ei},Cx:function(){return Eu},NU:function(){return Wl},ZP:function(){return Vd},Y9:function(){return Nn},t5:function(){return $t},l6:function(){return En}});var a,i,r,p,u,o,s,y,l=n(35230),d=n.n(l),m=n(35664),c=n(35897),T=n(3922),f=T.O$.from(0),b=T.O$.from(10).pow(18),v=T.O$.from(1).mul(b),h=T.O$.from(2).pow(256).sub(1),k="0x0000000000000000000000000000000000000000";(i=a||(a={})).OptionMarketViewer="OptionMarketViewer",i.OptionMarketWrapper="OptionMarketWrapper",i.TestFaucet="TestFaucet",i.SynthetixAdapter="SynthetixAdapter",i.LyraStakingModuleProxy="LyraStakingModuleProxy",i.LyraRegistry="LyraRegistry",i.MultiDistributor="MultiDistributor",i.ArrakisPool="ArrakisPool",i.WethLyraStakingRewards="WethLyraStakingRewards",(p=r||(r={})).OptionMarket="OptionMarket",p.OptionMarketPricer="OptionMarketPricer",p.OptionToken="OptionToken",p.ShortCollateral="ShortCollateral",p.OptionGreekCache="OptionGreekCache",p.LiquidityToken="LiquidityToken",p.LiquidityPool="LiquidityPool",p.ShortPoolHedger="ShortPoolHedger",(o=u||(u={}))[o.LongCall=0]="LongCall",o[o.LongPut=1]="LongPut",o[o.ShortCoveredCall=2]="ShortCoveredCall",o[o.ShortCall=3]="ShortCall",o[o.ShortPut=4]="ShortPut",(y=s||(s={})).Local="local",y.Kovan="kovan",y.Mainnet="mainnet";var w,g,P,O,x,M,C,S,A,I;(g=w||(w={})).Trade="Trade",g.PositionUpdated="PositionUpdated",g.Transfer="Transfer",(O=P||(P={}))[O.Empty=0]="Empty",O[O.Active=1]="Active",O[O.Closed=2]="Closed",O[O.Liquidated=3]="Liquidated",O[O.Settled=4]="Settled",O[O.Merged=5]="Merged",(M=x||(x={}))[M.Opened=0]="Opened",M[M.Adjusted=1]="Adjusted",M[M.Closed=2]="Closed",M[M.SplitFrom=3]="SplitFrom",M[M.SplitInto=4]="SplitInto",M[M.Merged=5]="Merged",M[M.MergedInto=6]="MergedInto",M[M.Settled=7]="Settled",M[M.Liquidated=8]="Liquidated",M[M.Transfer=9]="Transfer",(S=C||(C={}))[S.Open=0]="Open",S[S.Close=1]="Close",S[S.Liquidate=2]="Liquidate",(I=A||(A={})).ContractCall="ContractCall",I.Log="Log",I.Subgraph="Subgraph";var q=[x.Adjusted,x.Closed,x.Liquidated,x.Opened,x.Settled,x.Merged,x.MergedInto,x.SplitFrom,x.SplitInto],V="0x50c5725949a6f0c72e6c4a641f24049a917db0cb",B="0x4200000000000000000000000000000000000042",F="0xC9801013F0c45F836Ad07Dded1df9C475d2844FC",L="0xde48b1b5853cc63b1d05e507414d3e02831722f8",D="0xd16d254c42a03ad72d77b4226d086afcc0b2e43e",R="0x11DEE30E710B8d4a8630392781Cc3c0046365d4c",E="0x7F5c764cBc14f9669B88837ca1490cCa17c31607",N=n(7695);function _(e){return(1-function(e){var t=1;e<0&&(t=-1);var n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}(-e/Math.sqrt(2)))/2}function G(e){return Math.exp(-e*e/2)/Math.sqrt(2*Math.PI)}function j(e,t,n,a,i){return(Math.log(n/a)+(i+t*t/2)*e)/(t*Math.sqrt(e))}function U(e,t,n,a,i){return j(e,t,n,a,i)-t*Math.sqrt(e)}function W(e,t,n){return e*Math.exp(-t*n)}function Q(e,t,n,a,i,r){return r?function(e,t,n,a,i){return _(j(e,t,n,a,i))*n-_(U(e,t,n,a,i))*W(a,i,e)}(e,t,n,a,i):function(e,t,n,a,i){return _(-U(e,t,n,a,i))*W(a,i,e)-_(-j(e,t,n,a,i))*n}(e,t,n,a,i)}function H(e,t,n,a,i){return _(j(e,t,n,a,i))}function $(e,t,n,a,i,r){return r?H(e,t,n,a,i):function(e,t,n,a,i){return H(e,t,n,a,i)-1}(e,t,n,a,i)}function z(e,t,n,a,i){return n*G(j(e,t,n,a,i))*Math.sqrt(e)/100}function K(e,t,n,a,i){return G(j(e,t,n,a,i))/(n*t*Math.sqrt(e))}function Z(e,t,n,a,i,r){return r?(-n*G(j(e,t,n,a,i))*t/(2*Math.sqrt(e))-i*a*Math.exp(-i*e)*_(U(e,t,n,a,i)))/365:(-n*G(j(e,t,n,a,i))*t/(2*Math.sqrt(e))+i*a*Math.exp(-i*e)*_(-U(e,t,n,a,i)))/365}function Y(e,t,n,a,i,r){return r?a*e*Math.exp(-i*e)*_(U(e,t,n,a,i))/100:-a*e*Math.exp(-i*e)*_(-U(e,t,n,a,i))/100}var J=n(57712);function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return parseFloat((0,J.formatUnits)(e.toString(),t))}function ee(e,t,n,a){return e&&!a?t.add(n):t.sub(n)}function te(e){return e.timeToExpiry/31536e3}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(isNaN(e))throw new Error("Passed NaN to BigNumber converter");return(0,J.parseUnits)(e.toFixed(18),t)}function ae(e,t,n){var a=te(e.board()),i=e.market().__marketData.marketParameters.greekCacheParams.rateAndCarry,r=t.mul(n).div(b),p=e.market().spotPrice,u=e.strike().strikePrice;return{price:ne(Q(a,X(r),X(p),X(u),X(i),e.isCall)),volTraded:r}}var ie,re;function pe(e,t,n,a){var i=n.mul(a).div(b),r=te(e.board()),p=e.market().__marketData.marketParameters,u=p.greekCacheParams.rateAndCarry,o=p.forceCloseParams,s=p.tradeLimitParams,y=e.block.timestamp+s.tradingCutoff.toNumber()>e.board().expiryTimestamp,l=e.board().__boardData.forceCloseGwavIV,d=e.strike().__strikeData.forceCloseSkew,m=e.market().spotPrice,c=e.strike().strikePrice,T=ne($(r,X(i),X(m),X(c),X(u),!0)),h=s.minForceCloseDelta,k=T.lte(h)||T.gte(v.sub(h));if(y||k){var w=l.mul(d).div(b);t?(w=w.gt(i)?w:i,w=y?w.mul(o.shortPostCutoffVolShock).div(b):w.mul(o.shortVolShock).div(b)):(w=w.lt(i)?w:i,w=y?w.mul(o.longPostCutoffVolShock).div(b):w.mul(o.longVolShock).div(b));var g=ne(Q(r,X(w),X(m),X(c),X(u),e.isCall));if(t){var P=function(e){var t=e.isCall?e.market().spotPrice.sub(e.strike().strikePrice):e.strike().strikePrice.sub(e.market().spotPrice);return t.gt(0)?t:f}(e),O=e.market().spotPrice.mul(o.shortSpotMin).div(b),x=P.add(O);g=g.gt(x)?g:x}return{volTraded:w,price:g}}return ae(e,n,a)}function ue(e,t,n,a){if(e<=t)return a;var i=ne(e-t).mul(b).div(n-t).div(b);return a.mul(b.add(i)).div(b)}function oe(e){var t=e.option,n=e.isBuy,a=e.size,i=e.baseIv,r=e.skew,p=e.netStdVega,u=e.preTradeAmmNetStdVega,o=e.isForceClose,s=function(e,t,n,a,i){var r=e.market().__marketData.marketParameters,p=a.mul(b).div(r.pricingParams.standardSize).div(100),u=p.mul(r.pricingParams.skewAdjustmentFactor).div(b);return{newBaseIv:i?t.add(p):t.sub(p),newSkew:i?n.add(u):n.sub(u)}}(t,i,r,a,n),y=s.newBaseIv,l=s.newSkew,d=ae(t,y,l),m=o?pe(t,n,y,l):d,c=m.price,T=m.volTraded,v=d.price,h=c.sub(v).mul(a).div(b).mul(n?1:-1),k=function(e,t,n){var a=e.market().__marketData.marketParameters.pricingParams;return ue(e.timeToExpiry,a.optionPriceFee1xPoint.toNumber(),a.optionPriceFee2xPoint.toNumber(),a.optionPriceFeeCoefficient).mul(n).div(b).mul(t).div(b)}(t.board(),c,a),w=function(e,t){var n=e.market().__marketData.marketParameters.pricingParams;return ue(e.timeToExpiry,n.spotPriceFee1xPoint.toNumber(),n.spotPriceFee2xPoint.toNumber(),n.spotPriceFeeCoefficient).mul(t).div(b).mul(e.market().spotPrice).div(b)}(t.board(),a),g=p.mul(a).mul(n?1:-1).div(b),P=u.add(g),O=function(e,t,n,a,i){if(t.abs().gte(n.abs()))return{preTradeAmmNetStdVega:t,postTradeAmmNetStdVega:n,vegaUtil:f,volTraded:a,NAV:e.__marketData.liquidity.NAV,vegaUtilFee:f};var r=e.__marketData.liquidity,p=e.__marketData.marketParameters.pricingParams,u=r.NAV.gt(0)?a.mul(n).div(r.NAV):f,o=p.vegaFeeCoefficient.mul(u).div(b).mul(i).div(b),s=o.lt(0)?f:o;return{preTradeAmmNetStdVega:t,postTradeAmmNetStdVega:n,vegaUtil:u,volTraded:a,NAV:e.__marketData.liquidity.NAV,vegaUtilFee:s}}(t.market(),u,P,T,a),x=function(e,t,n,a,i,r){var p=e.market().__marketData.marketParameters.varianceFeeParams,u=r?p.forceCloseVarianceFeeCoefficient:p.defaultVarianceFeeCoefficient,o=e.board().__boardData.forceCloseGwavIV.sub(a).abs(),s=e.market().__marketData.marketParameters.greekCacheParams.rateAndCarry,y=ne(100*z(te(e.board()),X(t),X(e.market().spotPrice),X(e.strike().strikePrice),X(s)));if(u.isZero())return{varianceFeeCoefficient:f,vega:y,vegaCoefficient:f,skew:n,skewCoefficient:f,ivVariance:o,ivVarianceCoefficient:f,varianceFee:f};var l=p.minimumStaticVega.add(y.mul(p.vegaCoefficient).div(b)),d=n.sub(p.referenceSkew).abs(),m=p.minimumStaticSkewAdjustment.add(d.mul(p.skewAdjustmentCoefficient).div(b)),c=p.minimumStaticIvVariance.add(o.mul(p.ivVarianceCoefficient).div(b)),T=u.mul(l).div(b).mul(m).div(b).mul(c).div(b).mul(i).div(b);return{varianceFeeCoefficient:u,vega:y,vegaCoefficient:l,skew:n,skewCoefficient:m,ivVariance:o,ivVarianceCoefficient:c,varianceFee:T}}(t,T,l,y,a,o),M=k.add(w).add(O.vegaUtilFee).add(x.varianceFee),C=c.mul(a).div(b);return{premium:n?C.add(M):M.lt(C)?C.sub(M):f,optionPriceFee:k,spotPriceFee:w,vegaUtilFee:O,varianceFee:x,forceClosePenalty:h,postTradeAmmNetStdVega:P,volTraded:T,newSkew:l,newBaseIv:o?i:y}}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(re=ie||(ie={})).EmptySize="EmptySize",re.EmptyPremium="EmptyPremium",re.Expired="Expired",re.TradingCutoff="TradingCutoff",re.InsufficientLiquidity="InsufficientLiquidity",re.DeltaOutOfRange="DeltaOutOfRange",re.VolTooHigh="VolTooHigh",re.VolTooLow="VolTooLow",re.IVTooHigh="IVTooHigh",re.IVTooLow="IVTooLow",re.SkewTooHigh="SkewTooHigh",re.SkewTooLow="SkewTooLow";var ye,le,de=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall,this.__option=t,this.isBuy=n,this.size=a,this.marketName=t.market().name,this.marketAddress=t.market().address,this.expiryTimestamp=t.board().expiryTimestamp,this.boardId=t.board().id,this.strikePrice=t.strike().strikePrice,this.strikeId=t.strike().id,this.isCall=t.isCall;var r=this.getFields(t,n,a,i);this.pricePerOption=r.pricePerOption,this.premium=r.premium,this.fee=r.fee,this.feeComponents=r.feeComponents,this.iv=r.iv,this.fairIv=r.fairIv,this.greeks=r.greeks,this.forceClosePenalty=r.forceClosePenalty,this.isForceClose=r.isForceClose,this.isDisabled=!!r.disabledReason,this.disabledReason=r.disabledReason,this.breakEven=r.breakEven,this.iterations=r.iterations}var t,n,a;return t=e,n=[{key:"getDisabledFields",value:function(e,t){var n=e.strike().skew,a=e.board().baseIv,i=n.mul(a).div(b);return{pricePerOption:f,premium:f,iv:i,fairIv:i,fee:f,feeComponents:{optionPriceFee:f,spotPriceFee:f,vegaUtilFee:f,varianceFee:f},greeks:{delta:e.delta,vega:e.strike().vega,gamma:e.strike().gamma,theta:e.theta,rho:e.rho},isForceClose:!1,forceClosePenalty:f,isDisabled:!!t,disabledReason:t,breakEven:f,iterations:[]}}},{key:"getFields",value:function(e,t,n,a){var i,r,p=null!==(i=null===a||void 0===a?void 0:a.iterations)&&void 0!==i?i:1;if(p<1)throw new Error("Iterations must be greater than or equal to 1");var u=null!==(r=null===a||void 0===a?void 0:a.isForceClose)&&void 0!==r&&r,o=e.board(),s=e.strike(),y=e.market().__marketData,l=e.isCall,d=o.baseIv,m=s.skew,c=y.globalNetGreeks.netStdVega.mul(-1),T=te(e.board());if(0===T)return this.getDisabledFields(e,ie.Expired);for(var h=n.div(p),k=[],w=0;w<p;w++){var g=oe({option:e,isBuy:t,size:h,baseIv:d,skew:m,netStdVega:y.globalNetGreeks.netStdVega,preTradeAmmNetStdVega:c,isForceClose:u});k.push(g),d=g.newBaseIv,m=g.newSkew,c=g.postTradeAmmNetStdVega}var P=d.mul(m).div(b),O=e.market().spotPrice,x=e.strike().strikePrice,M=e.market().__marketData.marketParameters.greekCacheParams.rateAndCarry,C=ne($(T,X(P),X(O),X(x),X(M),l)),S=ne(z(T,X(P),X(O),X(x),X(M))),A=P.gt(0)&&O.gt(0)?ne(K(T,X(P),X(O),X(x),X(M))):f,I=P.gt(0)&&O.gt(0)?ne(Z(T,X(P),X(O),X(x),X(M),l)):f,q=P.gt(0)&&O.gt(0)?ne(Y(T,X(P),X(O),X(x),X(M),l)):f,V=k.reduce((function(e,t){return e.add(t.premium)}),f),B=function(e,t,n,a,i,r,p,u){var o=e.market(),s=e.board(),y=e.strike(),l=o.__marketData,d=te(s);if(0==d)return ie.Expired;if(t.lte(0))return ie.EmptySize;if(n.lte(0))return ie.EmptyPremium;var m=l.marketParameters,c=m.tradeLimitParams,T=m.greekCacheParams;if(s.block.timestamp+c.tradingCutoff.toNumber()>s.expiryTimestamp&&!u)return ie.TradingCutoff;var f=o.spotPrice,h=y.strikePrice,k=T.rateAndCarry,w=ne($(d,X(a),X(f),X(h),X(k),!0)),g=u?c.minForceCloseDelta:c.minDelta;if(!u&&(w.lte(g)||w.gte(v.sub(g))))return ie.DeltaOutOfRange;if(p){if(r.gt(c.maxBaseIV))return ie.IVTooHigh;if(i.gt(c.maxSkew))return ie.SkewTooHigh;if(a.gt(c.maxVol))return ie.VolTooHigh}else{if(r.lt(c.minBaseIV))return ie.IVTooHigh;if(i.lt(c.minSkew))return ie.SkewTooHigh;if(a.lt(c.minVol))return ie.VolTooHigh}var P=l.liquidity.freeLiquidity;return!u&&(p?e.isCall?P.lt(t.mul(f).div(b)):P.lt(t.mul(h).div(b)):P.lt(n))?ie.InsufficientLiquidity:null}(e,n,V,P,m,d,t,u);if(B)switch(B){case ie.DeltaOutOfRange:case ie.EmptyPremium:case ie.EmptySize:case ie.Expired:case ie.IVTooHigh:case ie.IVTooLow:case ie.SkewTooHigh:case ie.SkewTooLow:case ie.VolTooHigh:case ie.VolTooLow:return this.getDisabledFields(e,B)}var F=V.mul(b).div(n),L=ee(e.isCall,s.strikePrice,V.mul(b).div(n)),D=k.reduce((function(e,t){return e.add(t.forceClosePenalty)}),f),R=k.reduce((function(e,t){return e.add(t.optionPriceFee)}),f),E=k.reduce((function(e,t){return e.add(t.spotPriceFee)}),f),N=k.reduce((function(e,t){return e.add(t.vegaUtilFee.vegaUtilFee)}),f),_=k.reduce((function(e,t){return e.add(t.varianceFee.varianceFee)}),f),G=R.add(E).add(N).add(_),j=G.gt(0)&&S.gt(0)?G.mul(b).div(S).div(100):f;return{pricePerOption:F,premium:V,fee:G,iv:t?P.add(j):P.sub(j),fairIv:P,feeComponents:{optionPriceFee:R,spotPriceFee:E,vegaUtilFee:N,varianceFee:_},greeks:{delta:C,vega:S,gamma:A,rho:q,theta:I},isForceClose:u,forceClosePenalty:D,isDisabled:!!B,disabledReason:B,breakEven:L,iterations:k}}},{key:"market",value:function(){return this.__option.market()}},{key:"board",value:function(){return this.__option.board()}},{key:"strike",value:function(){return this.__option.strike()}},{key:"option",value:function(){return this.__option}}],a=[{key:"get",value:function(t,n,a,i){return new e(t,n,a,i)}}],n&&se(t.prototype,n),a&&se(t,a),e}(),me=2147483647,ce=1e3,Te="\ntimestamp\nblockNumber\ntransactionHash\ntrader\nsize\nisOpen\nisBuy\nspotPrice\npremium\nspotPriceFee\noptionPriceFee\nvegaUtilFee\nvarianceFee\nexternalSwapFees\nsetCollateralTo\nnewIv\nnewBaseIv\nnewSkew\nvolTraded\nisForceClose\nisLiquidation\nstrike {\n  strikeId\n  strikePrice\n}\nboard {\n  expiryTimestamp\n}\nmarket {\n  name\n  id\n}\noption {\n  isCall\n}\nposition {\n  positionId\n  isLong\n  isBaseCollateral\n}\n",fe="\ntimestamp\ntrader\nblockNumber\ntransactionHash\namount\nisBaseCollateral\nspotPrice\nstrike {\n  strikeId\n  strikePrice\n}\nboard {\n  expiryTimestamp\n}\nmarket {\n  name\n  id\n}\noption {\n  isCall\n}\nposition {\n  positionId\n  isLong\n  isBaseCollateral\n}\n",be="\nid\nblockNumber\nprofit\nsize\nspotPriceAtExpiry\ntimestamp\ntransactionHash\nowner\nsettleAmount\nposition {\n  positionId\n  isBaseCollateral\n  isLong\n  strike {\n    strikeId\n    strikePrice\n  }\n  board {\n    expiryTimestamp\n  }\n  market {\n    name\n    id\n    latestSpotPrice\n  }\n  option {\n    isCall\n  }\n}\n",ve="\n  oldOwner\n  newOwner\n  transactionHash\n  blockNumber\n  position {\n    positionId\n  }\n",he="\nid\npositionId\nowner\nsize\nisLong\ncollateral\nisBaseCollateral\nstate\nopenTimestamp\ncloseTimestamp\nstrike {\n  strikeId\n  strikePrice\n}\nboard {\n  boardId\n  expiryTimestamp\n  spotPriceAtExpiry\n}\nmarket {\n  name\n  id\n  latestSpotPrice\n}\noption {\n  isCall\n  latestOptionPriceAndGreeks {\n    optionPrice\n  }\n}\ntrades(orderBy: timestamp, orderDirection: asc) {\n  ".concat(Te,"\n}\ncollateralUpdates(orderBy: timestamp, orderDirection: asc) {\n  ").concat(fe,"\n}\ntransfers(orderBy: timestamp, orderDirection: asc) {\n  ").concat(ve,"\n}\nsettle {\n  ").concat(be,"\n}\n"),ke=("\n  ".concat("\n  option {\n    id\n    isCall\n    optionPriceAndGreeksHistory(\n      first: 1000,\n      orderBy: timestamp,\n      orderDirection: desc,\n      where: {\n        timestamp_gte: $startTimestamp,\n        period_gte: $period\n      }\n    ) {\n      id\n      timestamp\n      optionPrice\n    }\n  }\n  id\n  openTimestamp\n  closeTimestamp\n  size\n  collateral\n  trades(\n    first: 1000,\n    orderBy: timestamp,\n    orderDirection: desc,\n  ) {\n    timestamp\n    isBuy\n    size\n    premium\n    blockNumber\n    transactionHash\n    collateralUpdate {\n      timestamp\n      amount\n    }\n  }\n","\n  collateralUpdates(\n    first: 1000,\n    orderBy: timestamp,\n    orderDirection: desc,\n  ) {\n    id\n    timestamp\n    amount\n  }\n"),"\n  timestamp\n  optionPrice\n  id\n  blockNumber\n  option {\n    id\n  }\n");function we(e,t){for(var n=Math.max(t-e,0),a=[ye.OneHour,ye.OneDay];a.length>1;){var i=a.shift();if(!(Math.ceil(n/i)>ce))return i}return a[0]}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pe(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Pe(r,a,i,p,u,"next",e)}function u(e){Pe(r,a,i,p,u,"throw",e)}p(void 0)}))}}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xe(e,t,n[t])}))}return e}function Ce(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t,n,a,i){return Ae.apply(this,arguments)}function Ae(){return(Ae=Oe(d().mark((function e(t,n,a,i,r){var p,u,o,s,y,l,m,c,T;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=!1,u=[],o=a.min;case 3:if(p){e.next=14;break}if(s=[],r)for(y=r.batch,l=r.increment,m=0;m<y;m++)s.push(Me({},a,{min:o,max:o+l-1})),o+=l;else s.push(Me({},a,{min:o}));return e.next=8,Promise.all(s.map((function(e){return t.subgraphClient.request(n,e)})));case 8:c=e.sent.map((function(e){return Object.values(e)[0]})),T=c[c.length-1],u=Ce(u).concat(Ce(c.flat())),!T.length||T.length<ce?p=!0:o=T[T.length-1][i]+1,e.next=3;break;case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ie(r,a,i,p,u,"next",e)}function u(e){Ie(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ve(e,t,n[t])}))}return e}function Fe(e,t,n,a){return Le.apply(this,arguments)}function Le(){return(Le=qe(d().mark((function e(t,n,a,i){var r,p,u,o,s,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null!==(r=null===i||void 0===i?void 0:i.startTimestamp)&&void 0!==r?r:0,s=null!==(p=null===i||void 0===i?void 0:i.endTimestamp)&&void 0!==p?p:me,y=null!==(u=null===i||void 0===i?void 0:i.period)&&void 0!==u?u:we(o,s),e.abrupt("return",Se(t,n,Be({},a,{min:o,max:s,period:y}),"timestamp"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(le=ye||(ye={}))[le.OneHour=3600]="OneHour",le[le.OneDay=86400]="OneDay";var De=3600,Re=86400,Ee=604800,Ne=2419200,_e=14515200,Ge=31557600;function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){je(e,t,n[t])}))}return e}function We(e,t,n){if(!e.length)return[];for(var a=e[0].timestamp,i=null!==n&&void 0!==n?n:function(e,t){var n=Math.max(0,t-e);return n>_e?Ee:n>7257600?172800:n>Ne?Re:n>1209600?43200:n>Ee?21600:n>345600?10800:De}(a,t),r=0,p=[],u=a;u<t+i;u+=i){for(;r<e.length-1&&e[r].timestamp<=u;)r++;p.push(Ue({},e[r],{timestamp:Math.min(u,t)}))}return p}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function He(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){He(r,a,i,p,u,"next",e)}function u(e){He(r,a,i,p,u,"throw",e)}p(void 0)}))}}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ze(e,t,n[t])}))}return e}function Ze(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(){var e,t,n=(e=["\n  query optionPriceAndGreeksSnapshots($optionId: String!, $min: Int!, $max: Int!, $period: Int!) {\n    optionPriceAndGreeksSnapshots(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { option: $optionId, timestamp_gte: $min, timestamp_lte: $max, period_gte: $period }\n    ) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Ye=function(){return n},n}var Je=(0,m.gql)(Ye(),ke);function Xe(e,t,n){return et.apply(this,arguments)}function et(){return(et=$e(d().mark((function e(t,n,a){var i,r,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.board(),p=n.block.timestamp,u=Math.min(r.expiryTimestamp,null!==(i=null===a||void 0===a?void 0:a.endTimestamp)&&void 0!==i?i:p),e.next=6,Fe(t,Je,{optionId:"".concat(n.market().address.toLowerCase(),"-").concat(n.strike().id,"-").concat(n.isCall?"call":"put")},Ke({},a,{endTimestamp:u}));case 6:return o=e.sent,s=o.map((function(e){return{optionPrice:T.O$.from(e.optionPrice),blockNumber:e.blockNumber,timestamp:e.timestamp}})),y={optionPrice:n.price,blockNumber:n.block.number,timestamp:u},l=s.length&&y.timestamp>s[s.length-1].timestamp?Ze(s).concat([y]):s,e.abrupt("return",We(l,u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){tt(r,a,i,p,u,"next",e)}function u(e){tt(r,a,i,p,u,"throw",e)}p(void 0)}))}}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){at(e,t,n[t])}))}return e}function rt(){var e,t,n=(e=["\n  query optionVolumeQuery($optionId: String!, $min: Int!, $max: Int!, $period: Int!) {\n    optionVolumeSnapshots(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { option: $optionId, timestamp_gte: $min, timestamp_lte: $max, period: $period }\n    ) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return rt=function(){return n},n}var pt=(0,m.gql)(rt(),"\n  notionalVolume\n  premiumVolume\n  timestamp\n");function ut(e,t,n){return ot.apply(this,arguments)}function ot(){return(ot=nt(d().mark((function e(t,n,a){var i,r,p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.board(),p=Math.min(r.expiryTimestamp,null!==(i=null===a||void 0===a?void 0:a.endTimestamp)&&void 0!==i?i:me),u="".concat(n.market().address.toLowerCase(),"-").concat(n.strike().id,"-").concat(n.isCall?"call":"put"),e.next=6,Fe(t,pt,{optionId:u},it({},a,{period:ye.OneHour,endTimestamp:p}));case 6:return o=e.sent,e.abrupt("return",o.map((function(e){return{notionalVolume:T.O$.from(e.notionalVolume),premiumVolume:T.O$.from(e.premiumVolume),timestamp:e.timestamp}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t,n){return n?e.filter((function(e){return e[t]<n[t]})).concat([n]).sort((function(e,n){return e[t]-n[t]})):e.sort((function(e,n){return e[t]-n[t]}))}function yt(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function lt(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){yt(r,a,i,p,u,"next",e)}function u(e){yt(r,a,i,p,u,"throw",e)}p(void 0)}))}}function dt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var mt=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall,this.lyra=t,this.__strike=n,this.block=i,this.isCall=a;var r=e.getFields(n,a);this.price=r.price,this.longOpenInterest=r.longOpenInterest,this.shortOpenInterest=r.shortOpenInterest,this.delta=r.delta,this.rho=r.rho,this.theta=r.theta,this.isInTheMoney=r.isInTheMoney}var t,n,a;return t=e,a=[{key:"getFields",value:function(e,t){var n,a=e.__strikeData,i=e.market().__marketData,r=te(e.board()),p=null!==(n=e.board().spotPriceAtExpiry)&&void 0!==n?n:e.market().spotPrice,u=t?p.gt(e.strikePrice):p.lt(e.strikePrice);if(0===r)return{longOpenInterest:f,shortOpenInterest:f,price:f,delta:f,theta:f,rho:f,isInTheMoney:u};var o=t?a.longCallOpenInterest:a.longPutOpenInterest,s=t?a.shortCallBaseOpenInterest.add(a.shortCallQuoteOpenInterest):a.shortPutOpenInterest,y=X(i.exchangeParams.spotPrice),l=X(a.strikePrice),d=X(i.marketParameters.greekCacheParams.rateAndCarry),m=X(e.iv);return{longOpenInterest:o,shortOpenInterest:s,price:ne(Q(r,m,y,l,d,t)),delta:m>0?ne($(r,m,y,l,d,t)):f,theta:m>0?ne(Z(r,m,y,l,d,t)):f,rho:m>0?ne(Y(r,m,y,l,d,t)):f,isInTheMoney:u}}},{key:"get",value:function(e,t,n,a){return lt(d().mark((function i(){var r;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(e,t);case 2:return r=i.sent,i.next=5,r.option(n,a);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),i)})))()}}],(n=[{key:"market",value:function(){return this.__strike.market()}},{key:"board",value:function(){return this.__strike.board()}},{key:"strike",value:function(){return this.__strike}},{key:"quoteSync",value:function(e,t,n){return de.get(this,e,t,n)}},{key:"quote",value:function(e,t,n){var a=this;return lt(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.strike().quote(a.isCall,e,t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"tradingVolumeHistory",value:function(e){var t=this;return lt(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=st,n.next=3,ut(t.lyra,t,e);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1,"timestamp"));case 5:case"end":return n.stop()}}),n)})))()}},{key:"priceHistory",value:function(e){var t=this;return lt(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xe(t.lyra,t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}])&&dt(t.prototype,n),a&&dt(t,a),e}();function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Tt(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Tt(r,a,i,p,u,"next",e)}function u(e){Tt(r,a,i,p,u,"throw",e)}p(void 0)}))}}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){bt(e,t,n[t])}))}return e}function ht(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(){var e,t,n=(e=["\n  query strikeIVAndGreeksSnapshots($strikeId: String!, $min: Int!, $max: Int!, $period: Int!) {\n    strikeIVAndGreeksSnapshots(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { strike: $strikeId, timestamp_gte: $min, timestamp_lte: $max, period_gte: $period }\n    ) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return kt=function(){return n},n}var wt=(0,m.gql)(kt(),"\n  timestamp\n  iv\n");function gt(e,t,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=ft(d().mark((function e(t,n,a){var i,r,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.board(),p=n.block.timestamp,u=Math.min(r.expiryTimestamp,null!==(i=null===a||void 0===a?void 0:a.endTimestamp)&&void 0!==i?i:p),o="".concat(n.market().address.toLowerCase(),"-").concat(n.id),e.next=7,Fe(t,wt,{strikeId:o},vt({},a,{endTimestamp:u}));case 7:if(s=e.sent,y=We(s.map((function(e){return{iv:X(T.O$.from(e.iv)),timestamp:e.timestamp}})),u),l={iv:X(n.iv),timestamp:n.block.timestamp},!(y.length&&l.timestamp>y[y.length-1].timestamp)){e.next=14;break}return e.abrupt("return",ht(y).concat([l]));case 14:return e.abrupt("return",y);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ot(r,a,i,p,u,"next",e)}function u(e){Ot(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Mt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Ct=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall,this.lyra=t,this.__board=n;var r=n.__boardData.strikes.find((function(e){return e.strikeId.toNumber()===a}));if(!r)throw new Error("Strike does not exist for board");this.__strikeData=r;var p=e.getFields(n,a);this.block=i,this.id=p.id,this.strikePrice=p.strikePrice,this.skew=p.skew,this.iv=p.iv,this.vega=p.vega,this.gamma=p.gamma,this.isDeltaInRange=p.isDeltaInRange}var t,n,a;return t=e,a=[{key:"getFields",value:function(e,t){var n,a=e.__boardData.strikes.find((function(e){return e.strikeId.toNumber()===t}));if(!a)throw new Error("Strike does not exist for board");var i=a.strikeId.toNumber(),r=a.strikePrice,p=te(e),u=a.skew,o=e.baseIv.mul(a.skew).div(b);if(0===p)return{id:i,strikePrice:r,skew:f,iv:f,vega:f,gamma:f,isDeltaInRange:!1};var s=X(o),y=X(e.market().spotPrice),l=X(r),d=null!==(n=X(e.market().__marketData.marketParameters.greekCacheParams.rateAndCarry))&&void 0!==n?n:0,m=s>0&&y>0?ne(z(p,s,y,l,d)):f,c=s>0&&y>0?ne(K(p,s,y,l,d)):f,T=s>0&&y>0?ne($(p,s,y,l,d,!0)):f,h=e.market().__marketData.marketParameters.tradeLimitParams.minDelta;return{id:i,strikePrice:r,skew:u,iv:o,vega:m,gamma:c,isDeltaInRange:T.gte(h)&&T.lte(v.sub(h))}}},{key:"get",value:function(e,t,n){return xt(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ou.get(e,t);case 2:return i=a.sent,a.next=5,i.strike(n);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}}],(n=[{key:"ivHistory",value:function(e,t){var n=this;return xt(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,gt(e,n,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"market",value:function(){return this.__board.market()}},{key:"board",value:function(){return this.__board}},{key:"call",value:function(){return new mt(this.lyra,this,!0,this.block)}},{key:"put",value:function(){return new mt(this.lyra,this,!1,this.block)}},{key:"option",value:function(e){return e?this.call():this.put()}},{key:"quote",value:function(e,t,n,a){var i=this;return xt(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.market().quote(i.id,e,t,n,a);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}}])&&Mt(t.prototype,n),a&&Mt(t,a),e}();function St(e,t,n,a){return{to:t,data:a,from:n,chainId:e.provider.network.chainId}}var At=n(26684),It=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_gelato","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"burnAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount0Out","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1Out","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"liquidityBurned","type":"uint128"}],"name":"Burned","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"feesEarned0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feesEarned1","type":"uint256"}],"name":"FeesEarned","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"mintAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount0In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1In","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"liquidityMinted","type":"uint128"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousManager","type":"address"},{"indexed":true,"internalType":"address","name":"newManager","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int24","name":"lowerTick_","type":"int24"},{"indexed":false,"internalType":"int24","name":"upperTick_","type":"int24"},{"indexed":false,"internalType":"uint128","name":"liquidityBefore","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"liquidityAfter","type":"uint128"}],"name":"Rebalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"managerFee","type":"uint16"}],"name":"SetManagerFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldAdminTreasury","type":"address"},{"indexed":false,"internalType":"address","name":"newAdminTreasury","type":"address"}],"name":"UpdateAdminTreasury","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"gelatoRebalanceBPS","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"gelatoWithdrawBPS","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"gelatoSlippageBPS","type":"uint16"},{"indexed":false,"internalType":"uint32","name":"gelatoSlippageInterval","type":"uint32"}],"name":"UpdateGelatoParams","type":"event"},{"inputs":[],"name":"GELATO","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"burnAmount","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"burn","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"},{"internalType":"uint128","name":"liquidityBurned","type":"uint128"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int24","name":"newLowerTick","type":"int24"},{"internalType":"int24","name":"newUpperTick","type":"int24"},{"internalType":"uint160","name":"swapThresholdPrice","type":"uint160"},{"internalType":"uint256","name":"swapAmountBPS","type":"uint256"},{"internalType":"bool","name":"zeroForOne","type":"bool"}],"name":"executiveRebalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"gelatoBalance0","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoBalance1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoFeeBPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoRebalanceBPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoSlippageBPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoSlippageInterval","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelatoWithdrawBPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount0Max","type":"uint256"},{"internalType":"uint256","name":"amount1Max","type":"uint256"}],"name":"getMintAmounts","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"},{"internalType":"uint256","name":"mintAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPositionID","outputs":[{"internalType":"bytes32","name":"positionID","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUnderlyingBalances","outputs":[{"internalType":"uint256","name":"amount0Current","type":"uint256"},{"internalType":"uint256","name":"amount1Current","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint160","name":"sqrtRatioX96","type":"uint160"}],"name":"getUnderlyingBalancesAtPrice","outputs":[{"internalType":"uint256","name":"amount0Current","type":"uint256"},{"internalType":"uint256","name":"amount1Current","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"address","name":"_pool","type":"address"},{"internalType":"uint16","name":"_managerFeeBPS","type":"uint16"},{"internalType":"int24","name":"_lowerTick","type":"int24"},{"internalType":"int24","name":"_upperTick","type":"int24"},{"internalType":"address","name":"_manager_","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_managerFeeBPS","type":"uint16"}],"name":"initializeManagerFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lowerTick","outputs":[{"internalType":"int24","name":"","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"managerBalance0","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"managerBalance1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"managerFeeBPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"managerTreasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"mintAmount","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"},{"internalType":"uint128","name":"liquidityMinted","type":"uint128"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pool","outputs":[{"internalType":"contract IUniswapV3Pool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint160","name":"swapThresholdPrice","type":"uint160"},{"internalType":"uint256","name":"swapAmountBPS","type":"uint256"},{"internalType":"bool","name":"zeroForOne","type":"bool"},{"internalType":"uint256","name":"feeAmount","type":"uint256"},{"internalType":"address","name":"paymentToken","type":"address"}],"name":"rebalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token0","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token1","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount0Owed","type":"uint256"},{"internalType":"uint256","name":"amount1Owed","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"uniswapV3MintCallback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"newRebalanceBPS","type":"uint16"},{"internalType":"uint16","name":"newWithdrawBPS","type":"uint16"},{"internalType":"uint16","name":"newSlippageBPS","type":"uint16"},{"internalType":"uint32","name":"newSlippageInterval","type":"uint32"},{"internalType":"address","name":"newTreasury","type":"address"}],"name":"updateGelatoParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"upperTick","outputs":[{"internalType":"int24","name":"","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"feeAmount","type":"uint256"},{"internalType":"address","name":"feeToken","type":"address"}],"name":"withdrawGelatoBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"feeAmount","type":"uint256"},{"internalType":"address","name":"feeToken","type":"address"}],"name":"withdrawManagerBalance","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),qt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"pendingBase","type":"uint256"},{"internalType":"uint256","name":"estimatedExchangeCost","type":"uint256"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"}],"name":"InsufficientFreeLiquidityForBaseExchange","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"beneficiary","type":"address"}],"name":"InvalidBeneficiaryAddress","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"lpParams","type":"tuple"}],"name":"InvalidLiquidityPoolParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"quoteToLock","type":"uint256"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"components":[{"internalType":"uint256","name":"quote","type":"uint256"},{"internalType":"uint256","name":"base","type":"uint256"}],"internalType":"struct LiquidityPool.Collateral","name":"lockedCollateral","type":"tuple"}],"name":"LockingMoreQuoteThanIsFree","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"},{"internalType":"uint256","name":"minDeposit","type":"uint256"}],"name":"MinimumDepositNotMet","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"amountLiquidityToken","type":"uint256"},{"internalType":"uint256","name":"minWithdraw","type":"uint256"}],"name":"MinimumWithdrawNotMet","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"}],"name":"NotEnoughFreeToReclaimInsolvency","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarket","type":"address"}],"name":"OnlyOptionMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"poolHedger","type":"address"}],"name":"OnlyPoolHedger","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"poolHedger","type":"address"}],"name":"OnlyShortCollateral","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"totalAssetCalue","type":"uint256"},{"internalType":"int256","name":"optionValue","type":"int256"}],"name":"OptionValueExceedsTotalAssets","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"QuoteTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"premium","type":"uint256"},{"internalType":"uint256","name":"reservedFee","type":"uint256"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"}],"name":"SendPremiumNotEnoughCollateral","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"baseFreed","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lockedCollateralBase","type":"uint256"}],"name":"BaseFreed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"baseLocked","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lockedCollateralBase","type":"uint256"}],"name":"BaseLocked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"quoteSpent","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseReceived","type":"uint256"}],"name":"BasePurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountBase","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"name":"BaseSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"insolventSettlementAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountQuoteReserved","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalOutstandingSettlements","type":"uint256"}],"name":"BoardSettlement","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newTimestamp","type":"uint256"}],"name":"BoardSettlementCircuitBreakerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"entryId","type":"uint256"},{"indexed":false,"internalType":"bool","name":"boardNotStale","type":"bool"},{"indexed":false,"internalType":"bool","name":"validEntry","type":"bool"},{"indexed":false,"internalType":"bool","name":"guardianBypass","type":"bool"},{"indexed":false,"internalType":"bool","name":"delaysExpired","type":"bool"}],"name":"CheckingCanProcess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newTimestamp","type":"uint256"},{"indexed":false,"internalType":"bool","name":"ivVarianceThresholdCrossed","type":"bool"},{"indexed":false,"internalType":"bool","name":"skewVarianceThresholdCrossed","type":"bool"},{"indexed":false,"internalType":"bool","name":"liquidityThresholdCrossed","type":"bool"}],"name":"CircuitBreakerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":true,"internalType":"uint256","name":"depositQueueId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountDeposited","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokensReceived","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"DepositProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"depositor","type":"address"},{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":true,"internalType":"uint256","name":"depositQueueId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountDeposited","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalQueuedDeposits","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"DepositQueued","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountQuoteAdded","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalInsolventSettlementAmount","type":"uint256"}],"name":"InsolventSettlementAmountUpdated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"indexed":false,"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"lpParams","type":"tuple"}],"name":"LiquidityPoolParametersUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalOutstandingSettlements","type":"uint256"}],"name":"OutstandingSettlementSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract PoolHedger","name":"poolHedger","type":"address"}],"name":"PoolHedgerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"recipientPortion","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"optionMarketPortion","type":"uint256"}],"name":"PremiumTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"quoteFreed","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lockedCollateralQuote","type":"uint256"}],"name":"QuoteFreed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"quoteLocked","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lockedCollateralQuote","type":"uint256"}],"name":"QuoteLocked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"QuoteTransferredToPoolHedger","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":true,"internalType":"uint256","name":"withdrawalQueueId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountWithdrawn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"quoteReceived","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"WithdrawPartiallyProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":true,"internalType":"uint256","name":"withdrawalQueueId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountWithdrawn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"quoteReceived","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"WithdrawProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"withdrawer","type":"address"},{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":true,"internalType":"uint256","name":"withdrawalQueueId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountWithdrawn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"WithdrawQueued","type":"event"},{"inputs":[],"name":"CBTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"insolventSettlements","type":"uint256"},{"internalType":"uint256","name":"amountQuoteFreed","type":"uint256"},{"internalType":"uint256","name":"amountQuoteReserved","type":"uint256"},{"internalType":"uint256","name":"amountBaseFreed","type":"uint256"}],"name":"boardSettlement","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"exchangeBase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountQuoteFreed","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"reservedFee","type":"uint256"}],"name":"freeQuoteCollateralAndSendPremium","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCurrentLiquidity","outputs":[{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"getLiquidity","outputs":[{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLpParams","outputs":[{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenPriceWithCheck","outputs":[{"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"internalType":"bool","name":"isStale","type":"bool"},{"internalType":"uint256","name":"circuitBreakerExpiry","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalPoolValueQuote","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalTokenSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract OptionMarket","name":"_optionMarket","type":"address"},{"internalType":"contract LiquidityToken","name":"_liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"_greekCache","type":"address"},{"internalType":"contract PoolHedger","name":"_poolHedger","type":"address"},{"internalType":"contract ShortCollateral","name":"_shortCollateral","type":"address"},{"internalType":"contract ERC20","name":"_quoteAsset","type":"address"},{"internalType":"contract ERC20","name":"_baseAsset","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"beneficiary","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"initiateDeposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"beneficiary","type":"address"},{"internalType":"uint256","name":"amountLiquidityToken","type":"uint256"}],"name":"initiateWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"insolventSettlementAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountBase","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"reservedFee","type":"uint256"}],"name":"liquidateBaseAndSendPremium","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"liquidationInsolventAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"}],"name":"lockBase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"}],"name":"lockQuote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockedCollateral","outputs":[{"internalType":"uint256","name":"quote","type":"uint256"},{"internalType":"uint256","name":"base","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lpParams","outputs":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextQueuedDepositId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextQueuedWithdrawalId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolHedger","outputs":[{"internalType":"contract PoolHedger","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"processDepositQueue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"processWithdrawalQueue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"queuedDepositHead","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"queuedDeposits","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"beneficiary","type":"address"},{"internalType":"uint256","name":"amountLiquidity","type":"uint256"},{"internalType":"uint256","name":"mintedTokens","type":"uint256"},{"internalType":"uint256","name":"depositInitiatedTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"queuedWithdrawalHead","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"queuedWithdrawals","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"beneficiary","type":"address"},{"internalType":"uint256","name":"amountTokens","type":"uint256"},{"internalType":"uint256","name":"quoteSent","type":"uint256"},{"internalType":"uint256","name":"withdrawInitiatedTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"uint256","name":"amountBase","type":"uint256"}],"name":"reclaimInsolventBase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"reclaimInsolventQuote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sendSettlementValue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"premium","type":"uint256"},{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"reservedFee","type":"uint256"}],"name":"sendShortPremium","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"_lpParams","type":"tuple"}],"name":"setLiquidityPoolParameters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract PoolHedger","name":"newPoolHedger","type":"address"}],"name":"setPoolHedger","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalOutstandingSettlements","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalQueuedDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalQueuedWithdrawals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferQuoteToHedge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateCBs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateDelegateApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"insolvencyAmountInQuote","type":"uint256"}],"name":"updateLiquidationInsolvency","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Vt=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"liquidityPool","type":"address"}],"name":"OnlyLiquidityPool","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract ILiquidityTracker","name":"liquidityTracker","type":"address"}],"name":"LiquidityTrackerSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_liquidityPool","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"liquidityPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"liquidityTracker","outputs":[{"internalType":"contract ILiquidityTracker","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract ILiquidityTracker","name":"_liquidityTracker","type":"address"}],"name":"setLiquidityTracker","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),Bt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"bytes32","name":"contractName","type":"bytes32"}],"name":"NonExistentGlobalContract","type":"error"},{"inputs":[{"internalType":"address","name":"optionMarket","type":"address"}],"name":"NonExistentMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"market","type":"address"}],"name":"RemovingInvalidMarket","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"name","type":"bytes32"},{"indexed":false,"internalType":"address","name":"addr","type":"address"}],"name":"GlobalAddressUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"MarketRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract GWAVOracle","name":"gwavOracle","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"indexed":false,"internalType":"struct LyraRegistry.OptionMarketAddresses","name":"market","type":"tuple"}],"name":"MarketUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract GWAVOracle","name":"gwavOracle","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct LyraRegistry.OptionMarketAddresses","name":"newMarketAddresses","type":"tuple"}],"name":"addMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"contractName","type":"bytes32"}],"name":"getGlobalAddress","outputs":[{"internalType":"address","name":"globalContract","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"}],"name":"getMarketAddresses","outputs":[{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract GWAVOracle","name":"gwavOracle","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct LyraRegistry.OptionMarketAddresses","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"globalAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"name":"marketAddresses","outputs":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract GWAVOracle","name":"gwavOracle","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"optionMarkets","outputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"removeMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32[]","name":"names","type":"bytes32[]"},{"internalType":"address[]","name":"addresses","type":"address[]"}],"name":"updateGlobalAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Ft=JSON.parse('[{"inputs":[{"internalType":"contract IERC20","name":"stakedToken","type":"address"},{"internalType":"contract IERC20","name":"rewardToken","type":"address"},{"internalType":"uint256","name":"cooldownSeconds","type":"uint256"},{"internalType":"uint256","name":"unstakeWindow","type":"uint256"},{"internalType":"address","name":"rewardsVault","type":"address"},{"internalType":"address","name":"emissionManager","type":"address"},{"internalType":"uint128","name":"distributionDuration","type":"uint128"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":false,"internalType":"uint256","name":"emission","type":"uint256"}],"name":"AssetConfigUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":false,"internalType":"uint256","name":"index","type":"uint256"}],"name":"AssetIndexUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"}],"name":"Cooldown","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"balance","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cooldownTimestamp","type":"uint256"}],"name":"CooldownUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"delegator","type":"address"},{"indexed":true,"internalType":"address","name":"delegatee","type":"address"},{"indexed":false,"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"DelegateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"DelegatedPowerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Redeem","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsAccrued","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"onBehalfOf","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":false,"internalType":"uint256","name":"index","type":"uint256"}],"name":"UserIndexUpdated","type":"event"},{"inputs":[],"name":"COOLDOWN_SECONDS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DELEGATE_BY_TYPE_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DELEGATE_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DISTRIBUTION_END","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"EIP712_REVISION","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"EMISSION_MANAGER","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PRECISION","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REVISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REWARDS_VAULT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REWARD_TOKEN","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"STAKED_TOKEN","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"UNSTAKE_WINDOW","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_aaveGovernance","outputs":[{"internalType":"contract ITransferHook","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"_nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"_votingSnapshots","outputs":[{"internalType":"uint128","name":"blockNumber","type":"uint128"},{"internalType":"uint128","name":"value","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"_votingSnapshotsCounts","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"assets","outputs":[{"internalType":"uint128","name":"emissionPerSecond","type":"uint128"},{"internalType":"uint128","name":"lastUpdateTimestamp","type":"uint128"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint128","name":"emissionPerSecond","type":"uint128"},{"internalType":"uint256","name":"totalStaked","type":"uint256"},{"internalType":"address","name":"underlyingAsset","type":"address"}],"internalType":"struct DistributionTypes.AssetConfigInput[]","name":"assetsConfigInput","type":"tuple[]"}],"name":"configureAssets","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cooldown","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"}],"name":"delegate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"delegateBySig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"},{"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"delegateByType","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"},{"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"delegateByTypeBySig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegator","type":"address"},{"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"getDelegateeByType","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"fromCooldownTimestamp","type":"uint256"},{"internalType":"uint256","name":"amountToReceive","type":"uint256"},{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"toBalance","type":"uint256"}],"name":"getNextCooldownTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"getPowerAtBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"enum IGovernancePowerDelegationToken.DelegationType","name":"delegationType","type":"uint8"}],"name":"getPowerCurrent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"getTotalRewardsBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"asset","type":"address"}],"name":"getUserAssetData","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"redeem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"onBehalfOf","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakerRewardsToClaim","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakersCooldowns","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"totalSupplyAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),Lt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC20","name":"rewardToken","type":"address"},{"indexed":true,"internalType":"address","name":"claimer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"epochTimestamp","type":"uint256"},{"indexed":false,"internalType":"string","name":"tag","type":"string"}],"name":"ClaimAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC20","name":"rewardToken","type":"address"},{"indexed":true,"internalType":"address","name":"claimer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ClaimRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC20","name":"rewardToken","type":"address"},{"indexed":true,"internalType":"address","name":"claimer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct MultiDistributor.UserTokenAmounts[]","name":"claimsToAdd","type":"tuple[]"},{"internalType":"uint256","name":"epochTimestamp","type":"uint256"},{"internalType":"string","name":"tag","type":"string"}],"name":"addToClaims","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20[]","name":"tokens","type":"address[]"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"contract IERC20","name":"","type":"address"}],"name":"claimableBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"contract IERC20[]","name":"tokens","type":"address[]"}],"name":"getClaimableForAddresses","outputs":[{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct MultiDistributor.UserTokenAmounts[]","name":"claimed","type":"tuple[]"},{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct MultiDistributor.UserTokenAmounts[]","name":"claimable","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"contract IERC20[]","name":"tokens","type":"address[]"}],"name":"removeClaims","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"contract IERC20","name":"","type":"address"}],"name":"totalClaimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Dt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"newStrikesLength","type":"uint256"},{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"}],"name":"BoardStrikeLimitExceeded","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"currentTimestamp","type":"uint256"}],"name":"CannotUpdateExpiredBoard","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"uint256","name":"lastObservedTimestamp","type":"uint256"}],"name":"InvalidBlockTimestamp","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"InvalidBoardId","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"forceCloseParams","type":"tuple"}],"name":"InvalidForceCloseParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"greekCacheParams","type":"tuple"}],"name":"InvalidGreekCacheParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"minCollatParams","type":"tuple"}],"name":"InvalidMinCollatParams","type":"error"},{"inputs":[],"name":"LnNegativeUndefined","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarket","type":"address"}],"name":"OnlyOptionMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarketPricer","type":"address"}],"name":"OnlyOptionMarketPricer","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[],"name":"Overflow","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"BoardCacheRemoved","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256[]","name":"strikes","type":"uint256[]"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxSkewVariance","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"}],"indexed":false,"internalType":"struct OptionGreekCache.OptionBoardCache","name":"boardCache","type":"tuple"}],"name":"BoardCacheUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newIv","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"globalMaxIvVariance","type":"uint256"}],"name":"BoardIvUpdated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"indexed":false,"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"params","type":"tuple"}],"name":"ForceCloseParametersSet","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"minUpdatedAt","type":"uint256"},{"internalType":"uint256","name":"minUpdatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxUpdatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxSkewVariance","type":"uint256"},{"internalType":"uint256","name":"maxIvVariance","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"}],"indexed":false,"internalType":"struct OptionGreekCache.GlobalCache","name":"globalCache","type":"tuple"}],"name":"GlobalCacheUpdated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"indexed":false,"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"params","type":"tuple"}],"name":"GreekCacheParametersSet","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"indexed":false,"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"params","type":"tuple"}],"name":"MinCollateralParametersSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"StrikeCacheRemoved","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"greeks","type":"tuple"},{"internalType":"int256","name":"callExposure","type":"int256"},{"internalType":"int256","name":"putExposure","type":"int256"},{"internalType":"uint256","name":"skewVariance","type":"uint256"}],"indexed":false,"internalType":"struct OptionGreekCache.StrikeCache","name":"strikeCache","type":"tuple"}],"name":"StrikeCacheUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"strikeId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newSkew","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"globalMaxSkewVariance","type":"uint256"}],"name":"StrikeSkewUpdated","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"uint256[]","name":"strikeIds","type":"uint256[]"}],"internalType":"struct OptionMarket.OptionBoard","name":"board","type":"tuple"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike[]","name":"strikes","type":"tuple[]"}],"name":"addBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"name":"addStrikeToBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getBoardGreeksView","outputs":[{"components":[{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"boardGreeks","type":"tuple"},{"internalType":"uint256","name":"ivGWAV","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks[]","name":"strikeGreeks","type":"tuple[]"},{"internalType":"uint256[]","name":"skewGWAVs","type":"uint256[]"}],"internalType":"struct OptionGreekCache.BoardGreeksView","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getForceCloseParams","outputs":[{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGlobalCache","outputs":[{"components":[{"internalType":"uint256","name":"minUpdatedAt","type":"uint256"},{"internalType":"uint256","name":"minUpdatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxUpdatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxSkewVariance","type":"uint256"},{"internalType":"uint256","name":"maxIvVariance","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"}],"internalType":"struct OptionGreekCache.GlobalCache","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGlobalNetDelta","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGlobalOptionValue","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGreekCacheParams","outputs":[{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"secondsAgo","type":"uint256"}],"name":"getIvGWAV","outputs":[{"internalType":"uint256","name":"ivGWAV","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMinCollatParams","outputs":[{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getMinCollateral","outputs":[{"internalType":"uint256","name":"minCollateral","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getOptionBoardCache","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256[]","name":"strikes","type":"uint256[]"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAtPrice","type":"uint256"},{"internalType":"uint256","name":"maxSkewVariance","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"}],"internalType":"struct OptionGreekCache.OptionBoardCache","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike","name":"strike","type":"tuple"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"newVol","type":"uint256"},{"internalType":"bool","name":"isPostCutoff","type":"bool"}],"name":"getPriceForForceClose","outputs":[{"internalType":"uint256","name":"optionPrice","type":"uint256"},{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"uint256","name":"forceCloseVol","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"timeToMaturity","type":"uint256"}],"name":"getShockVol","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"secondsAgo","type":"uint256"}],"name":"getSkewGWAV","outputs":[{"internalType":"uint256","name":"skewGWAV","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getStrikeCache","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"greeks","type":"tuple"},{"internalType":"int256","name":"callExposure","type":"int256"},{"internalType":"int256","name":"putExposure","type":"int256"},{"internalType":"uint256","name":"skewVariance","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeCache","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract OptionMarket","name":"_optionMarket","type":"address"},{"internalType":"address","name":"_optionMarketPricer","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"isBoardCacheStale","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"isGlobalCacheStale","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"removeBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"newBaseIv","type":"uint256"}],"name":"setBoardIv","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"_forceCloseParams","type":"tuple"}],"name":"setForceCloseParameters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"_greekCacheParams","type":"tuple"}],"name":"setGreekCacheParameters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"_minCollatParams","type":"tuple"}],"name":"setMinCollateralParameters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"name":"setStrikeSkew","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"updateBoardCachedGreeks","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike","name":"strike","type":"tuple"},{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"internalType":"uint256","name":"iv","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"bool","name":"isPostCutoff","type":"bool"}],"name":"updateStrikeExposureAndGetPrice","outputs":[{"components":[{"internalType":"uint256","name":"optionPrice","type":"uint256"},{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"}],"internalType":"struct OptionGreekCache.TradePricing","name":"pricing","type":"tuple"}],"stateMutability":"nonpayable","type":"function"}]'),Rt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BaseTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"BoardAlreadySettled","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"boardExpiry","type":"uint256"},{"internalType":"uint256","name":"currentTime","type":"uint256"}],"name":"BoardExpired","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"BoardIsFrozen","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"BoardNotExpired","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"BoardNotFrozen","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"enum OptionMarket.NonZeroValues","name":"valueType","type":"uint8"}],"name":"ExpectedNonZeroValue","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"InvalidBoardId","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"currentTime","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"}],"name":"InvalidExpiryTimestamp","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"optionMarketParams","type":"tuple"}],"name":"InvalidOptionMarketParams","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"InvalidStrikeId","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"securityModule","type":"address"}],"name":"OnlySecurityModule","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"QuoteTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"strikesLength","type":"uint256"},{"internalType":"uint256","name":"skewsLength","type":"uint256"}],"name":"StrikeSkewLengthMismatch","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"minCost","type":"uint256"},{"internalType":"uint256","name":"maxCost","type":"uint256"}],"name":"TotalCostOutsideOfSpecifiedBounds","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"uint256","name":"expectedAmount","type":"uint256"},{"internalType":"uint256","name":"tradeAmount","type":"uint256"},{"internalType":"uint256","name":"totalAmount","type":"uint256"}],"name":"TradeIterationsHasRemainder","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseIv","type":"uint256"}],"name":"BoardBaseIvSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expiry","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseIv","type":"uint256"},{"indexed":false,"internalType":"bool","name":"frozen","type":"bool"}],"name":"BoardCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":false,"internalType":"bool","name":"frozen","type":"bool"}],"name":"BoardFrozen","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"spotPriceAtExpiry","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalUserLongProfitQuote","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalBoardLongCallCollateral","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalBoardLongPutCollateral","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAMMShortCallProfitBase","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAMMShortCallProfitQuote","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAMMShortPutProfitQuote","type":"uint256"}],"name":"BoardSettled","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarket.OptionMarketParameters","name":"optionMarketParams","type":"tuple"}],"name":"OptionMarketParamsSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"securityModule","type":"address"},{"indexed":false,"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseAmount","type":"uint256"}],"name":"SMClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"boardId","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"strikeId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"strikePrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"skew","type":"uint256"}],"name":"StrikeAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"strikeId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"skew","type":"uint256"}],"name":"StrikeSkewSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"trader","type":"address"},{"indexed":true,"internalType":"uint256","name":"strikeId","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"components":[{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"uint256","name":"reservedFee","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarket.TradeEventData","name":"trade","type":"tuple"},{"components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"premium","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee","type":"uint256"},{"components":[{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"uint256","name":"vegaUtil","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"},{"internalType":"uint256","name":"vegaUtilFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VegaUtilFeeComponents","name":"vegaUtilFee","type":"tuple"},{"components":[{"internalType":"uint256","name":"varianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"skewCoefficient","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"varianceFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeComponents","name":"varianceFee","type":"tuple"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"newBaseIv","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarketPricer.TradeResult[]","name":"tradeResults","type":"tuple[]"},{"components":[{"internalType":"address","name":"rewardBeneficiary","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint256","name":"returnCollateral","type":"uint256"},{"internalType":"uint256","name":"lpPremiums","type":"uint256"},{"internalType":"uint256","name":"lpFee","type":"uint256"},{"internalType":"uint256","name":"liquidatorFee","type":"uint256"},{"internalType":"uint256","name":"smFee","type":"uint256"},{"internalType":"uint256","name":"insolventAmount","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarket.LiquidationEventData","name":"liquidation","type":"tuple"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"Trade","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"amountCollateral","type":"uint256"}],"name":"addCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"name":"addStrikeToBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"boardToPriceAtExpiry","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"minTotalCost","type":"uint256"},{"internalType":"uint256","name":"maxTotalCost","type":"uint256"}],"internalType":"struct OptionMarket.TradeInputParameters","name":"params","type":"tuple"}],"name":"closePosition","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"}],"internalType":"struct OptionMarket.Result","name":"result","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIV","type":"uint256"},{"internalType":"uint256[]","name":"strikePrices","type":"uint256[]"},{"internalType":"uint256[]","name":"skews","type":"uint256[]"},{"internalType":"bool","name":"frozen","type":"bool"}],"name":"createOptionBoard","outputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"minTotalCost","type":"uint256"},{"internalType":"uint256","name":"maxTotalCost","type":"uint256"}],"internalType":"struct OptionMarket.TradeInputParameters","name":"params","type":"tuple"}],"name":"forceClosePosition","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"}],"internalType":"struct OptionMarket.Result","name":"result","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"forceSettleBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getBoardAndStrikeDetails","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"uint256[]","name":"strikeIds","type":"uint256[]"}],"internalType":"struct OptionMarket.OptionBoard","name":"","type":"tuple"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike[]","name":"","type":"tuple[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getBoardStrikes","outputs":[{"internalType":"uint256[]","name":"strikeIds","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLiveBoards","outputs":[{"internalType":"uint256[]","name":"_liveBoards","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNumLiveBoards","outputs":[{"internalType":"uint256","name":"numLiveBoards","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getOptionBoard","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"uint256[]","name":"strikeIds","type":"uint256[]"}],"internalType":"struct OptionMarket.OptionBoard","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOptionMarketParams","outputs":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getSettlementParameters","outputs":[{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"uint256","name":"strikeToBaseReturned","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getStrike","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getStrikeAndBoard","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike","name":"","type":"tuple"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"iv","type":"uint256"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"uint256[]","name":"strikeIds","type":"uint256[]"}],"internalType":"struct OptionMarket.OptionBoard","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getStrikeAndExpiry","outputs":[{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract LiquidityPool","name":"_liquidityPool","type":"address"},{"internalType":"contract OptionMarketPricer","name":"_optionPricer","type":"address"},{"internalType":"contract OptionGreekCache","name":"_greekCache","type":"address"},{"internalType":"contract ShortCollateral","name":"_shortCollateral","type":"address"},{"internalType":"contract OptionToken","name":"_optionToken","type":"address"},{"internalType":"contract IERC20","name":"_quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"_baseAsset","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"rewardBeneficiary","type":"address"}],"name":"liquidatePosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"minTotalCost","type":"uint256"},{"internalType":"uint256","name":"maxTotalCost","type":"uint256"}],"internalType":"struct OptionMarket.TradeInputParameters","name":"params","type":"tuple"}],"name":"openPosition","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"}],"internalType":"struct OptionMarket.Result","name":"result","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"}],"name":"setBoardBaseIv","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"bool","name":"frozen","type":"bool"}],"name":"setBoardFrozen","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"_optionMarketParams","type":"tuple"}],"name":"setOptionMarketParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"name":"setStrikeSkew","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"settleExpiredBoard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"smClaim","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Et=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"int256","name":"strikeCallDelta","type":"int256"},{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"maxDelta","type":"int256"}],"name":"ForceCloseDeltaOutOfRange","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"uint256","name":"newSkew","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"}],"name":"ForceCloseSkewOutOfRange","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParams","type":"tuple"}],"name":"InvalidPricingParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParams","type":"tuple"}],"name":"InvalidTradeLimitParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarket","type":"address"}],"name":"OnlyOptionMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"int256","name":"strikeCallDelta","type":"int256"},{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"maxDelta","type":"int256"}],"name":"TradeDeltaOutOfRange","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"boardExpiry","type":"uint256"},{"internalType":"uint256","name":"currentTime","type":"uint256"}],"name":"TradingCutoffReached","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"bool","name":"isBuy","type":"bool"},{"components":[{"internalType":"uint256","name":"vol","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"internalType":"struct OptionMarketPricer.VolComponents","name":"currentVol","type":"tuple"},{"components":[{"internalType":"uint256","name":"vol","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"internalType":"struct OptionMarketPricer.VolComponents","name":"newVol","type":"tuple"},{"components":[{"internalType":"uint256","name":"vol","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"}],"internalType":"struct OptionMarketPricer.VolComponents","name":"tradeBounds","type":"tuple"}],"name":"VolSkewOrBaseIvOutsideOfTradingBounds","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParams","type":"tuple"}],"name":"PricingParametersSet","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"indexed":false,"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParams","type":"tuple"}],"name":"TradeLimitParametersSet","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"indexed":false,"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"varianceFeeParams","type":"tuple"}],"name":"VarianceFeeParametersSet","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getPricingParams","outputs":[{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParameters","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"pointA","type":"uint256"},{"internalType":"uint256","name":"pointB","type":"uint256"},{"internalType":"uint256","name":"coefficient","type":"uint256"}],"name":"getTimeWeightedFee","outputs":[{"internalType":"uint256","name":"timeWeightedFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTradeLimitParams","outputs":[{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParameters","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPrice","type":"uint256"},{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"}],"internalType":"struct OptionGreekCache.TradePricing","name":"pricing","type":"tuple"},{"internalType":"uint256","name":"newBaseIv","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"name":"getTradeResult","outputs":[{"components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"premium","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee","type":"uint256"},{"components":[{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"uint256","name":"vegaUtil","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"},{"internalType":"uint256","name":"vegaUtilFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VegaUtilFeeComponents","name":"vegaUtilFee","type":"tuple"},{"components":[{"internalType":"uint256","name":"varianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"skewCoefficient","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"varianceFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeComponents","name":"varianceFee","type":"tuple"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"newBaseIv","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"internalType":"struct OptionMarketPricer.TradeResult","name":"tradeResult","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPrice","type":"uint256"},{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"}],"internalType":"struct OptionGreekCache.TradePricing","name":"pricing","type":"tuple"},{"internalType":"uint256","name":"skew","type":"uint256"}],"name":"getVarianceFee","outputs":[{"components":[{"internalType":"uint256","name":"varianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"skewCoefficient","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"varianceFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeComponents","name":"varianceFeeComponents","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getVarianceFeeParams","outputs":[{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"varianceFeeParameters","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPrice","type":"uint256"},{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"}],"internalType":"struct OptionGreekCache.TradePricing","name":"pricing","type":"tuple"}],"name":"getVegaUtilFee","outputs":[{"components":[{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"uint256","name":"vegaUtil","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"},{"internalType":"uint256","name":"vegaUtilFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VegaUtilFeeComponents","name":"vegaUtilFeeComponents","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_optionMarket","type":"address"},{"internalType":"contract OptionGreekCache","name":"_greekCache","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"internalType":"uint256","name":"boardBaseIv","type":"uint256"},{"internalType":"uint256","name":"strikeSkew","type":"uint256"}],"name":"ivImpactForTrade","outputs":[{"internalType":"uint256","name":"newBaseIv","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pricingParams","outputs":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"_pricingParams","type":"tuple"}],"name":"setPricingParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"_tradeLimitParams","type":"tuple"}],"name":"setTradeLimitParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"_varianceFeeParams","type":"tuple"}],"name":"setVarianceFeeParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tradeLimitParams","outputs":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"longCall","type":"uint256"},{"internalType":"uint256","name":"shortCallBase","type":"uint256"},{"internalType":"uint256","name":"shortCallQuote","type":"uint256"},{"internalType":"uint256","name":"longPut","type":"uint256"},{"internalType":"uint256","name":"shortPut","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"internalType":"struct OptionMarket.Strike","name":"strike","type":"tuple"},{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"internalType":"uint256","name":"boardBaseIv","type":"uint256"},{"internalType":"uint256","name":"boardExpiry","type":"uint256"}],"name":"updateCacheAndGetTradeResult","outputs":[{"components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"premium","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee","type":"uint256"},{"components":[{"internalType":"int256","name":"preTradeAmmNetStdVega","type":"int256"},{"internalType":"int256","name":"postTradeAmmNetStdVega","type":"int256"},{"internalType":"uint256","name":"vegaUtil","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"},{"internalType":"uint256","name":"vegaUtilFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VegaUtilFeeComponents","name":"vegaUtilFee","type":"tuple"},{"components":[{"internalType":"uint256","name":"varianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"vega","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"skewCoefficient","type":"uint256"},{"internalType":"uint256","name":"ivVariance","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"varianceFee","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeComponents","name":"varianceFee","type":"tuple"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"volTraded","type":"uint256"},{"internalType":"uint256","name":"newBaseIv","type":"uint256"},{"internalType":"uint256","name":"newSkew","type":"uint256"}],"internalType":"struct OptionMarketPricer.TradeResult","name":"tradeResult","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"varianceFeeParams","outputs":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"stateMutability":"view","type":"function"}]'),Nt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"market","type":"address"}],"name":"RemovingInvalidMarket","type":"error"},{"anonymous":false,"inputs":[{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"indexed":false,"internalType":"struct OptionMarketViewer.OptionMarketAddresses","name":"market","type":"tuple"}],"name":"MarketAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"MarketRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct OptionMarketViewer.OptionMarketAddresses","name":"newMarketAddresses","type":"tuple"}],"name":"addMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getBoard","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"boardId","type":"uint256"}],"name":"getBoardForBaseKey","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"getBoardForStrikeId","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket[]","name":"markets","type":"address[]"},{"internalType":"address","name":"account","type":"address"}],"name":"getLiquidityBalancesAndAllowances","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"}],"internalType":"struct OptionMarketViewer.LiquidityBalanceAndAllowance[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"getLiveBoards","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView[]","name":"marketBoards","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"getMarket","outputs":[{"components":[{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"totalQueuedDeposits","type":"uint256"},{"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct OptionMarketViewer.OptionMarketAddresses","name":"marketAddresses","type":"tuple"},{"components":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"optionMarketParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"lpParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"greekCacheParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"forceCloseParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"minCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParams","type":"tuple"},{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"varianceFeeParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"partialCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"poolHedgerParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketParameters","name":"marketParameters","type":"tuple"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"globalNetGreeks","type":"tuple"},{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView[]","name":"liveBoards","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketViewWithBoards","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMarketAddresses","outputs":[{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct OptionMarketViewer.OptionMarketAddresses[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"baseKey","type":"bytes32"}],"name":"getMarketForBaseKey","outputs":[{"components":[{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"totalQueuedDeposits","type":"uint256"},{"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct OptionMarketViewer.OptionMarketAddresses","name":"marketAddresses","type":"tuple"},{"components":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"optionMarketParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"lpParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"greekCacheParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"forceCloseParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"minCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParams","type":"tuple"},{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"varianceFeeParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"partialCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"poolHedgerParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketParameters","name":"marketParameters","type":"tuple"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"globalNetGreeks","type":"tuple"},{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"baseIv","type":"uint256"},{"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"forceCloseGwavIV","type":"uint256"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"netGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"boardId","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"skew","type":"uint256"},{"internalType":"uint256","name":"forceCloseSkew","type":"uint256"},{"components":[{"internalType":"int256","name":"callDelta","type":"int256"},{"internalType":"int256","name":"putDelta","type":"int256"},{"internalType":"uint256","name":"stdVega","type":"uint256"},{"internalType":"uint256","name":"callPrice","type":"uint256"},{"internalType":"uint256","name":"putPrice","type":"uint256"}],"internalType":"struct OptionGreekCache.StrikeGreeks","name":"cachedGreeks","type":"tuple"},{"internalType":"uint256","name":"baseReturnedRatio","type":"uint256"},{"internalType":"uint256","name":"longCallOpenInterest","type":"uint256"},{"internalType":"uint256","name":"longPutOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallBaseOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortCallQuoteOpenInterest","type":"uint256"},{"internalType":"uint256","name":"shortPutOpenInterest","type":"uint256"}],"internalType":"struct OptionMarketViewer.StrikeView[]","name":"strikes","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.BoardView[]","name":"liveBoards","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketViewWithBoards","name":"market","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket[]","name":"markets","type":"address[]"}],"name":"getMarkets","outputs":[{"components":[{"internalType":"contract IAddressResolver","name":"addressResolver","type":"address"},{"internalType":"bool","name":"isPaused","type":"bool"},{"components":[{"internalType":"bool","name":"isPaused","type":"bool"},{"internalType":"uint256","name":"totalQueuedDeposits","type":"uint256"},{"internalType":"uint256","name":"totalQueuedWithdrawals","type":"uint256"},{"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"components":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"internalType":"struct OptionMarketViewer.OptionMarketAddresses","name":"marketAddresses","type":"tuple"},{"components":[{"components":[{"internalType":"uint256","name":"maxBoardExpiry","type":"uint256"},{"internalType":"address","name":"securityModule","type":"address"},{"internalType":"uint256","name":"feePortionReserved","type":"uint256"},{"internalType":"uint256","name":"staticBaseSettlementFee","type":"uint256"}],"internalType":"struct OptionMarket.OptionMarketParameters","name":"optionMarketParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minDepositWithdraw","type":"uint256"},{"internalType":"uint256","name":"depositDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalDelay","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"liquidityCBThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidityCBTimeout","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBThreshold","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCBTimeout","type":"uint256"},{"internalType":"uint256","name":"skewVarianceCBTimeout","type":"uint256"},{"internalType":"address","name":"guardianMultisig","type":"address"},{"internalType":"uint256","name":"guardianDelay","type":"uint256"},{"internalType":"uint256","name":"boardSettlementCBTimeout","type":"uint256"},{"internalType":"uint256","name":"maxFeePaid","type":"uint256"}],"internalType":"struct LiquidityPool.LiquidityPoolParameters","name":"lpParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"maxStrikesPerBoard","type":"uint256"},{"internalType":"uint256","name":"acceptableSpotPricePercentMove","type":"uint256"},{"internalType":"uint256","name":"staleUpdateDuration","type":"uint256"},{"internalType":"uint256","name":"varianceIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"varianceSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueIvGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"optionValueSkewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"gwavSkewFloor","type":"uint256"},{"internalType":"uint256","name":"gwavSkewCap","type":"uint256"},{"internalType":"int256","name":"rateAndCarry","type":"int256"}],"internalType":"struct OptionGreekCache.GreekCacheParameters","name":"greekCacheParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"ivGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"skewGWAVPeriod","type":"uint256"},{"internalType":"uint256","name":"shortVolShock","type":"uint256"},{"internalType":"uint256","name":"shortPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"longVolShock","type":"uint256"},{"internalType":"uint256","name":"longPostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidateVolShock","type":"uint256"},{"internalType":"uint256","name":"liquidatePostCutoffVolShock","type":"uint256"},{"internalType":"uint256","name":"shortSpotMin","type":"uint256"},{"internalType":"uint256","name":"liquidateSpotMin","type":"uint256"}],"internalType":"struct OptionGreekCache.ForceCloseParameters","name":"forceCloseParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"minStaticQuoteCollateral","type":"uint256"},{"internalType":"uint256","name":"minStaticBaseCollateral","type":"uint256"},{"internalType":"uint256","name":"shockVolA","type":"uint256"},{"internalType":"uint256","name":"shockVolPointA","type":"uint256"},{"internalType":"uint256","name":"shockVolB","type":"uint256"},{"internalType":"uint256","name":"shockVolPointB","type":"uint256"},{"internalType":"uint256","name":"callSpotPriceShock","type":"uint256"},{"internalType":"uint256","name":"putSpotPriceShock","type":"uint256"}],"internalType":"struct OptionGreekCache.MinCollateralParameters","name":"minCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"optionPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"optionPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee1xPoint","type":"uint256"},{"internalType":"uint256","name":"spotPriceFee2xPoint","type":"uint256"},{"internalType":"uint256","name":"vegaFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"standardSize","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentFactor","type":"uint256"}],"internalType":"struct OptionMarketPricer.PricingParameters","name":"pricingParams","type":"tuple"},{"components":[{"internalType":"int256","name":"minDelta","type":"int256"},{"internalType":"int256","name":"minForceCloseDelta","type":"int256"},{"internalType":"uint256","name":"tradingCutoff","type":"uint256"},{"internalType":"uint256","name":"minBaseIV","type":"uint256"},{"internalType":"uint256","name":"maxBaseIV","type":"uint256"},{"internalType":"uint256","name":"minSkew","type":"uint256"},{"internalType":"uint256","name":"maxSkew","type":"uint256"},{"internalType":"uint256","name":"minVol","type":"uint256"},{"internalType":"uint256","name":"maxVol","type":"uint256"},{"internalType":"uint256","name":"absMinSkew","type":"uint256"},{"internalType":"uint256","name":"absMaxSkew","type":"uint256"},{"internalType":"bool","name":"capSkewsToAbs","type":"bool"}],"internalType":"struct OptionMarketPricer.TradeLimitParameters","name":"tradeLimitParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"defaultVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"forceCloseVarianceFeeCoefficient","type":"uint256"},{"internalType":"uint256","name":"skewAdjustmentCoefficient","type":"uint256"},{"internalType":"uint256","name":"referenceSkew","type":"uint256"},{"internalType":"uint256","name":"minimumStaticSkewAdjustment","type":"uint256"},{"internalType":"uint256","name":"vegaCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticVega","type":"uint256"},{"internalType":"uint256","name":"ivVarianceCoefficient","type":"uint256"},{"internalType":"uint256","name":"minimumStaticIvVariance","type":"uint256"}],"internalType":"struct OptionMarketPricer.VarianceFeeParameters","name":"varianceFeeParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"partialCollatParams","type":"tuple"},{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"poolHedgerParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketParameters","name":"marketParameters","type":"tuple"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"int256","name":"netDelta","type":"int256"},{"internalType":"int256","name":"netStdVega","type":"int256"},{"internalType":"int256","name":"netOptionValue","type":"int256"}],"internalType":"struct OptionGreekCache.NetGreeks","name":"globalNetGreeks","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarketViewer.MarketView[]","name":"markets","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.MarketsView","name":"marketsView","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getOwnerPositions","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition[]","name":"positions","type":"tuple[]"}],"internalType":"struct OptionMarketViewer.MarketOptionPositions[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"},{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getOwnerPositionsInRange","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"initialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"name":"marketAddresses","outputs":[{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"},{"internalType":"contract OptionGreekCache","name":"greekCache","type":"address"},{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"contract OptionMarketPricer","name":"optionMarketPricer","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract ShortCollateral","name":"shortCollateral","type":"address"},{"internalType":"contract PoolHedger","name":"poolHedger","type":"address"},{"internalType":"contract IERC20","name":"quoteAsset","type":"address"},{"internalType":"contract IERC20","name":"baseAsset","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"optionMarkets","outputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"market","type":"address"}],"name":"removeMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"synthetixAdapter","outputs":[{"internalType":"contract SynthetixAdapter","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'),_t=JSON.parse('[{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"contract ERC20","name":"asset","type":"address"},{"internalType":"address","name":"approving","type":"address"},{"internalType":"uint256","name":"approvalAmount","type":"uint256"}],"name":"ApprovalFailure","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"contract ERC20","name":"asset","type":"address"},{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"AssetTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint8","name":"id","type":"uint8"},{"internalType":"address","name":"addr","type":"address"}],"name":"DuplicateEntry","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"}],"name":"OnlyShorts","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint8","name":"id","type":"uint8"}],"name":"RemovingInvalidId","type":"error"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"UnsupportedToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isOpen","type":"bool"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":true,"internalType":"address","name":"market","type":"address"},{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalCost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalFee","type":"uint256"},{"indexed":false,"internalType":"int256","name":"swapFee","type":"int256"},{"indexed":false,"internalType":"address","name":"token","type":"address"}],"name":"PositionTraded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newCollateral","type":"uint256"}],"name":"SetCollateralTo","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract ICurve","name":"curveSwap","type":"address"},{"indexed":false,"internalType":"contract SynthetixAdapter","name":"synthetixAdapter","type":"address"},{"indexed":false,"internalType":"contract IFeeCounter","name":"tradingRewards","type":"address"},{"indexed":false,"internalType":"uint256","name":"minReturnPercent","type":"uint256"}],"name":"WrapperParamsUpdated","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract ERC20","name":"token","type":"address"},{"internalType":"uint8","name":"id","type":"uint8"}],"name":"addCurveStable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"addLong","outputs":[{"internalType":"uint256","name":"totalCost","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"uint8","name":"id","type":"uint8"},{"components":[{"internalType":"contract ERC20","name":"quoteAsset","type":"address"},{"internalType":"contract ERC20","name":"baseAsset","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.OptionMarketContracts","name":"_marketContracts","type":"tuple"}],"name":"addMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"addShort","outputs":[{"internalType":"uint256","name":"totalReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"closeLong","outputs":[{"internalType":"uint256","name":"totalReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"currentCollateral","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minCost","type":"uint256"},{"internalType":"uint256","name":"maxCost","type":"uint256"},{"internalType":"uint256","name":"inputAmount","type":"uint256"},{"internalType":"contract ERC20","name":"inputAsset","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.OptionPositionParams","name":"params","type":"tuple"}],"name":"closePosition","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"int256","name":"swapFee","type":"int256"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.ReturnDetails","name":"returnDetails","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"closeShort","outputs":[{"internalType":"uint256","name":"totalCost","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"curveSwap","outputs":[{"internalType":"contract ICurve","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"ercIds","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"currentCollateral","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minCost","type":"uint256"},{"internalType":"uint256","name":"maxCost","type":"uint256"},{"internalType":"uint256","name":"inputAmount","type":"uint256"},{"internalType":"contract ERC20","name":"inputAsset","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.OptionPositionParams","name":"params","type":"tuple"}],"name":"forceClosePosition","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"int256","name":"swapFee","type":"int256"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.ReturnDetails","name":"returnDetails","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getBalancesAndAllowances","outputs":[{"components":[{"internalType":"uint8","name":"id","type":"uint8"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"}],"internalType":"struct OptionMarketWrapperWithSwaps.StableAssetView[]","name":"","type":"tuple[]"},{"components":[{"internalType":"uint8","name":"id","type":"uint8"},{"internalType":"contract OptionMarket","name":"market","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"bool","name":"isApprovedForAll","type":"bool"}],"internalType":"struct OptionMarketWrapperWithSwaps.MarketAssetView[]","name":"","type":"tuple[]"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"}],"internalType":"struct OptionMarketWrapperWithSwaps.LiquidityBalanceAndAllowance[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMarketAndErcIds","outputs":[{"internalType":"uint8[]","name":"","type":"uint8[]"},{"internalType":"uint8[]","name":"","type":"uint8[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"","type":"uint8"}],"name":"idToERC","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"","type":"uint8"}],"name":"idToMarket","outputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"","type":"address"}],"name":"marketContracts","outputs":[{"internalType":"contract ERC20","name":"quoteAsset","type":"address"},{"internalType":"contract ERC20","name":"baseAsset","type":"address"},{"internalType":"contract OptionToken","name":"optionToken","type":"address"},{"internalType":"contract LiquidityPool","name":"liquidityPool","type":"address"},{"internalType":"contract LiquidityToken","name":"liquidityToken","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"marketIds","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minReturnPercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"openLong","outputs":[{"internalType":"uint256","name":"totalCost","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract OptionMarket","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"iterations","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"uint256","name":"currentCollateral","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minCost","type":"uint256"},{"internalType":"uint256","name":"maxCost","type":"uint256"},{"internalType":"uint256","name":"inputAmount","type":"uint256"},{"internalType":"contract ERC20","name":"inputAsset","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.OptionPositionParams","name":"params","type":"tuple"}],"name":"openPosition","outputs":[{"components":[{"internalType":"address","name":"market","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"totalCost","type":"uint256"},{"internalType":"uint256","name":"totalFee","type":"uint256"},{"internalType":"int256","name":"swapFee","type":"int256"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct OptionMarketWrapperWithSwaps.ReturnDetails","name":"returnDetails","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"openShort","outputs":[{"internalType":"uint256","name":"totalReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"fromToken","type":"address"},{"internalType":"address","name":"toToken","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"quoteCurveSwap","outputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"reduceLong","outputs":[{"internalType":"uint256","name":"totalReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"params","type":"uint256"}],"name":"reduceShort","outputs":[{"internalType":"uint256","name":"totalCost","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"id","type":"uint8"}],"name":"removeCurveStable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"id","type":"uint8"}],"name":"removeMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"synthetixAdapter","outputs":[{"internalType":"contract SynthetixAdapter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tradingRewards","outputs":[{"internalType":"contract IFeeCounter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract ICurve","name":"_curveSwap","type":"address"},{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract IFeeCounter","name":"_tradingRewards","type":"address"},{"internalType":"uint256","name":"_minReturnPercent","type":"uint256"}],"name":"updateContractParams","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Gt=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"bool","name":"invalidPositionId","type":"bool"},{"internalType":"bool","name":"positionInactive","type":"bool"},{"internalType":"bool","name":"isShort","type":"bool"}],"name":"AddingCollateralToInvalidPosition","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"AdjustmentResultsInMinimumCollateralNotBeingMet","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"bool","name":"invalidPositionId","type":"bool"},{"internalType":"bool","name":"positionInactive","type":"bool"},{"internalType":"bool","name":"strikeMismatch","type":"bool"},{"internalType":"bool","name":"optionTypeMismatch","type":"bool"}],"name":"CannotAdjustInvalidPosition","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"CannotClosePositionZero","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"CannotOpenZeroAmount","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"}],"name":"FullyClosingWithNonZeroSetCollateral","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"partialCollatParams","type":"tuple"}],"name":"InvalidPartialCollateralParameters","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"originalPositionAmount","type":"uint256"},{"internalType":"uint256","name":"splitAmount","type":"uint256"}],"name":"InvalidSplitAmount","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"MergingUnapprovedPosition","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"MustMergeTwoOrMorePositions","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarket","type":"address"}],"name":"OnlyOptionMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"trader","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwnerCanAdjustPosition","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"shortCollateral","type":"address"}],"name":"OnlyShortCollateral","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"firstPosition","type":"tuple"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"nextPosition","type":"tuple"},{"internalType":"bool","name":"ownerMismatch","type":"bool"},{"internalType":"bool","name":"strikeMismatch","type":"bool"},{"internalType":"bool","name":"optionTypeMismatch","type":"bool"},{"internalType":"bool","name":"duplicatePositionId","type":"bool"}],"name":"PositionMismatchWhenMerging","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"PositionNotLiquidatable","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"ResultingNewPositionLiquidatable","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"ResultingOriginalPositionLiquidatable","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"SplittingUnapprovedPosition","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"strikeId","type":"uint256"}],"name":"StrikeIsSettled","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"indexed":false,"internalType":"struct OptionToken.PartialCollateralParameters","name":"partialCollateralParams","type":"tuple"}],"name":"PartialCollateralParamsSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"enum OptionToken.PositionUpdatedType","name":"updatedType","type":"uint8"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"indexed":false,"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"PositionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"URI","type":"string"}],"name":"URISet","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"amountCollateral","type":"uint256"}],"name":"addCollateral","outputs":[{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"_positionId","type":"uint256"},{"internalType":"uint256","name":"optionCost","type":"uint256"},{"internalType":"uint256","name":"setCollateralTo","type":"uint256"},{"internalType":"bool","name":"isOpen","type":"bool"}],"name":"adjustPosition","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"int256","name":"pendingCollateral","type":"int256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"position","type":"tuple"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"canLiquidate","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"gwavPremium","type":"uint256"},{"internalType":"uint256","name":"userPositionCollateral","type":"uint256"},{"internalType":"uint256","name":"convertedMinLiquidationFee","type":"uint256"},{"internalType":"uint256","name":"insolvencyMultiplier","type":"uint256"}],"name":"getLiquidationFees","outputs":[{"components":[{"internalType":"uint256","name":"returnCollateral","type":"uint256"},{"internalType":"uint256","name":"lpPremiums","type":"uint256"},{"internalType":"uint256","name":"lpFee","type":"uint256"},{"internalType":"uint256","name":"liquidatorFee","type":"uint256"},{"internalType":"uint256","name":"smFee","type":"uint256"},{"internalType":"uint256","name":"insolventAmount","type":"uint256"}],"internalType":"struct OptionToken.LiquidationFees","name":"liquidationFees","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getOptionPosition","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"positionIds","type":"uint256[]"}],"name":"getOptionPositions","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getOwnerPositions","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"internalType":"struct OptionToken.OptionPosition[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPartialCollatParams","outputs":[{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPositionState","outputs":[{"internalType":"enum OptionToken.PositionState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPositionWithOwner","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"},{"internalType":"address","name":"owner","type":"address"}],"internalType":"struct OptionToken.PositionWithOwner","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"positionIds","type":"uint256[]"}],"name":"getPositionsWithOwner","outputs":[{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"},{"internalType":"address","name":"owner","type":"address"}],"internalType":"struct OptionToken.PositionWithOwner[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"_optionMarket","type":"address"},{"internalType":"contract OptionGreekCache","name":"_greekCache","type":"address"},{"internalType":"address","name":"_shortCollateral","type":"address"},{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"bool","name":"isForceClose","type":"bool"},{"internalType":"enum OptionMarket.TradeDirection","name":"tradeDirection","type":"uint8"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint256","name":"strikePrice","type":"uint256"},{"components":[{"internalType":"uint256","name":"freeLiquidity","type":"uint256"},{"internalType":"uint256","name":"burnableLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedCollatLiquidity","type":"uint256"},{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"NAV","type":"uint256"}],"internalType":"struct LiquidityPool.Liquidity","name":"liquidity","type":"tuple"},{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"internalType":"struct OptionMarket.TradeParameters","name":"trade","type":"tuple"},{"internalType":"uint256","name":"totalCost","type":"uint256"}],"name":"liquidate","outputs":[{"components":[{"internalType":"uint256","name":"returnCollateral","type":"uint256"},{"internalType":"uint256","name":"lpPremiums","type":"uint256"},{"internalType":"uint256","name":"lpFee","type":"uint256"},{"internalType":"uint256","name":"liquidatorFee","type":"uint256"},{"internalType":"uint256","name":"smFee","type":"uint256"},{"internalType":"uint256","name":"insolventAmount","type":"uint256"}],"internalType":"struct OptionToken.LiquidationFees","name":"liquidationFees","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"positionIds","type":"uint256[]"}],"name":"merge","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"partialCollatParams","outputs":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"positions","outputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"penaltyRatio","type":"uint256"},{"internalType":"uint256","name":"liquidatorFeeRatio","type":"uint256"},{"internalType":"uint256","name":"smFeeRatio","type":"uint256"},{"internalType":"uint256","name":"minLiquidationFee","type":"uint256"}],"internalType":"struct OptionToken.PartialCollateralParameters","name":"_partialCollatParams","type":"tuple"}],"name":"setPartialCollateralParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newURI","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"positionIds","type":"uint256[]"}],"name":"settlePositions","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"newAmount","type":"uint256"},{"internalType":"uint256","name":"newCollateral","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"split","outputs":[{"internalType":"uint256","name":"newPositionId","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),jt=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BaseTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"components":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"strikeId","type":"uint256"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"enum OptionToken.PositionState","name":"state","type":"uint8"},{"internalType":"address","name":"owner","type":"address"}],"internalType":"struct OptionToken.PositionWithOwner","name":"position","type":"tuple"}],"name":"BoardMustBeSettled","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"optionMarket","type":"address"}],"name":"OnlyOptionMarket","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"OutOfBaseCollateralForExchangeAndTransfer","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"OutOfBaseCollateralForTransfer","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"OutOfQuoteCollateralForTransfer","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"QuoteTransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountBase","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"name":"BaseExchangedAndQuoteSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BaseSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountBaseSent","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountQuoteSent","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lpBaseInsolvency","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lpQuoteInsolvency","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"LPBaseExcess","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"LPQuoteExcess","type":"uint256"}],"name":"BoardSettlementCollateralSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":true,"internalType":"address","name":"settler","type":"address"},{"indexed":true,"internalType":"address","name":"optionOwner","type":"address"},{"indexed":false,"internalType":"uint256","name":"strikePrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"priceAtExpiry","type":"uint256"},{"indexed":false,"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PositionSettled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"QuoteSent","type":"event"},{"inputs":[],"name":"LPBaseExcess","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LPQuoteExcess","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountBase","type":"uint256"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"boardSettlement","outputs":[{"internalType":"uint256","name":"lpBaseInsolvency","type":"uint256"},{"internalType":"uint256","name":"lpQuoteInsolvency","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract OptionMarket","name":"_optionMarket","type":"address"},{"internalType":"contract LiquidityPool","name":"_liquidityPool","type":"address"},{"internalType":"contract OptionToken","name":"_optionToken","type":"address"},{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract ERC20","name":"_quoteAsset","type":"address"},{"internalType":"contract ERC20","name":"_baseAsset","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"address","name":"liquidator","type":"address"},{"internalType":"enum OptionMarket.OptionType","name":"optionType","type":"uint8"},{"components":[{"internalType":"uint256","name":"returnCollateral","type":"uint256"},{"internalType":"uint256","name":"lpPremiums","type":"uint256"},{"internalType":"uint256","name":"lpFee","type":"uint256"},{"internalType":"uint256","name":"liquidatorFee","type":"uint256"},{"internalType":"uint256","name":"smFee","type":"uint256"},{"internalType":"uint256","name":"insolventAmount","type":"uint256"}],"internalType":"struct OptionToken.LiquidationFees","name":"liquidationFees","type":"tuple"}],"name":"routeLiquidationFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sendBaseCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sendQuoteCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"positionIds","type":"uint256[]"}],"name":"settleOptions","outputs":[{"internalType":"uint256[]","name":"settlementAmounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateDelegateApproval","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Ut=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"}],"name":"AlreadyInitialised","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"lastInteraction","type":"uint256"},{"internalType":"uint256","name":"interactionDelta","type":"uint256"},{"internalType":"uint256","name":"currentTime","type":"uint256"}],"name":"InteractionDelayNotExpired","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"newShortBuffer","type":"uint256"}],"name":"InvalidShortBuffer","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"quoteReceived","type":"uint256"},{"internalType":"uint256","name":"minCollateral","type":"uint256"}],"name":"NotEnoughQuoteForMinCollateral","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"liquidityPool","type":"address"}],"name":"OnlyLiquidityPool","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"QuoteTransferFailed","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"shortId","type":"uint256"}],"name":"ShortAccountAlreadyOpen","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"LongSetTo","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"shortId","type":"uint256"}],"name":"OpenedShortAccount","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"indexed":false,"internalType":"struct PoolHedger.PoolHedgerParameters","name":"poolHedgerParams","type":"tuple"}],"name":"PoolHedgerParametersSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int256","name":"oldNetDelta","type":"int256"},{"indexed":false,"internalType":"int256","name":"currentNetDelta","type":"int256"},{"indexed":false,"internalType":"int256","name":"expectedNetDelta","type":"int256"}],"name":"PositionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"QuoteReturnedToLP","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newShortBuffer","type":"uint256"}],"name":"ShortBufferSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract ICollateralShort","name":"collateralShort","type":"address"}],"name":"ShortCollateralSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldShort","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newShort","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"oldCollateral","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCollateral","type":"uint256"}],"name":"ShortSetTo","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"collateralShort","outputs":[{"internalType":"contract ICollateralShort","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCappedExpectedHedge","outputs":[{"internalType":"int256","name":"cappedExpectedHedge","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentHedgedNetDelta","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"name":"getHedgingLiquidity","outputs":[{"internalType":"uint256","name":"pendingDeltaLiquidity","type":"uint256"},{"internalType":"uint256","name":"usedDeltaLiquidity","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPoolHedgerParams","outputs":[{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPoolHedgerSettings","outputs":[{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"_poolHedgerParams","type":"tuple"},{"internalType":"uint256","name":"_shortBuffer","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getShortPosition","outputs":[{"internalType":"uint256","name":"shortBalance","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hedgeDelta","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract SynthetixAdapter","name":"_synthetixAdapter","type":"address"},{"internalType":"contract OptionMarket","name":"_optionMarket","type":"address"},{"internalType":"contract OptionGreekCache","name":"_optionGreekCache","type":"address"},{"internalType":"contract LiquidityPool","name":"_liquidityPool","type":"address"},{"internalType":"contract ERC20","name":"_quoteAsset","type":"address"},{"internalType":"contract ERC20","name":"_baseAsset","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lastInteraction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"openShortAccount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"resetInteractionDelay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"interactionDelay","type":"uint256"},{"internalType":"uint256","name":"hedgeCap","type":"uint256"}],"internalType":"struct PoolHedger.PoolHedgerParameters","name":"_poolHedgerParams","type":"tuple"}],"name":"setPoolHedgerParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_shortBuffer","type":"uint256"}],"name":"setShortBuffer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"shortBuffer","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shortId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateCollateralShortAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateDelegateApproval","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Wt=JSON.parse('[{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_rewardsDistribution","type":"address"},{"internalType":"address","name":"_rewardsToken","type":"address"},{"internalType":"address","name":"_stakingToken","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isPaused","type":"bool"}],"name":"PauseChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Recovered","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newDuration","type":"uint256"}],"name":"RewardsDurationUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"exit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"getReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getRewardForDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastPauseTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastTimeRewardApplicable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastUpdateTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"reward","type":"uint256"}],"name":"notifyRewardAmount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"periodFinish","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"recoverERC20","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardsDistribution","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardsDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardsToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bool","name":"_paused","type":"bool"}],"name":"setPaused","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_rewardsDistribution","type":"address"}],"name":"setRewardsDistribution","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_rewardsDuration","type":"uint256"}],"name":"setRewardsDuration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"stakingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewardPerTokenPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),Qt=JSON.parse('[{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"marketAddress","type":"address"}],"name":"AllMarketsPaused","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"amountQuoteRequested","type":"uint256"},{"internalType":"uint256","name":"baseToSpend","type":"uint256"},{"internalType":"uint256","name":"baseLimit","type":"uint256"},{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"}],"name":"BaseQuoteExchangeExceedsLimit","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"rewardAddress","type":"address"}],"name":"InvalidRewardAddress","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"marketAddress","type":"address"}],"name":"MarketIsPaused","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"nominatedOwner","type":"address"}],"name":"OnlyNominatedOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"address","name":"caller","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"OnlyOwner","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"amountBaseRequested","type":"uint256"},{"internalType":"uint256","name":"quoteToSpend","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"},{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"}],"name":"QuoteBaseExchangeExceedsLimit","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bool","name":"invalid","type":"bool"}],"name":"RateIsInvalid","type":"error"},{"inputs":[{"internalType":"address","name":"thrower","type":"address"},{"internalType":"bytes32","name":"fromKey","type":"bytes32"},{"internalType":"bytes32","name":"toKey","type":"bytes32"},{"internalType":"uint256","name":"amountSwapped","type":"uint256"},{"internalType":"uint256","name":"amountReceived","type":"uint256"}],"name":"ReceivedZeroFromExchange","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IAddressResolver","name":"addressResolver","type":"address"}],"name":"AddressResolverSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketAddress","type":"address"},{"indexed":true,"internalType":"address","name":"exchanger","type":"address"},{"indexed":false,"internalType":"uint256","name":"baseSwapped","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"name":"BaseSwappedForQuote","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isPaused","type":"bool"}],"name":"GlobalPausedSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"market","type":"address"},{"indexed":false,"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"indexed":false,"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"indexed":false,"internalType":"address","name":"rewardAddress","type":"address"},{"indexed":false,"internalType":"bytes32","name":"trackingCode","type":"bytes32"}],"name":"GlobalsSetForContract","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"contractAddress","type":"address"},{"indexed":false,"internalType":"bool","name":"isPaused","type":"bool"}],"name":"MarketPausedSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerNominated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketAddress","type":"address"},{"indexed":true,"internalType":"address","name":"exchanger","type":"address"},{"indexed":false,"internalType":"uint256","name":"quoteSwapped","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseReceived","type":"uint256"}],"name":"QuoteSwappedForBase","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract ISynthetix","name":"synthetix","type":"address"},{"indexed":false,"internalType":"contract IExchanger","name":"exchanger","type":"address"},{"indexed":false,"internalType":"contract IExchangeRates","name":"exchangeRates","type":"address"},{"indexed":false,"internalType":"contract IDelegateApprovals","name":"delegateApprovals","type":"address"}],"name":"SynthetixAddressesUpdated","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"addressResolver","outputs":[{"internalType":"contract IAddressResolver","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"baseKey","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"delegateApprovals","outputs":[{"internalType":"contract IDelegateApprovals","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"uint256","name":"amountBase","type":"uint256"}],"name":"estimateExchangeToExactBase","outputs":[{"internalType":"uint256","name":"quoteNeeded","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"estimateExchangeToExactQuote","outputs":[{"internalType":"uint256","name":"baseNeeded","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountBase","type":"uint256"}],"name":"exchangeFromExactBase","outputs":[{"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"exchangeFromExactQuote","outputs":[{"internalType":"uint256","name":"baseReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"exchangeRates","outputs":[{"internalType":"contract IExchangeRates","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountBase","type":"uint256"}],"name":"exchangeToExactBase","outputs":[{"internalType":"uint256","name":"quoteSpent","type":"uint256"},{"internalType":"uint256","name":"baseReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountBase","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"}],"name":"exchangeToExactBaseWithLimit","outputs":[{"internalType":"uint256","name":"quoteSpent","type":"uint256"},{"internalType":"uint256","name":"baseReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"}],"name":"exchangeToExactQuote","outputs":[{"internalType":"uint256","name":"quoteSpent","type":"uint256"},{"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"},{"internalType":"address","name":"optionMarket","type":"address"},{"internalType":"uint256","name":"amountQuote","type":"uint256"},{"internalType":"uint256","name":"baseLimit","type":"uint256"}],"name":"exchangeToExactQuoteWithLimit","outputs":[{"internalType":"uint256","name":"baseSpent","type":"uint256"},{"internalType":"uint256","name":"quoteReceived","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"exchanger","outputs":[{"internalType":"contract IExchanger","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"optionMarket","type":"address"}],"name":"getExchangeParams","outputs":[{"components":[{"internalType":"uint256","name":"spotPrice","type":"uint256"},{"internalType":"bytes32","name":"quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"baseKey","type":"bytes32"},{"internalType":"uint256","name":"quoteBaseFeeRate","type":"uint256"},{"internalType":"uint256","name":"baseQuoteFeeRate","type":"uint256"}],"internalType":"struct SynthetixAdapter.ExchangeParams","name":"exchangeParams","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"to","type":"bytes32"}],"name":"getSpotPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"getSpotPriceForMarket","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isGlobalPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isMarketPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"nominateNewOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nominatedOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"quoteKey","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewardAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IAddressResolver","name":"_addressResolver","type":"address"}],"name":"setAddressResolver","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_isPaused","type":"bool"}],"name":"setGlobalPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"},{"internalType":"bytes32","name":"_quoteKey","type":"bytes32"},{"internalType":"bytes32","name":"_baseKey","type":"bytes32"},{"internalType":"address","name":"_rewardAddress","type":"address"},{"internalType":"bytes32","name":"_trackingCode","type":"bytes32"}],"name":"setGlobalsForContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"},{"internalType":"bool","name":"_isPaused","type":"bool"}],"name":"setMarketPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"synthetix","outputs":[{"internalType":"contract ISynthetix","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"trackingCode","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateSynthetixAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Ht=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract TestERC20","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Dripped","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"addresses","outputs":[{"internalType":"contract TestERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"drip","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"permit","type":"bool"}],"name":"permitModify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"permitted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"received","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract TestERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setDripAmount","outputs":[],"stateMutability":"nonpayable","type":"function"}]');function $t(e){switch(e){case a.OptionMarketViewer:return Nt;case a.OptionMarketWrapper:return _t;case a.TestFaucet:return Ht;case a.SynthetixAdapter:return Qt;case r.LiquidityPool:return qt;case r.LiquidityToken:return Vt;case r.OptionGreekCache:return Dt;case r.OptionMarket:return Rt;case r.OptionToken:return Gt;case r.ShortCollateral:return jt;case r.OptionMarketPricer:return Et;case r.ShortPoolHedger:return Ut;case a.LyraStakingModuleProxy:return Ft;case a.LyraRegistry:return Bt;case a.MultiDistributor:return Lt;case a.ArrakisPool:return It;case a.WethLyraStakingRewards:return Wt}}function zt(e,t,n){var a=$t(n),i=function(e,t){switch(t){case r.OptionMarket:return e.optionMarket;case r.OptionToken:return e.optionToken;case r.ShortCollateral:return e.shortCollateral;case r.OptionGreekCache:return e.greekCache;case r.LiquidityToken:return e.liquidityToken;case r.LiquidityPool:return e.liquidityPool;case r.OptionMarketPricer:return e.optionMarketPricer;case r.ShortPoolHedger:return e.poolHedger}}(t,n);return new At.Contract(i,a,e.provider)}function Kt(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Zt(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Kt(r,a,i,p,u,"next",e)}function u(e){Kt(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Yt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Jt(e,t,n[t])}))}return e}var en=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall,this.lyra=t,this.block=i,this.__market=n,this.__boardData=a,this.block=i;var r=e.getFields(a,i);this.id=r.id,this.expiryTimestamp=r.expiryTimestamp,this.timeToExpiry=r.timeToExpiry,this.isExpired=r.isExpired,this.baseIv=r.baseIv,this.spotPriceAtExpiry=r.spotPriceAtExpiry,this.isPaused=r.isPaused,this.tradingCutoffTimestamp=this.expiryTimestamp-n.__marketData.marketParameters.tradeLimitParams.tradingCutoff.toNumber(),this.liveStrikeMap=a.strikes.reduce((function(e,t){return Xt({},e,Jt({},t.strikeId.toNumber(),t))}),{})}var t,n,a;return t=e,a=[{key:"getFields",value:function(e,t){var n=e.boardId.toNumber(),a=e.expiry.toNumber(),i=Math.max(0,a-t.timestamp),r=e.priceAtExpiry.isZero()?void 0:e.priceAtExpiry,p=!!r;return{id:n,expiryTimestamp:a,timeToExpiry:i,isExpired:p,spotPriceAtExpiry:r,baseIv:p?f:e.baseIv,isPaused:e.isPaused}}},{key:"get",value:function(e,t,n){return Zt(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ou.get(e,t);case 2:return i=a.sent,a.next=5,i.board(n);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}}],(n=[{key:"market",value:function(){return this.__market}},{key:"strikes",value:function(){var e=this;return this.__boardData.strikes.map((function(t){return new Ct(e.lyra,e,t.strikeId.toNumber(),e.block)}))}},{key:"strike",value:function(e){if(!this.liveStrikeMap[e])throw new Error("Strike does not exist for board");return new Ct(this.lyra,this,e,this.block)}},{key:"option",value:function(e,t){return this.strike(e).option(t)}},{key:"quote",value:function(e,t,n,a,i){var r=this;return Zt(d().mark((function p(){return d().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,r.market().quote(e,t,n,a,i);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}}),p)})))()}},{key:"setStrikeSkew",value:function(e,t,n){var a=zt(this.lyra,this.__market.__marketData.marketAddresses,r.OptionMarket),i=a.interface.encodeFunctionData("setStrikeSkew",[t,n]);return Xt({},St(this.lyra,a.address,e,i),{gasLimit:T.O$.from(1e7)})}}])&&Yt(t.prototype,n),a&&Yt(t,a),e}();function tn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function nn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){tn(r,a,i,p,u,"next",e)}function u(e){tn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){an(e,t,n[t])}))}return e}function pn(e,t){return un.apply(this,arguments)}function un(){return(un=nn(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.estimateGas(n);case 2:return a=e.sent,i=a.mul(ne(1.1)).div(b),e.abrupt("return",rn({},n,{gasLimit:i}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){on(r,a,i,p,u,"next",e)}function u(e){on(r,a,i,p,u,"throw",e)}p(void 0)}))}}function yn(e,t,n,a){return ln.apply(this,arguments)}function ln(){return(ln=sn(d().mark((function e(t,n,a,i){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St(t,n,a,i),e.abrupt("return",pn(t,r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function mn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){dn(r,a,i,p,u,"next",e)}function u(e){dn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function cn(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=mn(d().mark((function e(t,n,a){var i,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=zt(t,n.contractAddresses,r.LiquidityPool),o=n.block.timestamp,e.next=5,u.CBTimestamp();case 5:if(!e.sent.gt(o)){e.next=14;break}if(!(n.liquidity.utilization>.99)){e.next=11;break}return e.abrupt("return",pu.Liquidity);case 11:return e.abrupt("return",pu.Volatility);case 12:e.next=20;break;case 14:if(s=n.withdrawalDelay,y=null!==(p=null===(i=a.queued)||void 0===i?void 0:i.args.timestamp.toNumber())&&void 0!==p?p:0,l=Math.min(Math.max(o-y,0),s),0!==s-l){e.next=20;break}return e.abrupt("return",pu.Keeper);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function bn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function vn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){bn(r,a,i,p,u,"next",e)}function u(e){bn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t,n){return wn.apply(this,arguments)}function wn(){return(wn=vn(d().mark((function e(t,n,a){var i,p,u,o,s,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zt(t,n.__marketData.marketAddresses,r.LiquidityPool),e.t0=hn,e.next=4,Promise.all([i.queryFilter(i.filters.WithdrawQueued(null,null,a)),i.queryFilter(i.filters.WithdrawProcessed(null,null,a))]);case 4:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],s=u[0],y=o[0],e.abrupt("return",{queued:s,processed:y});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function On(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Pn(r,a,i,p,u,"next",e)}function u(e){Pn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=On(d().mark((function e(t,n,a){var i,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zt(t,n.__marketData.marketAddresses,r.LiquidityPool),e.t0=xn,e.next=4,Promise.all([i.queryFilter(i.filters.WithdrawQueued(a)),i.queryFilter(i.filters.WithdrawProcessed(null,a))]);case 4:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],s={},y={},l=[],o.forEach((function(e){e.args.withdrawalQueueId==f&&l.push({processed:e})})),u.forEach((function(e){var t=String(e.args.withdrawalQueueId);s[t]=e})),o.forEach((function(e){var t=String(e.args.withdrawalQueueId);y[t]=e})),u.forEach((function(e){var t=String(e.args.withdrawalQueueId);s[t]&&y[t]?l.push({queued:s[t],processed:y[t]}):s[t]&&!y[t]&&l.push({queued:s[t]})})),e.abrupt("return",{events:l});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Sn(r,a,i,p,u,"next",e)}function u(e){Sn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function In(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){qn(e,t,n[t])}))}return e}var Bn=function(){function e(t,n,a){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__market=n,this.__queued=a.queued,this.__processed=a.processed;var r=a.queued,p=a.processed,u=null!==r&&void 0!==r?r:p;if(!u)throw new Error("No queued or processed event for LiquidityDeposit");this.queueId=u.args.withdrawalQueueId.toNumber(),this.beneficiary=u.args.beneficiary,this.balance=null!==(i=null===r||void 0===r?void 0:r.args.amountWithdrawn)&&void 0!==i?i:f,this.tokenPriceAtWithdraw=null===p||void 0===p?void 0:p.args.tokenPrice,this.value=null===p||void 0===p?void 0:p.args.quoteReceived,this.isPending=!p,this.withdrawalRequestedTimestamp=u.args.timestamp.toNumber(),this.withdrawalTimestamp=p?p.args.timestamp.toNumber():r?r.args.timestamp.add(n.__marketData.marketParameters.lpParams.withdrawalDelay).toNumber():0,this.delayReason=a.delayReason}var t,n,a;return t=e,a=[{key:"getByOwner",value:function(t,n,a){return An(d().mark((function i(){var r,p,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(t,n);case 2:return r=i.sent,i.next=5,Mn(t,r,a);case 5:return p=i.sent.events,i.next=8,Promise.all(p.map(function(){var n=An(d().mark((function n(a){var i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn(t,r,a);case 2:return i=n.sent,n.abrupt("return",new e(t,r,Vn({},a,{delayReason:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 8:return u=i.sent,i.abrupt("return",u);case 10:case"end":return i.stop()}}),i)})))()}},{key:"getByQueueId",value:function(t,n,a){return An(d().mark((function i(){var r,p,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(t,n);case 2:return r=i.sent,i.next=5,kn(t,r,a);case 5:return p=i.sent,i.next=8,cn(t,r,p);case 8:return u=i.sent,i.abrupt("return",new e(t,r,Vn({},p,{delayReason:u})));case 10:case"end":return i.stop()}}),i)})))()}},{key:"withdraw",value:function(e,t,n,a){return An(d().mark((function i(){var p,u,o,s;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(e,t);case 2:return p=i.sent,u=zt(e,p.contractAddresses,r.LiquidityPool),o=u.interface.encodeFunctionData("initiateWithdraw",[n,a]),i.next=7,yn(e,u.address,n,o);case 7:return s=i.sent,i.abrupt("return",s);case 9:case"end":return i.stop()}}),i)})))()}}],(n=[{key:"market",value:function(){return this.__market}}])&&In(t.prototype,n),a&&In(t,a),e}(),Fn=JSON.parse('{"OptionMarketViewer":"0xe5f9B585F3c2fc3E497283CeC078C5FDC10d4B13","OptionMarketWrapper":"0xd24955B7AB75FaD5542769105d862FC76A76AF7f","SynthetixAdapter":"0xa64a15E39e717663bB6885a536FA9741DEe08daC","TestFaucet":"0xf0034BD49d548095B7A369bFb456680D3188Cf16","LyraRegistry":"0x91a1AB0DDa247CE6D8666c5A49c183f8978a9797"}'),Ln=JSON.parse('{"LyraStakingModule":"0x69D7Ca59F2FE3C183cf2536bCcea4735a2AB9a21","LyraStakingModuleProxy":"0xd16D254C42a03aD72d77B4226d086AFcc0B2E43e","MultiDistributor":"0x4e8da116C02860f12360b7de7bDD48C9B5A9C8EC"}'),Dn=JSON.parse('{"OptionMarketViewer":"0xEAf788AD8abd9C98bA05F6802a62B8DbC673D76B","OptionMarketWrapper":"0xCCE7819d65f348c64B7Beb205BA367b3fE33763B","SynthetixAdapter":"0xbfa31380ED380cEb325153eA08f296A45A489108","LyraRegistry":"0xF5A0442D4753cA1Ea36427ec071aa5E786dA5916"}'),Rn=JSON.parse('{"LyraStakingModule":"0xB0B06F0440ce13d03D41c5399C55AEfEa1b372CE","LyraStakingModuleProxy":"0xdE48b1B5853cc63B1D05e507414D3E02831722F8","MultiDistributor":"0x019F0233C0277B9422FCDb1213B09C86f5f27D87","ArrakisPool":"0x70535c46ce04181adf749f34b65b6365164d6b6e","WethLyraStakingRewards":"0xb02e538a08cFA00E9900cf94e33B161323d8D162"}');function En(e,t){var n=function(e,t){var n=Fn,i=Ln,r=Dn,p=Rn;switch(t){case a.OptionMarketViewer:case a.OptionMarketWrapper:case a.SynthetixAdapter:case a.TestFaucet:case a.LyraRegistry:return e===s.Kovan?n:e===s.Mainnet?r:{};case a.LyraStakingModuleProxy:case a.MultiDistributor:case a.ArrakisPool:case a.WethLyraStakingRewards:return e===s.Kovan?i:e===s.Mainnet?p:{}}}(e,t),i=n[t];if(!i)throw new Error("Global contract address not found");return i}function Nn(e,t,n){var a=En(t,n),i=$t(n);return new At.Contract(a,i,e)}function _n(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){_n(r,a,i,p,u,"next",e)}function u(e){_n(r,a,i,p,u,"throw",e)}p(void 0)}))}}function jn(e){return Un.apply(this,arguments)}function Un(){return(Un=Gn(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(t.provider,t.deployment,a.OptionMarketViewer).getMarketAddresses();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Qn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Qn(r,a,i,p,u,"next",e)}function u(e){Qn(r,a,i,p,u,"throw",e)}p(void 0)}))}}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=Hn(d().mark((function e(t,n){var i,r,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nn(t.provider,t.deployment,a.OptionMarketWrapper),e.next=3,jn(t);case 3:return r=e.sent.map((function(e){return e.optionMarket})),e.t0=$n,e.next=7,i.getBalancesAndAllowances(n);case 7:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],e.next=13,Promise.all(u.map(function(){var e=Hn(d().mark((function e(t){var n,a,i,r,p,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.balance,i=t.allowance,r=t.symbol,p=t.decimals,u=t.id,e.abrupt("return",{address:n,balance:a,allowance:i,symbol:r,decimals:p,id:u});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:return s=e.sent,y=o.map((function(e,t){var n=e.token,a=e.symbol,i=e.decimals,p=e.balance,u=e.allowance,o=e.id;return{marketAddress:r[t],address:n,balance:p,allowance:u,symbol:a,decimals:i,id:o}})),l=o.map((function(e,t){var n=e.token,a=e.isApprovedForAll,i=e.id;return{marketAddress:r[t],address:n,isApprovedForAll:a,id:i}})),e.abrupt("return",{stables:s,bases:y,optionTokens:l});case 17:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Zn(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Yn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Jn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__transferData=n,this.__source=n.source,this.transactionHash=n.transactionHash,this.blockNumber=n.blockNumber,this.from=n.from,this.to=n.to,this.positionId=n.positionId}var t,n,a;return t=e,a=[{key:"getByHash",value:function(e,t){return(n=d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_a(e,t);case 2:return a=n.sent.transfers,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var r=n.apply(e,t);function p(e){Zn(r,a,i,p,u,"next",e)}function u(e){Zn(r,a,i,p,u,"throw",e)}p(void 0)}))})();var n}}],(n=null)&&Yn(t.prototype,n),a&&Yn(t,a),e}();function Xn(e){return e.filter((function(e){return null!==e&&void 0!==e}))}function ea(e){return e===u.ShortCoveredCall}function ta(e){return[u.LongCall,u.ShortCoveredCall,u.ShortCall].includes(e)}function na(e){return[u.LongCall,u.LongPut].includes(e)}function aa(e,t){var n,a=e.filter((function(e){return e.blockNumber<=t}));if(0===a.length)throw new Error("Missing transfer events");var i=a[a.length-1];return i.args.to===k?(null!==(n=a.find((function(e){return e.transactionHash===i.transactionHash})))&&void 0!==n?n:i).args.from:i.args.to}function ia(e,t,n){var a=e.args.positionId.toNumber(),i=e.blockNumber,r=e.args.position.collateral,p=e.transactionHash,u=e.args.position.strikeId.toNumber(),o=ta(e.args.position.optionType);if(na(e.args.position.optionType))throw new Error("Attempted to create CollateralUpdate for long position");var s=t.liveOption(u,o),y=s.market().name,l=s.strike().strikePrice,d=s.market().address,m=s.board().expiryTimestamp,c=ea(e.args.position.optionType),T=s.market().spotPrice,f=c?r.mul(T).div(b):r,v=e.args.timestamp.toNumber();return{owner:aa(n,i),source:A.Log,timestamp:v,positionId:a,strikeId:u,transactionHash:p,marketAddress:d,expiryTimestamp:m,blockNumber:i,amount:r,value:f,marketName:y,strikePrice:l,isCall:o,isBaseCollateral:c,spotPrice:T}}function ra(e,t,n,a){var i=t.name,r=t.address,p=e.args.trade.expiry.toNumber(),u=e.args.trade.strikePrice,o=e.args.positionId.toNumber(),s=e.args.strikeId.toNumber(),y=ta(e.args.trade.optionType),l=na(e.args.trade.optionType),d=e.args.trade.isForceClose,m=e.args.trade.tradeDirection===C.Open,c=function(e,t){var n=na(e);return n&&t||!n&&!t}(e.args.trade.optionType,m),T=e.args.trade.amount,v=e.args.trade.spotPrice,h=e.args.trade.tradeDirection===C.Liquidate,k=e.args.liquidation,w=e.blockNumber,g=e.transactionHash,P=e.args.tradeResults;if(0===P.length)throw new Error("No tradeResults in Trade event");var O=P.reduce((function(e,t){return e.add(t.optionPriceFee)}),f),x=P.reduce((function(e,t){return e.add(t.spotPriceFee)}),f),M=P.reduce((function(e,t){return e.add(t.vegaUtilFee.vegaUtilFee)}),f),S=P.reduce((function(e,t){return e.add(t.varianceFee.varianceFee)}),f),I=O.add(x).add(M).add(S),q=P.reduce((function(e,t){return e.add(t.totalCost)}),f),V=P[P.length-1],B=V.newBaseIv,F=V.newSkew,L=B.mul(F).div(b),D=V.volTraded,R=T.gt(0)?q.mul(b).div(T):f,E=l?void 0:e.args.trade.setCollateralTo,N=l?void 0:ea(e.args.trade.optionType),_=E?N?E.mul(v).div(b):E:void 0,G=e.args.timestamp.toNumber(),j=aa(n,w);return{timestamp:G,source:A.Log,positionId:o,strikeId:s,strikePrice:u,marketName:i,marketAddress:r,expiryTimestamp:p,blockNumber:w,transactionHash:g,trader:j,size:T,premium:q,fee:I,feeComponents:{optionPriceFee:O,spotPriceFee:x,vegaUtilFee:M,varianceFee:S},pricePerOption:R,isOpen:m,isCall:y,isBuy:c,isLong:l,spotPrice:v,collateralAmount:E,collateralValue:_,isBaseCollateral:N,isForceClose:d,isLiquidation:h,liquidation:k,iv:L,skew:F,baseIv:B,volTraded:D,swap:a&&a.args.token!==t.quoteToken.address?{fee:a.args.swapFee,address:a.args.token}:void 0}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ua(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function oa(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ua(r,a,i,p,u,"next",e)}function u(e){ua(r,a,i,p,u,"throw",e)}p(void 0)}))}}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){sa(e,t,n[t])}))}return e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||ma(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e){return function(e){if(Array.isArray(e))return pa(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ma(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){if(e){if("string"===typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}var ca=function(e,t){return"".concat(e,"-").concat(t)};function Ta(e,t,n){return fa.apply(this,arguments)}function fa(){return(fa=oa(d().mark((function e(t,n,a){var i,p,u,o,s,y,l,m,c,T,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zt(t,n.contractAddresses,r.OptionToken),p=zt(t,n.contractAddresses,r.OptionMarket),0!==a.length){e.next=4;break}return e.abrupt("return",[]);case 4:return u=n.block.number-1e3,e.t0=la,e.next=8,Promise.all([p.queryFilter(p.filters.Trade(null,null,a),u),i.queryFilter(i.filters.PositionUpdated(a,null,q),u),i.queryFilter(i.filters.Transfer(null,null,a),u)]);case 8:return e.t1=e.sent,o=(0,e.t0)(e.t1,3),s=o[0],y=o[1],l=o[2],m=l.reduce((function(e,t){var n,a=ca(t.transactionHash,t.args.tokenId.toNumber());return ya({},e,sa({},a,da(null!==(n=e[a])&&void 0!==n?n:[]).concat([t])))}),{}),c=a.reduce((function(e,t){return ya({},e,sa({},t,{trades:[],collateralUpdates:[]}))}),{}),T=Xn(s.map((function(e){try{var t=m[ca(e.transactionHash,e.args.positionId.toNumber())];return ra(e,n,t)}catch(a){return null}}))),f=Xn(y.map((function(e){try{var t=m[ca(e.transactionHash,e.args.positionId.toNumber())];return ia(e,n,t)}catch(a){return null}}))),T.forEach((function(e){c[e.positionId].trades.push(e)})),f.forEach((function(e){c[e.positionId].collateralUpdates.push(e)})),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){var t=T.O$.from(e.amount),n=T.O$.from(e.spotPrice),a=e.isBaseCollateral,i=a?t.mul(n).div(b):t,r=T.O$.from(e.strike.strikePrice),p=parseInt(e.strike.strikeId),u=e.market.name.substring(1);return{owner:(0,c.getAddress)(e.trader),source:A.Subgraph,timestamp:e.timestamp,amount:t,value:i,positionId:e.position.positionId,blockNumber:e.blockNumber,isBaseCollateral:a,marketName:u,marketAddress:(0,c.getAddress)(e.market.id),isCall:e.option.isCall,strikeId:p,strikePrice:r,spotPrice:n,expiryTimestamp:e.board.expiryTimestamp,transactionHash:e.transactionHash,swap:e.externalSwapFees?{address:e.externalSwapAddress}:void 0}}function va(e){var t=T.O$.from(e.spotPriceAtExpiry),n=T.O$.from(e.position.strike.strikePrice),a=e.position.board.expiryTimestamp,i=T.O$.from(e.size),r=e.position.isLong,p=e.position.isBaseCollateral,u=T.O$.from(e.settleAmount),o=r?u:f,s=r?f:u,y=p?s.mul(t).div(b):s,l=e.position.option.isCall?t.gt(n):t.lt(n);return{source:A.Subgraph,blockNumber:e.blockNumber,positionId:e.position.positionId,timestamp:e.timestamp,size:i,spotPriceAtExpiry:t,transactionHash:e.transactionHash,owner:(0,c.getAddress)(e.owner),marketName:e.position.market.name.substring(1),marketAddress:(0,c.getAddress)(e.position.market.id),expiryTimestamp:a,isCall:e.position.option.isCall,strikePrice:n,isBaseCollateral:e.position.isBaseCollateral,isLong:e.position.isLong,settlement:o,isInTheMoney:l,returnedCollateralAmount:s,returnedCollateralValue:y}}function ha(e){var t,n=T.O$.from(e.size),a=T.O$.from(e.spotPrice),i=T.O$.from(e.premium),r=T.O$.from(e.spotPriceFee),p=T.O$.from(e.optionPriceFee),u=T.O$.from(e.vegaUtilFee),o=T.O$.from(e.varianceFee),s=T.O$.from(null!==(t=e.externalSwapFees)&&void 0!==t?t:0),y=T.O$.from(e.strike.strikePrice),l=e.position.isLong?void 0:e.setCollateralTo?T.O$.from(e.setCollateralTo):f,d=e.position.isLong?void 0:e.position.isBaseCollateral,m=l?d?l.mul(a).div(b):l:void 0;return{timestamp:e.timestamp,source:A.Subgraph,positionId:e.position.positionId,blockNumber:e.blockNumber,marketName:e.market.name.substring(1),marketAddress:(0,c.getAddress)(e.market.id),isCall:e.option.isCall,strikeId:parseInt(e.strike.strikeId),strikePrice:y,expiryTimestamp:e.board.expiryTimestamp,transactionHash:e.transactionHash,trader:(0,c.getAddress)(e.trader),size:n,isOpen:e.isOpen,isBuy:e.isBuy,isLong:e.position.isLong,spotPrice:a,pricePerOption:i.mul(b).div(n),premium:i,fee:r.add(p).add(u).add(o).add(s),feeComponents:{spotPriceFee:r,optionPriceFee:p,vegaUtilFee:u,varianceFee:o},iv:T.O$.from(e.newIv),baseIv:T.O$.from(e.newBaseIv),skew:T.O$.from(e.newSkew),volTraded:T.O$.from(e.volTraded),collateralAmount:l,collateralValue:m,isBaseCollateral:d,isForceClose:e.isForceClose,isLiquidation:e.isLiquidation,swap:e.externalSwapFees?{fee:T.O$.from(e.externalSwapFees),address:e.externalSwapAddress}:void 0}}function ka(e){return{source:A.Subgraph,from:(0,c.getAddress)(e.oldOwner),to:(0,c.getAddress)(e.newOwner),transactionHash:e.transactionHash,blockNumber:e.blockNumber,positionId:e.position.positionId}}function wa(e,t){return e.filter((function(e,n,a){return a.findIndex((function(n){return t(n)===t(e)}))===n}))}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pa(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Oa(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Pa(r,a,i,p,u,"next",e)}function u(e){Pa(r,a,i,p,u,"throw",e)}p(void 0)}))}}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xa(e,t,n[t])}))}return e}function Ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||Aa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e){return function(e){if(Array.isArray(e))return ga(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Aa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){if(e){if("string"===typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}function Ia(){var e,t,n=(e=["\n  query positionEvents($positionIds: [String!]!) {\n    trades(first: 1000, orderBy: timestamp, orderDirection: asc, where: { position_in: $positionIds }) {\n      ","\n    }\n    collateralUpdates(first: 1000, orderBy: timestamp, orderDirection: asc, where: { position_in: $positionIds }) {\n      ","\n    }\n    settles(first: 1000, orderBy: timestamp, orderDirection: asc, where: { position_in: $positionIds }) {\n      ","\n    }\n    optionTransfers(first: 1000, orderBy: timestamp, orderDirection: asc, where: { position_in: $positionIds }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Ia=function(){return n},n}var qa=(0,m.gql)(Ia(),Te,fe,be,ve);function Va(e,t,n){return Ba.apply(this,arguments)}function Ba(){return(Ba=Oa(d().mark((function e(t,n,a){var i,r,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ca,e.next=3,Promise.all([t.subgraphClient.request(qa,{positionIds:a.map((function(e){return"".concat(n.address.toLowerCase(),"-").concat(e)}))}),Ta(t,n,a)]);case 3:return e.t1=e.sent,i=(0,e.t0)(e.t1,2),r=i[0],p=i[1],u=r.trades.map(ha),o=r.collateralUpdates.map(ba),s=r.optionTransfers.map(ka),y=r.settles.map(va),l=a.reduce((function(e,t){return Ma({},e,xa({},t,{trades:[],collateralUpdates:[],transfers:[],settle:null}))}),{}),u.forEach((function(e){l[e.positionId].trades.push(e)})),o.forEach((function(e){l[e.positionId].collateralUpdates.push(e)})),s.forEach((function(e){l[e.positionId].transfers.push(e)})),y.forEach((function(e){l[e.positionId].settle=e})),Object.entries(p).map((function(e){var t=Ca(e,2),n=t[0],a=t[1],i=a.trades,r=a.collateralUpdates,p=parseInt(n);l[p].trades=wa(Sa(l[p].trades).concat(Sa(i)),(function(e){return e.transactionHash})),l[p].collateralUpdates=wa(Sa(l[p].collateralUpdates).concat(Sa(r)),(function(e){return e.transactionHash}))})),e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e){var t=new At.Contract(k,$t(r.OptionToken));return Xn(e.map((function(e){try{var n=t.interface.parseLog(e);return n.name===w.PositionUpdated?{address:e.address,blockNumber:e.blockNumber,transactionHash:e.transactionHash,logIndex:e.logIndex,args:n.args}:null}catch(a){return null}})))}function La(e){var t=new At.Contract(k,$t(r.OptionMarket));return Xn(e.map((function(e){try{var n=t.interface.parseLog(e);return n.name===w.Trade&&n.args.tradeResults.length>0?{address:e.address,blockNumber:e.blockNumber,transactionHash:e.transactionHash,logIndex:e.logIndex,args:n.args}:null}catch(a){return null}})))}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ra(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ea(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ra(r,a,i,p,u,"next",e)}function u(e){Ra(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Na(e){return function(e){if(Array.isArray(e))return Da(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Da(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=Ea(d().mark((function e(t,n){var a,i,r,p,u,o,s,y,l,m,c,T,f,b,v,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof n){e.next=6;break}return e.next=3,t.provider.getTransactionReceipt(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=n;case 7:if(a=e.t0,i=a.transactionHash,r=La(a.logs),p=Fa(a.logs),u=null,!r.length){e.next=16;break}u=r[0].address,e.next=23;break;case 16:if(!p.length){e.next=23;break}return e.next=19,t.contractAddresses();case 19:o=e.sent,s=p[0].address,(y=o.find((function(e){return e.optionToken===s})))&&(u=y.optionMarket);case 23:if(u){e.next=25;break}return e.abrupt("return",{trades:[],collateralUpdates:[],transfers:[],settles:[]});case 25:return e.next=27,ou.get(t,u);case 27:return l=e.sent,m=Array.from(new Set(Na(r.map((function(e){return e.args.positionId.toNumber()}))).concat(Na(p.map((function(e){return e.args.positionId.toNumber()})))))),e.next=31,Va(t,l,m);case 31:return c=e.sent,T=Object.values(c).map((function(e){var n=e.trades,a=e.collateralUpdates,r=e.transfers,p=e.settle,u=n.find((function(e){return e.transactionHash===i})),o=a.find((function(e){return e.transactionHash===i})),s=r.find((function(e){return e.transactionHash===i})),y=(null===p||void 0===p?void 0:p.transactionHash)===i?p:null;return{trade:u?new ei(t,u,o):null,collateralUpdate:o?new oi(t,o,u):null,transfer:s?new Jn(t,s):null,settle:y?new di(t,y):null}})),f=Xn(T.map((function(e){return e.trade}))),b=Xn(T.map((function(e){return e.collateralUpdate}))),v=Xn(T.map((function(e){return e.transfer}))),h=Xn(T.map((function(e){return e.settle}))),e.abrupt("return",{trades:f,collateralUpdates:b,transfers:v,settles:h});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ua(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Wa(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ua(r,a,i,p,u,"next",e)}function u(e){Ua(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t,n){var a,i,p,u=null!==(a=null===n||void 0===n?void 0:n.pollInterval)&&void 0!==a?a:1e4,o=null!==(i=null===n||void 0===n?void 0:n.startBlockNumber)&&void 0!==i?i:"latest",s=new At.Contract(k,$t(r.OptionMarket));return Promise.all([jn(e),e.provider.getBlock(o)]).then(function(){var n=Wa(d().mark((function n(a){var i,r,o,y,l;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=Qa(a,2),r=i[0],o=i[1],console.debug("Polling from block ".concat(o.number," every ").concat(u,"ms")),y=o,l=function(){var n=Wa(d().mark((function n(){var a,i,p,o,m;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,e.provider.getBlock("latest");case 3:if(i=n.sent,p=y.number+1,o=i.number,!(p>=o)){n.next=9;break}return setTimeout(l,u),n.abrupt("return");case 9:return console.debug("Querying block range: ".concat(p," to ").concat(o," (").concat(o-p," blocks)")),n.next=12,e.provider.send("eth_getLogs",[{address:r.map((function(e){return e.optionMarket})),fromBlock:T.O$.from(p).toHexString(),toBlock:T.O$.from(o).toHexString(),topics:[[(null!==(a=s.filters.Trade().topics)&&void 0!==a?a:[])[0]]]}]);case 12:return(m=n.sent).length>0&&console.debug("Found ".concat(m.length," new trades")),n.next=16,Promise.all(m.map(function(){var n=Wa(d().mark((function n(a){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ei.getByHash(e,a.transactionHash);case 2:n.sent.map((function(e){return t(e)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 16:y=i,setTimeout(l,u);case 18:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=setTimeout(l,u);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),{off:function(){p&&clearTimeout(p)}}}function $a(e){if(0===e.length)return f;var t=e[0].size,n=e[0].pricePerOption,a=!0,i=!1,r=void 0;try{for(var p,u=e.slice(1)[Symbol.iterator]();!(a=(p=u.next()).done);a=!0){var o=p.value,s=t,y=o.size,l=o.premium,d=o.isOpen;if(t=d?t.add(y):t.sub(y),d&&t.gt(0)){var m=n.mul(s).div(b);n=m.add(l).mul(b).div(t)}}}catch(c){i=!0,r=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw r}}return n}function za(e,t){var n=e.trades(),a=n.findIndex((function(e){return e.transactionHash===t.transactionHash}));if(-1===a)throw new Error("TradeEvent does not exist for position");return n.slice(0,a)}function Ka(e,t){if(t.isOpen)return f;var n,a,i=t.size,r=t.isLong,p=t.pricePerOption,u=(n=t,(null!=(a=ei)&&"undefined"!==typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](n):n instanceof a)?t.prevAverageCostPerOption(e):t.prevAverageCostPerOption());return(r?p.sub(u):u.sub(p)).mul(i).div(b)}function Za(e,t){return za(e,t).reduce((function(e,t){return t.isOpen?e.add(t.size):e.sub(t.size)}),f)}function Ya(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ja(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ya(r,a,i,p,u,"next",e)}function u(e){Ya(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Xa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ei=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__tradeData=n,!n.isLong&&a&&(this.__collateralUpdateData=a),this.__source=n.source,this.positionId=n.positionId,this.marketName=n.marketName,this.marketAddress=n.marketAddress,this.timestamp=n.timestamp,this.blockNumber=n.blockNumber,this.transactionHash=n.transactionHash,this.trader=n.trader,this.size=n.size,this.isCall=n.isCall,this.isOpen=n.isOpen,this.isBuy=n.isBuy,this.isLong=n.isLong,this.strikeId=n.strikeId,this.strikePrice=n.strikePrice,this.expiryTimestamp=n.expiryTimestamp,this.spotPrice=n.spotPrice,this.pricePerOption=n.pricePerOption,this.premium=n.premium,this.fee=n.fee,this.feeComponents=n.feeComponents,this.swap=n.swap,this.iv=n.iv,this.skew=n.skew,this.baseIv=n.baseIv,this.volTraded=n.volTraded,this.collateralAmount=n.collateralAmount,this.collateralValue=n.collateralValue,this.isBaseCollateral=n.isBaseCollateral,this.isForceClose=n.isForceClose,this.isLiquidation=n.isLiquidation,this.liquidation=n.liquidation}var t,n,a;return t=e,a=[{key:"getByHash",value:function(e,t){return Ja(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_a(e,t);case 2:return a=n.sent.trades,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()}},{key:"on",value:function(e,t,n){return Ha(e,t,n)}}],(n=[{key:"pnl",value:function(e){return Ka(e,this)}},{key:"newAverageCostPerOption",value:function(e){return $a(za(e,this).concat([this]))}},{key:"prevAverageCostPerOption",value:function(e){return $a(za(e,this))}},{key:"newSize",value:function(e){return function(e,t){var n=Za(e,t);return t.isOpen?n.add(t.size):n.sub(t.size)}(e,this)}},{key:"prevSize",value:function(e){return Za(e,this)}},{key:"collateralUpdate",value:function(){return this.__collateralUpdateData?new oi(this.lyra,this.__collateralUpdateData,this.__tradeData):null}},{key:"position",value:function(){var e=this;return Ja(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sr.get(e.lyra,e.marketAddress,e.positionId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"option",value:function(){var e=this;return Ja(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt.get(e.lyra,e.marketAddress,e.strikeId,e.isCall);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"strike",value:function(){var e=this;return Ja(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct.get(e.lyra,e.marketAddress,e.strikeId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"board",value:function(){var e=this;return Ja(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.strike();case 2:return t.abrupt("return",t.sent.board());case 3:case"end":return t.stop()}}),t)})))()}},{key:"market",value:function(){var e=this;return Ja(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ou.get(e.lyra,e.marketAddress);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}])&&Xa(t.prototype,n),a&&Xa(t,a),e}();function ti(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function ni(e,t){var n,a,i,r;if(e.isLong||!e.collateral||!t.length)return f;if(!e.collateral.isBase)return v;var p=t[0],u=ti(p,oi)?p.amount:null!==(a=null===(n=p.collateral)||void 0===n?void 0:n.amount)&&void 0!==a?a:f,o=ti(p,oi)?p.spotPrice:p.market().spotPrice,s=!0,y=!1,l=void 0;try{for(var d,m=t.slice(1)[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var c=d.value,T=u,h=(u=ti(c,oi)?c.amount:null!==(r=null===(i=c.collateral)||void 0===i?void 0:i.amount)&&void 0!==r?r:f).sub(T);if(h.gt(0)){var k=o.mul(T).div(b),w=ti(c,oi)?c.spotPrice:c.market().spotPrice,g=h.mul(w).div(b);o=k.add(g).mul(b).div(u)}}}catch(P){y=!0,l=P}finally{try{s||null==m.return||m.return()}finally{if(y)throw l}}return o}function ai(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function ii(e,t){var n,a=ai(t,oi)?t.changeAmount(e):t.collateralChangeAmount();if(!(ai(t,oi)?t.isBaseCollateral:!!(null===(n=t.collateral)||void 0===n?void 0:n.isBase))||a.gt(0))return f;var i=t.prevAverageCollateralSpotPrice(e);return e.market().spotPrice.sub(i).mul(a).div(b)}function ri(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function pi(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ri(r,a,i,p,u,"next",e)}function u(e){ri(r,a,i,p,u,"throw",e)}p(void 0)}))}}function ui(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var oi=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__collateralUpdateData=n,this.__tradeData=a,this.__source=n.source,this.owner=n.owner,this.timestamp=n.timestamp,this.transactionHash=n.transactionHash,this.positionId=n.positionId,this.blockNumber=n.blockNumber,this.marketAddress=n.marketAddress,this.expiryTimestamp=n.expiryTimestamp,this.amount=n.amount,this.value=n.value,this.marketName=n.marketName,this.strikeId=n.strikeId,this.strikePrice=n.strikePrice,this.isCall=n.isCall,this.isBaseCollateral=n.isBaseCollateral,this.spotPrice=n.spotPrice,this.isAdjustment=!a,this.swap=n.swap}var t,n,a;return t=e,a=[{key:"getByHash",value:function(e,t){return pi(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_a(e,t);case 2:return a=n.sent.collateralUpdates,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()}}],(n=[{key:"pnl",value:function(e){return ii(e,this)}},{key:"prevAmount",value:function(e){var t,n=this,a=e.collateralUpdates().filter((function(e){return e.blockNumber<n.blockNumber})),i=a.length?a[a.length-1]:null;return null!==(t=null===i||void 0===i?void 0:i.amount)&&void 0!==t?t:f}},{key:"changeAmount",value:function(e){var t=this.prevAmount(e);return this.amount.sub(t)}},{key:"changeValue",value:function(e){var t=this.changeAmount(e);return this.isBaseCollateral?t.mul(this.spotPrice).div(b):t}},{key:"newAverageCollateralSpotPrice",value:function(e){var t=this,n=e.collateralUpdates().filter((function(e){return e.blockNumber<=t.blockNumber}));return ni(e,n)}},{key:"prevAverageCollateralSpotPrice",value:function(e){var t=this,n=e.collateralUpdates().filter((function(e){return e.blockNumber<t.blockNumber}));return ni(e,n)}},{key:"trade",value:function(){return this.__tradeData?new ei(this.lyra,this.__tradeData,this.__collateralUpdateData):null}},{key:"position",value:function(){var e=this;return pi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sr.get(e.lyra,e.marketAddress,e.positionId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"option",value:function(){var e=this;return pi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt.get(e.lyra,e.marketAddress,e.strikeId,e.isCall);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"strike",value:function(){var e=this;return pi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct.get(e.lyra,e.marketAddress,e.strikeId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"board",value:function(){var e=this;return pi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.strike();case 2:return t.abrupt("return",t.sent.board());case 3:case"end":return t.stop()}}),t)})))()}},{key:"market",value:function(){var e=this;return pi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ou.get(e.lyra,e.marketAddress);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}])&&ui(t.prototype,n),a&&ui(t,a),e}();function si(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function yi(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){si(r,a,i,p,u,"next",e)}function u(e){si(r,a,i,p,u,"throw",e)}p(void 0)}))}}function li(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var di=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__settleData=n,this.__source=n.source,this.blockNumber=n.blockNumber,this.positionId=n.positionId,this.spotPriceAtExpiry=n.spotPriceAtExpiry,this.timestamp=n.timestamp,this.transactionHash=n.transactionHash,this.owner=n.owner,this.size=n.size,this.marketName=n.marketName,this.blockNumber=n.blockNumber,this.marketAddress=n.marketAddress,this.expiryTimestamp=n.expiryTimestamp,this.isCall=n.isCall,this.isLong=n.isLong,this.isBaseCollateral=n.isBaseCollateral,this.strikePrice=n.strikePrice,this.settlement=n.settlement,this.returnedCollateralAmount=n.returnedCollateralAmount,this.returnedCollateralValue=n.returnedCollateralValue,this.isInTheMoney=n.isInTheMoney}var t,n,a;return t=e,a=[{key:"getByHash",value:function(e,t){return yi(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_a(e,t);case 2:return a=n.sent.settles,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()}}],(n=[{key:"pnl",value:function(e){return e.pnl().settlementPnl}},{key:"position",value:function(){var e=this;return yi(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.lyra.position(e.marketAddress,e.positionId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}])&&li(t.prototype,n),a&&li(t,a),e}();function mi(e,t,n,a){return e?a?n:null:n.mul(t).div(b)}function ci(e,t,n,a,i){var r=e.board().timeToExpiry,p=te(e.board());if(0===p)return f;var u,o,s=e.market().__marketData.marketParameters.minCollatParams,y=e.isCall?n.mul(s.callSpotPriceShock).div(b):n.mul(s.putSpotPriceShock).div(b),l=e.market().__marketData.marketParameters.greekCacheParams.rateAndCarry,d=ne(Q(p,X(function(e,t,n){if(n)return e.shockVolA;var a=T.O$.from(t);if(a.lte(e.shockVolPointA))return e.shockVolA;if(a.gte(e.shockVolPointB))return e.shockVolB;var i=e.shockVolA.sub(e.shockVolB),r=a.sub(e.shockVolPointA);return e.shockVolA.sub(i.mul(r).div(e.shockVolPointB.sub(e.shockVolPointA)))}(s,r,i)),X(y),X(e.strike().strikePrice),X(l),e.isCall)),m=function(e,t){var n=e.__marketData.marketParameters.minCollatParams;return t?n.minStaticBaseCollateral:n.minStaticQuoteCollateral}(e.market(),a);e.isCall?a?(o=d.mul(t).div(y),u=t):(o=d.mul(t).div(b),u=h):(o=d.mul(t).div(b),u=e.strike().strikePrice.mul(t).div(b));var c=o.gt(m)?o:m;return c.lt(u)?c:u}function Ti(e,t,n,a){var i=e.board().timeToExpiry,r=ci(e,t,e.market().spotPrice,a,!0),p=mi(e.isCall,e.strike().strikePrice,t,a),u=e.isCall&&!a,o=e.market().spotPrice;if(i<=0||t.eq(0)||n.eq(0))return null;if(p&&n.gte(p)&&!u)return null;if(n.lt(r))return o;for(var s,y,l,d=o.div(5),m=o.mul(5),c=0;d.lt(m)&&c<20;){var T=d.add(m).div(2),f=ci(e,t,T,a,!0);if(e.isCall?n.lt(f)?m=T:d=T:n.lt(f)?d=T:m=T,c++,s=f,l=.001,(y=n).gt(0)?X(y.sub(s).mul(b).div(y).abs())<=l:s.eq(y))return T}return console.warn("Failed to find liquidation price"),d.add(m).div(2)}function fi(e,t,n,a){var i,r=e.strike(),p=e.board(),u=e.market(),o=p.isExpired?null!==(i=p.spotPriceAtExpiry)&&void 0!==i?i:f:u.spotPrice;return{amount:n,value:a?n.mul(o).div(b):n,min:ci(e,t,o,a),max:mi(e.isCall,r.strikePrice,t,a),isBase:!!e.isCall&&!!a,liquidationPrice:Ti(e,t,n,a)}}function bi(e,t,n,a,i,r){var p,u,o,s,y=e.positionId,l=parseInt(e.strike.strikeId),d=parseInt(e.board.boardId),m=e.option.isCall,v=e.isLong,h=e.state,k=h===P.Active,w=h===P.Liquidated,g=h===P.Settled,O=[P.Closed,P.Liquidated].includes(h)?f:T.O$.from(e.size);try{s=d?t.liveBoard(d).strike(l).option(m):null}catch(G){s=null}var x=s?s.price:f,M=T.O$.from(e.strike.strikePrice),C=!!m&&!!e.isBaseCollateral,S=e.board.spotPriceAtExpiry?T.O$.from(e.board.spotPriceAtExpiry):void 0,I=t.spotPrice,q=null!==S&&void 0!==S?S:I,V=m?q.gt(M):q.lt(M),B=(k||g)&&null!==(u=null===(p=a[a.length-1])||void 0===p?void 0:p.amount)&&void 0!==u?u:f,F=v?void 0:s?fi(s,O,B,C):{amount:B,value:C?B.mul(I).div(b):B,min:f,max:mi(m,M,O,C),isBase:C,liquidationPrice:null},L=t.name,D=(0,c.getAddress)(t.address),R=(0,c.getAddress)(e.owner),E=e.board.expiryTimestamp,N=n[0].timestamp,_=g&&r?r.timestamp:k?null:n[n.length-1].timestamp;return{id:y,market:t,source:A.Subgraph,blockNumber:t.block.number,delta:null!==(o=null===s||void 0===s?void 0:s.delta)&&void 0!==o?o:f,owner:R,marketName:L,marketAddress:D,strikeId:l,strikePrice:M,expiryTimestamp:E,isCall:m,isLong:v,state:h,isOpen:k,isLiquidated:w,isSettled:g,size:O,collateral:F,pricePerOption:x,spotPriceAtExpiry:S,isInTheMoney:V,openTimestamp:N,closeTimestamp:_,trades:n,collateralUpdates:a,transfers:i,settle:r}}function vi(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function hi(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){vi(r,a,i,p,u,"next",e)}function u(e){vi(r,a,i,p,u,"throw",e)}p(void 0)}))}}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ki(e,t,n[t])}))}return e}function gi(){var e,t,n=(e=["\n  query positions($max: Int!, $min: Int!, $market: String!) {\n    positions(first: 1000, orderBy: openTimestamp, orderDirection: asc, where: { \n      positionId_gte: $min, \n      positionId_lte: $max,\n      market: $market,\n    }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return gi=function(){return n},n}var Pi=(0,m.gql)(gi(),he);function Oi(e,t){return xi.apply(this,arguments)}function xi(){return(xi=hi(d().mark((function e(t,n){var a,i,r,p,u,o,s,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.markets)){e.next=8;break}return e.next=5,Promise.all(n.markets.map((function(e){return t.market(e)})));case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,t.markets();case 10:r=e.sent;case 11:return e.next=13,Promise.all(r.map((function(e){var a,i,r,p,u,o,s=null!==(a=null===n||void 0===n?void 0:n.minPositionIds)&&void 0!==a?a:{},y=null!==(i=null===n||void 0===n?void 0:n.maxPositionIds)&&void 0!==i?i:{},l=null!==(r=Object.keys(s).find((function(t){return t.toLowerCase()===e.address.toLowerCase()||t.toLowerCase()===e.name.toLowerCase()})))&&void 0!==r?r:"",d=null!==(p=Object.keys(y).find((function(t){return t.toLowerCase()===e.address.toLowerCase()||t.toLowerCase()===e.name.toLowerCase()})))&&void 0!==p?p:"",m=null!==(u=s[l])&&void 0!==u?u:0,c=null!==(o=y[d])&&void 0!==o?o:0;return Se(t,Pi,{min:m,max:c,market:e.address.toLowerCase()},"positionId",{increment:1e3,batch:15})})));case 13:return p=e.sent,u=r.reduce((function(e,t){return wi({},e,ki({},t.address,t))}),{}),o=null!==(a=null===n||void 0===n?void 0:n.minOpenTimestamp)&&void 0!==a?a:0,s=null!==(i=null===n||void 0===n?void 0:n.maxCloseTimestamp)&&void 0!==i?i:me,y=p.flat().filter((function(e){return e.openTimestamp>=o&&e.closeTimestamp<=s})).map((function(e){var t=e.trades.map(ha),n=e.collateralUpdates.map(ba),a=e.transfers.map(ka),i=e.settle?va(e.settle):null;return bi(e,u[(0,c.getAddress)(e.market.id)],t,n,a,i)})),e.abrupt("return",y);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t,n,a,i,r,p){var u=t.positionId.toNumber(),o=t.amount,s=t.optionType,y=ta(s),l=na(s),d=t.state,m=d===P.Active,c=d===P.Liquidated,T=d===P.Settled,f=!l&&y?ea(s):void 0,b=l?void 0:fi(n,o,t.collateral,f),v=n.board().spotPriceAtExpiry,h=n.market().spotPrice,k=null!==v&&void 0!==v?v:h,w=n.strike().strikePrice,g=y?k.gt(w):k.lt(w),O=a[0],x=a[a.length-1],M=n.market(),C=n.strike(),S=n.board(),I=O?O.timestamp:0,q=T&&p?p.timestamp:m?null:x?x.timestamp:null;return{id:u,market:M,source:A.ContractCall,blockNumber:M.block.number,owner:e,marketName:M.name,marketAddress:M.address,strikeId:C.id,strikePrice:C.strikePrice,expiryTimestamp:S.expiryTimestamp,size:o,isCall:y,isLong:l,state:d,isOpen:m,isLiquidated:c,isSettled:T,collateral:b,pricePerOption:n.price,spotPriceAtExpiry:v,isInTheMoney:g,delta:n.delta,openTimestamp:I,closeTimestamp:q,trades:a,collateralUpdates:i,transfers:r,settle:p}}function Ci(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Si(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ci(r,a,i,p,u,"next",e)}function u(e){Ci(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ai(e,t,n[t])}))}return e}function qi(e,t,n){return Vi.apply(this,arguments)}function Vi(){return Vi=Si(d().mark((function e(t,n,i){var r,p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(t.provider,t.deployment,a.OptionMarketViewer).getOwnerPositions(n);case 2:return r=e.sent,p=i.reduce((function(e,t){return Ii({},e,Ai({},t.address,t))}),{}),u=r.map((function(e){var t=e.positions,n=e.market;return{positionStructs:t,market:p[n]}})),e.next=7,Promise.all(u.map(function(){var e=Si(d().mark((function e(a){var i,r,p,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.market,r=a.positionStructs,p=r.map((function(e){return e.positionId.toNumber()})),e.next=4,Va(t,i,p);case 4:return u=e.sent,e.abrupt("return",r.map((function(e){var t=e.positionId.toNumber(),a=e.strikeId.toNumber(),r=ta(e.optionType),p=u[t],o=p.trades,s=p.collateralUpdates,y=p.transfers,l=p.settle,d=i.liveOption(a,r);return Mi(n,e,d,o,s,y,l)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return o=e.sent.flat(),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Fi(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Li(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Fi(r,a,i,p,u,"next",e)}function u(e){Fi(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(){var e,t,n=(e=["\n  query positions($positionId: Int!, $market: String!) {\n    positions(first: 1, orderBy: openTimestamp, orderDirection: asc, where: { \n      positionId: $positionId, \n      market: $market,\n    }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Ri=function(){return n},n}var Ei=(0,m.gql)(Ri(),he);function Ni(e,t,n){return _i.apply(this,arguments)}function _i(){return(_i=Li(d().mark((function e(t,n,a){var i,p,u,o,s,y,l,m,c,T,f,b,v,h,k,w,g,P;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zt(t,n.contractAddresses,r.OptionToken),e.prev=1,e.t0=Di,e.next=5,Promise.all([i.getPositionWithOwner(a),Va(t,n,[a])]);case 5:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],s=o[a],y=s.trades,l=s.transfers,m=s.collateralUpdates,c=s.settle,T=u.strikeId.toNumber(),f=ta(u.optionType),b=n.liveOption(T,f),e.abrupt("return",Mi(u.owner,u,b,y,m,l,c));case 16:return e.prev=16,e.t2=e.catch(1),e.next=20,t.subgraphClient.request(Ei,{positionId:a,market:n.address.toLowerCase()});case 20:return v=e.sent.positions,h=v[0],k=h.trades.map(ha),w=h.collateralUpdates.map(ba),g=h.transfers.map(ka),P=h.settle?va(h.settle):null,e.abrupt("return",bi(h,n,k,w,g,P));case 27:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function Gi(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ji(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Gi(r,a,i,p,u,"next",e)}function u(e){Gi(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ui(e,t,n[t])}))}return e}function Qi(){var e,t,n=(e=["\n  query positions($owner: String) {\n    # Get all positions that have been transferred to $owner\n    optionTransfers(first: 1000, where:{newOwner: $owner}) {\n      position {\n        ","\n      }\n    }\n    # Get all positions that have been traded by $owner\n    # This covers any positions a trader opened as well as collateral updates\n    trades(first: 1000, where:{trader:$owner}) {\n      position {\n        ","\n      }\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Qi=function(){return n},n}var Hi,$i,zi=(0,m.gql)(Qi(),he,he);function Ki(e,t,n){return Zi.apply(this,arguments)}function Zi(){return(Zi=ji(d().mark((function e(t,n,a){var i,r,p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.subgraphClient.request(zi,{owner:n.toLowerCase()});case 2:return i=e.sent,r=i.optionTransfers.map((function(e){return e.position})),p=i.trades.map((function(e){return e.position})),u=wa(p.concat(r),(function(e){return e.id})),o=a.reduce((function(e,t){return Wi({},e,Ui({},t.address,t))}),{}),e.abrupt("return",u.map((function(e){var t=e.trades.map(ha),n=e.collateralUpdates.map(ba),a=e.transfers.map(ka);return bi(e,o[(0,c.getAddress)(e.market.id)],t,n,a,e.settle?va(e.settle):null)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ji(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Xi(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ji(r,a,i,p,u,"next",e)}function u(e){Ji(r,a,i,p,u,"throw",e)}p(void 0)}))}}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){return nr.apply(this,arguments)}function nr(){return(nr=Xi(d().mark((function e(t,n){var a,i,r,p,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.markets();case 2:return a=e.sent,e.t0=er,e.next=6,Promise.all([qi(t,n,a),Ki(t,n,a)]);case 6:return e.t1=e.sent,i=(0,e.t0)(e.t1,2),r=i[0],p=i[1],u=r.concat(p),e.abrupt("return",wa(u,(function(e){return e.id})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(e,t,n,a,i,r,p){return e?t?(a.gte(n)?a.sub(n).sub(i):i.mul(-1)).mul(r).div(b):(a.lte(n)?n.sub(a).sub(i):i.mul(-1)).mul(r).div(b):t?(p&&a.gte(p)?i.sub(a):a.lte(n)?i:i.sub(a).add(n)).mul(r).div(b):(p&&a.lte(p)?i.sub(n):a.lte(n)?a.sub(n).add(i):i).mul(r).div(b)}function ir(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function rr(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ir(r,a,i,p,u,"next",e)}function u(e){ir(r,a,i,p,u,"throw",e)}p(void 0)}))}}function pr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ur(e,t,n[t])}))}return e}($i=Hi||(Hi={})).RealizedPnl="RealizedPnl",$i.RealizedLongPnl="RealizedLongPnl",$i.RealizedLongPnlPercentage="RealizedLongPnlPercentage",$i.UnrealizedPnl="UnrealizedPnl",$i.UnrealizedLongPnl="UnrealizedLongPnl",$i.UnrealizedLongPnlPercentage="UnrealizedLongPnlPercentage";var sr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__positionData=n,this.__source=n.source,this.owner=n.owner,this.id=n.id,this.strikeId=n.strikeId,this.strikePrice=n.strikePrice,this.expiryTimestamp=n.expiryTimestamp,this.marketName=n.marketName,this.marketAddress=n.marketAddress,this.isCall=n.isCall,this.isLong=n.isLong,this.state=n.state,this.isOpen=n.isOpen,this.size=n.size,this.isLiquidated=n.isLiquidated,this.isSettled=n.isSettled,this.collateral=n.collateral,this.pricePerOption=n.pricePerOption,this.spotPriceAtExpiry=n.spotPriceAtExpiry,this.isInTheMoney=n.isInTheMoney,this.delta=n.delta,this.openTimestamp=n.openTimestamp,this.closeTimestamp=n.closeTimestamp}var t,n,a;return t=e,a=[{key:"get",value:function(t,n,a){return rr(d().mark((function i(){var r,p;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(t,n);case 2:return r=i.sent,i.next=5,Ni(t,r,a);case 5:return p=i.sent,i.abrupt("return",new e(t,p));case 7:case"end":return i.stop()}}),i)})))()}},{key:"getAll",value:function(t,n){return rr(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oi(t,n);case 2:return i=a.sent,a.abrupt("return",i.map((function(n){return new e(t,n)})));case 4:case"end":return a.stop()}}),a)})))()}},{key:"getOpenByOwner",value:function(t,n){return rr(d().mark((function a(){var i,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.markets();case 2:return i=a.sent,a.next=5,qi(t,n,i);case 5:return r=a.sent,a.abrupt("return",r.map((function(n){return new e(t,n)})));case 7:case"end":return a.stop()}}),a)})))()}},{key:"getByOwner",value:function(t,n){return rr(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,tr(t,n);case 2:return i=a.sent,a.abrupt("return",i.map((function(n){return new e(t,n)})));case 4:case"end":return a.stop()}}),a)})))()}}],(n=[{key:"sizeBeforeClose",value:function(){if(!this.isOpen&&this.size.isZero()){var e=this.trades();return e[e.length-1].prevSize(this)}return this.size}},{key:"averageCostPerOption",value:function(){return $a(this.trades())}},{key:"averageCollateralSpotPrice",value:function(){return ni(this,this.collateralUpdates())}},{key:"pnl",value:function(){return function(e){var t,n,a=e.trades().filter((function(e){return!e.isOpen})),i=e.settle(),r=e.averageCostPerOption().mul(e.size).div(b),p=a.reduce((function(t,n){var a=n.prevAverageCostPerOption(e).mul(n.size).div(b);return t.add(a)}),f),u=a.reduce((function(e,t){return e.add(t.premium)}),f);if(e.isLong){var o=f,s=f;e.isOpen&&(o=e.pricePerOption.mul(e.size).div(b).sub(r),s=r.gt(0)?o.mul(b).div(r):f);var y=u.sub(p),l=p.gt(0)?y.mul(b).div(p):f,d=f,m=f;return i&&(d=i.settlement.sub(r),m=r.gt(0)?d.mul(b).div(r):f),{totalAverageOpenCost:r,totalAverageCloseCost:p,unrealizedPnl:o,unrealizedPnlPercentage:s,realizedPnl:y,realizedPnlPercentage:l,settlementPnl:d,settlementPnlPercentage:m}}var c=f,T=f;if(e.isOpen){var v=e.pricePerOption.mul(e.size).div(b);c=r.sub(v),T=r.gt(0)?c.mul(b).div(r):f}var h=p.sub(u),k=p.gt(0)?h.mul(b).div(p):f,w=f,g=f;if(i){var P=null!==(n=null===(t=e.collateral)||void 0===t?void 0:t.value)&&void 0!==n?n:f;w=i.returnedCollateralValue.add(r).sub(P),g=r.gt(0)?w.mul(b).div(r):f}return{totalAverageOpenCost:r,totalAverageCloseCost:p,unrealizedPnl:c,unrealizedPnlPercentage:T,realizedPnl:h,realizedPnlPercentage:k,settlementPnl:w,settlementPnlPercentage:g}}(this)}},{key:"breakEven",value:function(){return ee(this.isCall,this.strikePrice,this.averageCostPerOption())}},{key:"toBreakEven",value:function(){var e,t,n,a=this.breakEven(),i=this.isOpen?this.market().spotPrice:this.isSettled?null!==(e=this.spotPriceAtExpiry)&&void 0!==e?e:f:null!==(n=null===(t=this.lastTrade())||void 0===t?void 0:t.spotPrice)&&void 0!==n?n:f,r=a.sub(i);return this.isCall?i.gt(a)?f:r:i.lt(a)?f:r}},{key:"payoff",value:function(e){var t;return ar(this.isLong,this.isCall,this.strikePrice,e,this.averageCostPerOption(),this.sizeBeforeClose(),null===(t=this.collateral)||void 0===t?void 0:t.liquidationPrice)}},{key:"trades",value:function(){var e=this,t=this.__positionData,n=t.trades,a=t.collateralUpdates.reduce((function(e,t){return or({},e,ur({},t.transactionHash,t))}),{});return n.map((function(t){return new ei(e.lyra,t,a[t.transactionHash])}))}},{key:"firstTrade",value:function(){var e;return null!==(e=this.trades()[0])&&void 0!==e?e:null}},{key:"lastTrade",value:function(){var e,t=this.trades();return null!==(e=t[t.length-1])&&void 0!==e?e:null}},{key:"collateralUpdates",value:function(){var e=this,t=this.__positionData,n=t.trades,a=t.collateralUpdates,i=n.reduce((function(e,t){return or({},e,ur({},t.transactionHash,t))}),{});return a.map((function(t){return new oi(e.lyra,t,i[t.transactionHash])}))}},{key:"transfers",value:function(){var e=this;return this.__positionData.transfers.map((function(t){return new Jn(e.lyra,t)}))}},{key:"settle",value:function(){var e=this.__positionData.settle;return e?new di(this.lyra,e):null}},{key:"market",value:function(){return this.__positionData.market}},{key:"board",value:function(){var e=this;return rr(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.strike();case 2:return t.abrupt("return",t.sent.board());case 3:case"end":return t.stop()}}),t)})))()}},{key:"strike",value:function(){var e=this;return rr(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.market().strike(e.strikeId));case 1:case"end":return t.stop()}}),t)})))()}},{key:"option",value:function(){var e=this;return rr(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.market().option(e.strikeId,e.isCall));case 1:case"end":return t.stop()}}),t)})))()}},{key:"trade",value:function(e,t,n,a){var i=this;return rr(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Kr.get(i.lyra,i.owner,i.marketAddress,i.strikeId,i.isCall,e,t,or({premiumSlippage:n,positionId:i.id},a));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}},{key:"open",value:function(e,t,n){var a=this;return rr(d().mark((function i(){var r;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=a.isLong,i.next=3,a.trade(r,e,t,n);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})))()}},{key:"close",value:function(e,t,n){var a=this;return rr(d().mark((function i(){var r;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=!a.isLong,i.next=3,a.trade(r,e,t,n);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})))()}}])&&pr(t.prototype,n),a&&pr(t,a),e}();function yr(e,t){return e.div(T.O$.from(10).pow(18-t))}function lr(e,t){return e.mul(T.O$.from(10).pow(18-t))}function dr(e,t,n){return e?t?u.LongCall:n?u.ShortCoveredCall:u.ShortCall:t?u.LongPut:u.ShortPut}var mr,cr,Tr=T.O$.from(2);(cr=mr||(mr={}))[cr.uint8=0]="uint8",cr[cr.uint32=1]="uint32",cr[cr.uint64=2]="uint64",cr[cr.bool=3]="bool";var fr={openLong:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},isCall:{offset:16,type:mr.bool},iterations:{offset:24,type:mr.uint8},strikeId:{offset:32,type:mr.uint32},maxCost:{offset:64,type:mr.uint32},inputAmount:{offset:96,type:mr.uint32},size:{offset:128,type:mr.uint64}},addLong:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},positionId:{offset:24,type:mr.uint32},maxCost:{offset:56,type:mr.uint32},inputAmount:{offset:88,type:mr.uint32},size:{offset:120,type:mr.uint64}},reduceLong:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},isForceClose:{offset:24,type:mr.bool},positionId:{offset:32,type:mr.uint32},inputAmount:{offset:64,type:mr.uint32},size:{offset:96,type:mr.uint64},minReceived:{offset:160,type:mr.uint32}},closeLong:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},isForceClose:{offset:24,type:mr.bool},positionId:{offset:32,type:mr.uint32},inputAmount:{offset:64,type:mr.uint32},minReceived:{offset:96,type:mr.uint32}},openShort:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},optionType:{offset:16,type:mr.uint8},iterations:{offset:24,type:mr.uint8},strikeId:{offset:32,type:mr.uint32},minReceived:{offset:64,type:mr.uint32},inputAmount:{offset:96,type:mr.uint32},size:{offset:128,type:mr.uint64},collateral:{offset:192,type:mr.uint64}},addShort:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},positionId:{offset:24,type:mr.uint32},inputAmount:{offset:56,type:mr.uint32},minReceived:{offset:88,type:mr.uint32},size:{offset:120,type:mr.uint64},absoluteCollateral:{offset:184,type:mr.uint64}},reduceShort:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},isForceClose:{offset:24,type:mr.bool},positionId:{offset:32,type:mr.uint32},inputAmount:{offset:64,type:mr.uint32},maxCost:{offset:96,type:mr.uint32},size:{offset:128,type:mr.uint64},absoluteCollateral:{offset:196,type:mr.uint64}},closeShort:{market:{offset:0,type:mr.uint8},token:{offset:8,type:mr.uint8},iterations:{offset:16,type:mr.uint8},isForceClose:{offset:24,type:mr.bool},positionId:{offset:32,type:mr.uint32},inputAmount:{offset:64,type:mr.uint32},maxCost:{offset:96,type:mr.uint32}}};function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return T.O$.from(e).mul(100).div(T.O$.from(10).pow(t))}function vr(e){return T.O$.from(e).mul(1e8).div(b)}function hr(e,t){if(!0===e||!1===e){if(t.type==mr.bool)return T.O$.from(e?1:0).mul(Tr.pow(t.offset));throw Error("boolean value has non bool datatype")}var n=T.O$.from(e);if(t.type==mr.uint8&&n.gte(Tr.pow(8)))throw Error("value too large for datatype uint8");if(t.type==mr.uint32&&n.gte(Tr.pow(32)))throw Error("value too large for datatype uint32");if(t.type==mr.uint64&&n.gte(Tr.pow(64)))throw Error("value too large for datatype uint64");return n.mul(Tr.pow(t.offset))}function kr(e,t){var n=T.O$.from(0),a=!0,i=!1,r=void 0;try{for(var p,u=Object.keys(e)[Symbol.iterator]();!(a=(p=u.next()).done);a=!0){var o=p.value;if(!t[o])throw Error("key ".concat(o," missing from paramsForType ").concat(JSON.stringify(t)));n=n.add(hr(e[o],t[o]))}}catch(s){i=!0,r=s}finally{try{a||null==u.return||u.return()}finally{if(i)throw r}}return n}function wr(e){return kr(e,fr.openLong)}function gr(e){return kr(e,fr.reduceLong)}function Pr(e){return kr(e,fr.closeLong)}function Or(e){return kr(e,fr.openShort)}function xr(e){return kr(e,fr.addShort)}function Mr(e){return kr(e,fr.reduceShort)}function Cr(e){return kr(e,fr.closeShort)}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Sr(e,t,n[t])}))}return e}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function qr(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){qr(r,a,i,p,u,"next",e)}function u(e){qr(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t,n,a){return Lr.apply(this,arguments)}function Lr(){return(Lr=Vr(d().mark((function e(t,n,i,r){var p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=Nn(t.provider,t.deployment,a.OptionMarketWrapper),e.t0=Br,e.next=4,p.quoteCurveSwap(n,i,r);case 4:return e.t1=e.sent,u=(0,e.t0)(e.t1,2),u[0],o=u[1],e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e,t){var n=Math.pow(10,t-1),a=X(e),i=Math.floor(a*n),r=Math.ceil(a*n);return i<a*n&&a*n<r}function Rr(e,t,n){var a,i;if(e.isZero())return f;var r=null!==(a=null===n||void 0===n?void 0:n.bnDecimals)&&void 0!==a?a:18,p=e.div(T.O$.from(10).pow(r-t));return(null===(i=null===n||void 0===n?void 0:n.ceil)||void 0===i||i)&&(p=p.add(1)),p.mul(T.O$.from(10).pow(r-t))}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Nr(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function _r(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Nr(r,a,i,p,u,"next",e)}function u(e){Nr(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Gr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){jr(e,t,n[t])}))}return e}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||Hr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e){return function(e){if(Array.isArray(e))return Er(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){if(e){if("string"===typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}var $r,zr;(zr=$r||($r={})).EmptySize="EmptySize",zr.EmptyPremium="EmptyPremium",zr.Expired="Expired",zr.TradingCutoff="TradingCutoff",zr.InsufficientLiquidity="InsufficientLiquidity",zr.DeltaOutOfRange="DeltaOutOfRange",zr.VolTooHigh="VolTooHigh",zr.VolTooLow="VolTooLow",zr.IVTooHigh="IVTooHigh",zr.IVTooLow="IVTooLow",zr.SkewTooHigh="SkewTooHigh",zr.SkewTooLow="SkewTooLow",zr.NotEnoughCollateral="NotEnoughCollateral",zr.TooMuchCollateral="TooMuchCollateral",zr.EmptyCollateral="EmptyCollateral",zr.PositionWrongOwner="PositionWrongOwner",zr.PositionClosed="PositionClosed",zr.PositionNotLargeEnough="PositionNotLargeEnough",zr.PositionClosedLeftoverCollateral="PositionClosedLeftoverCollateral";var Kr=function(){function e(t,n,i,r,p,u){var o,s,y,l,d,m,c,v,k,w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall;var g=null!==u&&void 0!==u?u:{},P=g.position,O=g.premiumSlippage,x=g.setToCollateral,M=void 0===x?f:x,C=g.setToFullCollateral,S=void 0!==C&&C,I=g.minOrMaxPremium,q=g.iterations,V=void 0===q?1:q,B=g.isBaseCollateral,F=g.inputAsset,L=g.swapRate,D=void 0===L?1:L;this.__option=i,this.__position=P;var R=i.strike(),E=i.market(),N=i.board();this.lyra=t,this.marketName=E.name,this.marketAddress=E.address,this.expiryTimestamp=N.expiryTimestamp,this.boardId=N.id,this.strikePrice=R.strikePrice,this.strikeId=R.id,this.isCall=i.isCall,this.positionId=null===P||void 0===P?void 0:P.id,this.isBuy=r,this.isOpen=!P||(r&&P.isLong||!r&&!P.isLong),this.owner=n,this.isLong=P?P.isLong:r;var _=P?null===(o=P.collateral)||void 0===o?void 0:o.isBase:B;this.size=p;var G=de.get(i,this.isBuy,this.size,{iterations:V});this.isOpen||G.disabledReason!==ie.DeltaOutOfRange&&G.disabledReason!==ie.TradingCutoff||(G=de.get(i,this.isBuy,this.size,{iterations:V,isForceClose:!0})),this.isForceClose=G.isForceClose,this.iv=G.iv,this.fairIv=G.fairIv,this.greeks=G.greeks,this.fee=G.fee,this.feeComponents=G.feeComponents,this.forceClosePenalty=G.forceClosePenalty,this.iterations=G.iterations,this.externalSwapFee=f,this.quoteToken={address:F?F.address:E.quoteToken.address,transfer:f,receive:f},this.baseToken={address:E.baseToken.address,transfer:f,receive:f},this.quoted=G.premium,this.pricePerOption=f,this.premium=f,this.newSize=P?this.isOpen?P.size.add(p):P.size.sub(p):p,this.newSize.lt(0)&&(this.newSize=f),this.prevSize=null!==(s=null===P||void 0===P?void 0:P.size)&&void 0!==s?s:f;var j=I||(O?G.premium.mul(ne(r?1+O:1-O)).div(b):void 0);if(!j)throw new Error("Must define one of minOrMaxPremium or premiumSlippage");this.slippage=O||(j.gt(0)?1-X(G.premium.mul(b).div(j)):0),this.premium=j,this.pricePerOption=p.gt(0)?this.premium.mul(b).div(p):f;var U=this.quoteToken.transfer,W=this.baseToken.transfer;if(U=r?U.add(this.premium):U.sub(this.premium),this.isOpen&&!this.isBuy||P&&!P.isLong){this.collateral=function(e){var t=e.option,n=e.postTradeSize,a=e.setToCollateral,i=e.setToFullCollateral,r=e.isBaseCollateral,p=!!t.isCall&&!!r;if(n.isZero())return{amount:f,min:f,max:f,isMin:!1,isMax:!1,liquidationPrice:null,isBase:p};var u,o=t.market(),s=ci(t,n,o.spotPrice,r),y=mi(t.isCall,t.strike().strikePrice,n,r);if(y&&s.gt(y)&&(y=s),i){if(!y)throw new Error("Cannot fully collateralize a cash-secured short call");u=y}else u=null!==a&&void 0!==a?a:f;var l=u.lte(s),d=!(!y||!u.gte(y));return{amount:u,isBase:p,max:y,min:s,isMin:l,isMax:d,liquidationPrice:Ti(t,n,u,r)}}({option:i,postTradeSize:this.newSize,setToCollateral:M,setToFullCollateral:S,isBaseCollateral:_});var Q=this.collateral.amount.sub(null!==(l=null===(y=null===P||void 0===P?void 0:P.collateral)||void 0===y?void 0:y.amount)&&void 0!==l?l:f);this.collateral.isBase?W=W.add(Q):U=U.add(Q)}if(F&&this.option().market().quoteToken.address!==F.address){var H=Math.abs(D-1)+.005;this.externalSwapFee=U.abs().mul(ne(H)).div(b)}U.gt(0)?this.quoteToken.transfer=U.add(this.externalSwapFee):this.quoteToken.receive=U.abs().sub(this.externalSwapFee),W.gt(0)?this.baseToken.transfer=W:this.baseToken.receive=W.abs(),this.__params={optionMarket:E.address,strikeId:T.O$.from(R.id),positionId:P?T.O$.from(P.id):f,iterations:T.O$.from(V),setCollateralTo:null!==(m=null===(d=this.collateral)||void 0===d?void 0:d.amount)&&void 0!==m?m:f,currentCollateral:null!==(v=null===(c=null===P||void 0===P?void 0:P.collateral)||void 0===c?void 0:c.amount)&&void 0!==v?v:f,optionType:dr(i.isCall,this.isLong,!!_),amount:p,minCost:!r&&j.gt(f)?j:f,maxCost:r?j:h,inputAmount:F&&18!==F.decimals?yr(this.quoteToken.transfer,F.decimals):this.quoteToken.transfer,inputAsset:this.quoteToken.address},this.isCollateralUpdate=!!(this.collateral&&this.size.isZero()&&this.collateral.amount.gt(0));var $=Nn(t.provider,t.deployment,a.OptionMarketWrapper),z=null!==(k=null===u||void 0===u?void 0:u.stables)&&void 0!==k?k:[],K=Rr(this.quoteToken.transfer,1),Z=Rr(T.O$.from(this.__params.maxCost),1),Y=F&&F.address!==this.market().quoteToken.address,J=i.market().__wrapperMarketId,ee=null!==J&&!Dr(p,9)&&(!this.collateral||!Dr(this.collateral.amount,9))&&(!Y||!K.eq(Z));this.__calldata=ee?function(e,t,n,i){var r,p,u=n.option,o=n.isOpen,s=n.isLong,y=n.size,l=n.newSize,d=n.inputAmount,m=n.maxCost,c=n.minCost,T=n.iterations,b=n.isForceClose,v=n.stables,h=n.collateral,k=n.position,w=Nn(e.provider,e.deployment,a.OptionMarketWrapper),g=u.strike();if(v.length<1)return"";var P,O=null!==(r=v.find((function(e){var t;return e.address===(null===(t=i.inputAsset)||void 0===t?void 0:t.address)})))&&void 0!==r?r:v[0],x={market:t,token:O.id,iterations:T,inputAmount:br(d,O.decimals)};return o?s?k?w.interface.encodeFunctionData("addLong",[(P=Ar({},x,{positionId:k.id,maxCost:br(m),size:vr(y)}),kr(P,fr.addLong))]):w.interface.encodeFunctionData("openLong",[wr(Ar({},x,{isCall:u.isCall,strikeId:g.id,maxCost:br(m),size:vr(y)}))]):k?w.interface.encodeFunctionData("addShort",[xr(Ar({},x,{positionId:k.id,minReceived:br(c),size:vr(y),absoluteCollateral:h?vr(h.amount):f}))]):w.interface.encodeFunctionData("openShort",[Or(Ar({},x,{optionType:dr(u.isCall,s,null!==(p=null===h||void 0===h?void 0:h.isBase)&&void 0!==p&&p),strikeId:g.id,minReceived:br(c),size:vr(y),collateral:h?vr(null===h||void 0===h?void 0:h.amount):f}))]):k?s?l.gt(0)?w.interface.encodeFunctionData("reduceLong",[gr(Ar({},x,{isForceClose:b,positionId:k.id,size:vr(y),minReceived:br(c)}))]):w.interface.encodeFunctionData("closeLong",[Pr(Ar({},x,{isForceClose:b,positionId:k.id,minReceived:br(c)}))]):l.gt(0)?w.interface.encodeFunctionData("reduceShort",[Mr(Ar({},x,{isForceClose:b,positionId:k.id,maxCost:br(m),size:vr(y),absoluteCollateral:h?vr(h.amount):f}))]):w.interface.encodeFunctionData("closeShort",[Cr(Ar({},x,{isForceClose:b,positionId:k.id,maxCost:br(m)}))]):""}(this.lyra,J,{option:i,isOpen:this.isOpen,isLong:this.isLong,size:p,newSize:this.newSize,inputAmount:yr(K,null!==(w=null===F||void 0===F?void 0:F.decimals)&&void 0!==w?w:18),maxCost:Z,minCost:Rr(T.O$.from(this.__params.minCost),1,{ceil:!1}),iterations:V,isForceClose:this.isForceClose,stables:z,collateral:this.collateral,position:P},{inputAsset:F?{address:null===F||void 0===F?void 0:F.address,decimals:null===F||void 0===F?void 0:F.decimals}:void 0}):$.interface.encodeFunctionData(this.isOpen||this.isCollateralUpdate?"openPosition":this.isForceClose?"forceClosePosition":"closePosition",[this.__params]),this.disabledReason=function(e,t){var n=t.position();if(e.disabledReason){var a=e.disabledReason;if(a===$r.EmptySize&&(null===n||void 0===n?void 0:n.collateral)&&t.collateral&&!t.collateral.amount.eq(n.collateral.amount));else if(a!==$r.InsufficientLiquidity||t.isOpen)return a}if(n){if(!n.isOpen)return $r.PositionClosed;if(!t.isOpen&&t.size.gt(n.size))return $r.PositionNotLargeEnough;if(!t.isOpen&&t.newSize.isZero()&&t.collateral&&!t.collateral.amount.isZero())return $r.PositionClosedLeftoverCollateral}return(t.isOpen&&!t.isBuy||n&&!n.isLong)&&(!t.collateral||n&&!t.isBuy&&t.newSize.isZero()&&t.collateral.amount.isZero())?$r.EmptyCollateral:t.newSize.gt(0)&&t.collateral&&t.collateral.amount.lt(t.collateral.min)?$r.NotEnoughCollateral:t.newSize.gt(0)&&t.collateral&&t.collateral.max&&t.collateral.amount.gt(t.collateral.max)?$r.TooMuchCollateral:null}(G,this),this.isDisabled=!!this.disabledReason,this.tx=St(t,$.address,n,this.__calldata)}var t,n,i;return t=e,i=[{key:"get",value:function(t,n,a,i,r,p,u,o){return _r(d().mark((function s(){var y,l,m,c,T,f,b,h,k,w,g,P,O,x,M,C,S,A,I;return d().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=function(){var e=_r(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===o||void 0===o?void 0:o.positionId)){e.next=4;break}return e.next=3,sr.get(t,a,o.positionId);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.t0=Wr,s.next=5,Promise.all([ou.get(t,a),c(),zn(t,n)]);case 5:if(s.t1=s.sent,T=(0,s.t0)(s.t1,3),f=T[0],b=T[1],h=T[2],k=null,w=h.stables,(g=null===(y=null===o||void 0===o?void 0:o.inputAsset)||void 0===y?void 0:y.address)&&(k=null!==(l=w.find((function(e){return e.address===g||e.symbol.toLowerCase()===g.toLowerCase()})))&&void 0!==l?l:null),P=v,!k||k.address===f.quoteToken.address){s.next=24;break}return O=p||(null===o||void 0===o?void 0:o.setToCollateral)?k:f.quoteToken,x=p||(null===o||void 0===o?void 0:o.setToCollateral)?f.quoteToken:k,s.t2=lr,s.next=21,Fr(t,null===O||void 0===O?void 0:O.address,null===x||void 0===x?void 0:x.address,yr(v,O.decimals));case 21:s.t3=s.sent,s.t4=x.decimals,P=(0,s.t2)(s.t3,s.t4);case 24:if(!(null===(m=null===o||void 0===o?void 0:o.inputAsset)||void 0===m?void 0:m.address)||k){s.next=26;break}throw new Error("Input asset not supported");case 26:if(M=f.liveOption(i,r),!((C=new e(t,n,M,p,u,Ur({},o,{position:b,swapRate:X(P),inputAsset:k?{address:k.address,decimals:k.decimals}:void 0,stables:w})))&&C.tx&&k&&k.balance.lt(yr(C.quoteToken.transfer,k.decimals)))){s.next=30;break}return s.abrupt("return",C);case 30:if(S=C.tx.to,A=C.tx.from,I=C.tx.data,S&&A&&I){s.next=35;break}throw new Error("Missing tx data");case 35:return s.prev=35,s.next=38,yn(t,S,A,I);case 38:C.tx=s.sent,s.next=44;break;case 41:s.prev=41,s.t5=s.catch(35),console.error("Error estimating gas for trade: ",s.t5);case 44:return s.abrupt("return",C);case 45:case"end":return s.stop()}}),s,null,[[35,41]])})))()}},{key:"getSync",value:function(t,n,a,i,r,p){return new e(t,n,a,i,r,p)}},{key:"getMinCollateral",value:function(e,t,n){return ci(e,t,e.market().spotPrice,n)}},{key:"getLiquidationPrice",value:function(e,t,n,a){return Ti(e,t,n,a)}},{key:"getPositionIdsForLogs",value:function(e){var t=La(e),n=Fa(e),a=Qr(t.map((function(e){return e.args.positionId.toNumber()}))).concat(Qr(n.map((function(e){return e.args.positionId.toNumber()}))));return Array.from(new Set(a))}}],(n=[{key:"pnl",value:function(){var e=this.__position;return e?Ka(e,this):f}},{key:"newAverageCostPerOption",value:function(){var e=this.__position;return $a(e?e.trades().concat([this]):[this])}},{key:"prevAverageCostPerOption",value:function(){var e=this.__position;return e?$a(e.trades()):f}},{key:"newAverageCollateralSpotPrice",value:function(){if(this.isLong)return f;var e=this.__position;if(!e)return this.market().spotPrice;var t=e.collateralUpdates().concat([this]);return ni(e,t)}},{key:"prevAverageCollateralSpotPrice",value:function(){var e=this.__position;if(this.isLong||!e)return f;var t=e.collateralUpdates();return e?ni(e,t):f}},{key:"prevCollateralAmount",value:function(){var e;if(this.isLong||!this.__position)return f;var t=this.__position.collateralUpdates(),n=t.length?t[t.length-1]:null;return null!==(e=null===n||void 0===n?void 0:n.amount)&&void 0!==e?e:f}},{key:"collateralChangeAmount",value:function(){var e,t,n;if(this.isLong)return f;var a=this.prevCollateralAmount();return(null!==(n=null===(t=null===(e=this.__position)||void 0===e?void 0:e.collateral)||void 0===t?void 0:t.amount)&&void 0!==n?n:f).sub(a)}},{key:"payoff",value:function(e){var t;return ar(this.isLong,this.option().isCall,this.strike().strikePrice,e,this.newAverageCostPerOption(),this.newSize,null===(t=this.collateral)||void 0===t?void 0:t.liquidationPrice)}},{key:"breakEven",value:function(){var e;return ee(this.isCall,this.strikePrice,this.pricePerOption,!!(null===(e=this.collateral)||void 0===e?void 0:e.isBase))}},{key:"maxProfit",value:function(){return(e=this).isCall&&e.isBuy?h:e.isCall&&!e.isBuy?e.premium:!e.isCall&&e.isBuy?e.strikePrice.sub(e.pricePerOption).mul(e.size).div(b):e.premium;var e}},{key:"maxLoss",value:function(){return(e=this).isCall&&e.isBuy?e.premium:e.isCall&&!e.isBuy?h:!e.isCall&&e.isBuy?e.premium:e.strikePrice.sub(e.pricePerOption).mul(e.size).div(b);var e}},{key:"market",value:function(){return this.__option.market()}},{key:"board",value:function(){return this.__option.board()}},{key:"strike",value:function(){return this.__option.strike()}},{key:"option",value:function(){return this.__option}},{key:"position",value:function(){var e;return null!==(e=this.__position)&&void 0!==e?e:null}}])&&Gr(t.prototype,n),i&&Gr(t,i),e}();function Zr(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Yr(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Zr(r,a,i,p,u,"next",e)}function u(e){Zr(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Jr(){var e,t,n=(e=["\n  query marketTotalValueSnapshots(\n    $market: String!, $min: Int!, $max: Int! $period: Int!\n  ) {\n    marketTotalValueSnapshots(\n      first: 1000, orderBy: timestamp, orderDirection: asc, where: { \n        market: $market, \n        NAV_gt: 0\n        timestamp_gte: $min, \n        timestamp_lte: $max,\n        period: $period \n      }\n    ) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Jr=function(){return n},n}var Xr=(0,m.gql)(Jr(),"\n  id\n  period\n  timestamp\n  tokenPrice\n  freeLiquidity\n  burnableLiquidity\n  usedCollatLiquidity\n  pendingDeltaLiquidity\n  usedDeltaLiquidity\n  NAV\n  netOptionValue\n  pendingDeposits\n  pendingWithdrawals\n");function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return(tp=Yr(d().mark((function e(t,n,a){var i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t,Xr,{market:n.address.toLowerCase()},a);case 2:return i=e.sent,r=i.map((function(e){var t=T.O$.from(e.freeLiquidity),n=T.O$.from(e.burnableLiquidity),a=T.O$.from(e.NAV),i=T.O$.from(e.usedCollatLiquidity),r=T.O$.from(e.pendingDeltaLiquidity),p=T.O$.from(e.usedDeltaLiquidity),u=T.O$.from(e.tokenPrice);return{freeLiquidity:t,burnableLiquidity:n,totalQueuedDeposits:f,nav:a,utilization:a.gt(0)?X(a.sub(t).mul(b).div(a)):0,totalWithdrawingDeposits:f,usedCollatLiquidity:i,pendingDeltaLiquidity:r,usedDeltaLiquidity:p,tokenPrice:u,timestamp:e.timestamp,pendingDeposits:T.O$.from(e.pendingDeposits),pendingWithdrawals:T.O$.from(e.pendingWithdrawals)}})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function np(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ap(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){np(r,a,i,p,u,"next",e)}function u(e){np(r,a,i,p,u,"throw",e)}p(void 0)}))}}function ip(){var e,t,n=(e=["\n  query marketGreeksSnapshots(\n    $market: String!, $min: Int!, $max: Int! $period: Int!\n  ) {\n    marketGreeksSnapshots(first: 1000, orderBy: timestamp, orderDirection: asc, where: { market: $market, \n      timestamp_gte: $min, \n      timestamp_lte: $max,\n      period_gte: $period\n    }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return ip=function(){return n},n}var rp=(0,m.gql)(ip(),"\n  id\n  period\n  timestamp\n  netDelta\n  poolNetDelta\n  hedgerNetDelta\n  netStdVega\n");function pp(e,t,n){return up.apply(this,arguments)}function up(){return(up=ap(d().mark((function e(t,n,a){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t,rp,{market:n.address.toLowerCase()},a);case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return{poolNetDelta:T.O$.from(e.poolNetDelta),hedgerNetDelta:T.O$.from(e.hedgerNetDelta),netDelta:T.O$.from(e.netDelta),netStdVega:T.O$.from(e.netStdVega),timestamp:e.timestamp}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function op(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function sp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){op(r,a,i,p,u,"next",e)}function u(e){op(r,a,i,p,u,"throw",e)}p(void 0)}))}}function yp(){var e,t,n=(e=["\n  query spotPriceSnapshots(\n    $market: String!, $min: Int!, $max: Int! $period: Int!\n  ) {\n    spotPriceSnapshots(first: 1000, orderBy: timestamp, orderDirection: asc, where: { \n      market: $market, \n      timestamp_gte: $min, \n      timestamp_lte: $max,\n      period_gte: $period \n    }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return yp=function(){return n},n}var lp=(0,m.gql)(yp(),"\n  timestamp\n  spotPrice\n  blockNumber\n");function dp(e,t,n){return mp.apply(this,arguments)}function mp(){return(mp=sp(d().mark((function e(t,n,a){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t,lp,{market:n.toLowerCase()},a);case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return{spotPrice:T.O$.from(e.spotPrice),timestamp:e.timestamp,blockNumber:e.blockNumber}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Tp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){cp(r,a,i,p,u,"next",e)}function u(e){cp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function fp(){var e,t,n=(e=["\n  query marketVolumeAndFeesSnapshots(\n    $market: String!, $min: Int!, $max: Int!, $period: Int!\n  ) {\n    marketVolumeAndFeesSnapshots(first: 1000, orderBy: timestamp, orderDirection: asc, where: {\n      market: $market, \n      timestamp_gte: $min, \n      timestamp_lte: $max, \n      period: $period\n    }) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return fp=function(){return n},n}var bp=(0,m.gql)(fp(),"\n  id\n  timestamp\n  period\n  premiumVolume\n  notionalVolume\n  totalPremiumVolume\n  totalNotionalVolume\n  spotPriceFees\n  optionPriceFees\n  vegaFees\n  varianceFees\n  deltaCutoffFees\n  liquidatorFees\n  smLiquidationFees\n  lpLiquidationFees\n");function vp(e,t,n){return hp.apply(this,arguments)}function hp(){return(hp=Tp(d().mark((function e(t,n,a){var i,r,p,u,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=null!==(i=null===a||void 0===a?void 0:a.startTimestamp)&&void 0!==i?i:0,u=null!==(r=null===a||void 0===a?void 0:a.endTimestamp)&&void 0!==r?r:me,o=we(p,u),e.next=6,Fe(t,bp,{market:n.address.toLowerCase()},a);case 6:return s=e.sent,e.abrupt("return",s.map((function(e){return{premiumVolume:T.O$.from(e.premiumVolume),notionalVolume:T.O$.from(e.notionalVolume),totalPremiumVolume:T.O$.from(e.totalPremiumVolume),totalNotionalVolume:T.O$.from(e.totalNotionalVolume),spotPriceFees:T.O$.from(e.spotPriceFees),optionPriceFees:T.O$.from(e.optionPriceFees),vegaFees:T.O$.from(e.vegaFees),varianceFees:T.O$.from(e.varianceFees),deltaCutoffFees:T.O$.from(e.deltaCutoffFees),liquidatorFees:T.O$.from(e.liquidatorFees),smLiquidationFees:T.O$.from(e.smLiquidationFees),lpLiquidationFees:T.O$.from(e.lpLiquidationFees),startTimestamp:e.timestamp-o,endTimestamp:e.timestamp}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kp(e){if(e.startsWith("0x"))return e;var t=e.startsWith("s")&&e.substring(1).toUpperCase()===e.substring(1)?e:"s"+e.toUpperCase();return(0,N.s)(t)}function wp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function gp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){wp(r,a,i,p,u,"next",e)}function u(e){wp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Pp(e,t,n){return Op.apply(this,arguments)}function Op(){return(Op=gp(d().mark((function e(t,n,i){var r,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nn(t.provider,t.deployment,a.OptionMarketViewer),!(0,c.isAddress)(n)){e.next=7;break}return e.next=4,r.getBoard(n,i);case 4:case 10:return e.abrupt("return",e.sent);case 7:return p=kp(n),e.next=10,r.getBoardForBaseKey(p,i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Mp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){xp(r,a,i,p,u,"next",e)}function u(e){xp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Cp(e,t,n){return Sp.apply(this,arguments)}function Sp(){return(Sp=Mp(d().mark((function e(t,n,i){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(t.provider,t.deployment,a.OptionMarketViewer),e.next=3,r.getBoardForStrikeId(n,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ip(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ap(r,a,i,p,u,"next",e)}function u(e){Ap(r,a,i,p,u,"throw",e)}p(void 0)}))}}function qp(e,t){return Vp.apply(this,arguments)}function Vp(){return(Vp=Ip(d().mark((function e(t,n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zt(t,n,r.OptionMarket),e.next=3,a.owner();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Fp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Bp(r,a,i,p,u,"next",e)}function u(e){Bp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Lp(e,t){return Dp.apply(this,arguments)}function Dp(){return(Dp=Fp(d().mark((function e(t,n){var i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nn(t.provider,t.deployment,a.OptionMarketViewer),!(0,c.isAddress)(n)){e.next=7;break}return e.next=4,i.getMarket(n);case 4:case 10:return e.abrupt("return",e.sent);case 7:return r=kp(n),e.next=10,i.getMarketForBaseKey(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ep(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Rp(r,a,i,p,u,"next",e)}function u(e){Rp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Np(e,t){return _p.apply(this,arguments)}function _p(){return(_p=Ep(d().mark((function e(t,n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xn,e.next=3,Promise.all(n.map((function(e){return Lp(t,e)})));case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1)){e.next=7;break}throw new Error("Market does not exist");case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function jp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Up(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){jp(r,a,i,p,u,"next",e)}function u(e){jp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Wp(e,t,n[t])}))}return e}function Hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e){return zp.apply(this,arguments)}function zp(){return(zp=Up(d().mark((function e(t){var n,i,r,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nn(t.provider,t.deployment,a.OptionMarketWrapper),e.t0=Hp,e.next=4,n.getBalancesAndAllowances(k);case 4:return e.t1=e.sent,i=(0,e.t0)(e.t1,2),i[0],r=i[1],p=r.reduce((function(e,t){return Qp({},e,Wp({},t.market,t.id))}),{}),e.abrupt("return",p);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kp(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Zp(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Kp(r,a,i,p,u,"next",e)}function u(e){Kp(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Yp(e,t){return Jp.apply(this,arguments)}function Jp(){return(Jp=Zp(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$p(t);case 2:return a=e.sent,i=a[n],e.abrupt("return",null!==i&&void 0!==i?i:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function eu(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function tu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){eu(r,a,i,p,u,"next",e)}function u(e){eu(r,a,i,p,u,"throw",e)}p(void 0)}))}}function nu(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){au(e,t,n[t])}))}return e}function ru(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pu,uu,ou=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__source=A.ContractCall,this.lyra=t,this.block=i,this.__marketData=n,this.__wrapperMarketId=a,this.marketParameters=n.marketParameters;var r=e.getFields(n,i);this.address=r.address,this.isPaused=r.isPaused,this.spotPrice=r.spotPrice,this.quoteToken=r.quoteToken,this.baseToken=r.baseToken,this.tradingCutoff=r.tradingCutoff,this.name=r.name,this.contractAddresses=r.contractAddresses,this.tvl=r.tvl,this.openInterest=this.liveBoards().reduce((function(e,t){var n=t.strikes(),a=n.reduce((function(e,t){return e.add(t.call().longOpenInterest)}),f),i=n.reduce((function(e,t){return e.add(t.call().shortOpenInterest)}),f),r=n.reduce((function(e,t){return e.add(t.put().longOpenInterest)}),f),p=n.reduce((function(e,t){return e.add(t.put().shortOpenInterest)}),f);return e.add(a).add(i).add(r).add(p)}),f),this.depositDelay=r.depositDelay,this.withdrawalDelay=r.withdrawalDelay,this.liquidity=r.liquidity,this.liveBoardsMap=n.liveBoards.reduce((function(e,t){return iu({},e,au({},t.boardId.toNumber(),t))}),{})}var t,n,a;return t=e,n=[{key:"liveBoards",value:function(){var e=this;return this.__marketData.liveBoards.map((function(t){return new en(e.lyra,e,t,e.block)})).sort((function(e,t){return e.expiryTimestamp-t.expiryTimestamp}))}},{key:"liveBoard",value:function(e){var t=this.liveBoardsMap[e];if(!t)throw new Error("Board is expired or does not exist for market");return new en(this.lyra,this,t,this.block)}},{key:"board",value:function(e){var t=this;return tu(d().mark((function n(){var a,i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",t.liveBoard(e));case 4:return n.prev=4,n.t0=n.catch(0),n.t1=ru,n.next=9,Promise.all([Pp(t.lyra,t.address,e),t.lyra.provider.getBlock("latest")]);case 9:return n.t2=n.sent,a=(0,n.t1)(n.t2,2),i=a[0],r=a[1],n.abrupt("return",new en(t.lyra,t,i,r));case 14:case"end":return n.stop()}}),n,null,[[0,4]])})))()}},{key:"liveStrike",value:function(e){var t=this.liveBoards().find((function(t){return t.strikes().find((function(t){return t.id===e}))})),n=null===t||void 0===t?void 0:t.strikes().find((function(t){return t.id===e}));if(!n)throw new Error("Strike is expired or does not exist for market");return n}},{key:"strike",value:function(e){var t=this;return tu(d().mark((function n(){var a,i,r,p;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",t.liveStrike(e));case 4:return n.prev=4,n.t0=n.catch(0),n.t1=ru,n.next=9,Promise.all([Cp(t.lyra,t.address,e),t.lyra.provider.getBlock("latest")]);case 9:return n.t2=n.sent,a=(0,n.t1)(n.t2,2),i=a[0],r=a[1],p=new en(t.lyra,t,i,r),n.abrupt("return",p.strike(e));case 15:case"end":return n.stop()}}),n,null,[[0,4]])})))()}},{key:"liveOption",value:function(e,t){return this.liveStrike(e).option(t)}},{key:"option",value:function(e,t){var n=this;return tu(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.strike(e);case 2:return i=a.sent,a.abrupt("return",i.option(t));case 4:case"end":return a.stop()}}),a)})))()}},{key:"quote",value:function(e,t,n,a,i){var r=this;return tu(d().mark((function p(){var u,o;return d().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return u=r.liveStrike(e),o=u.option(t),p.abrupt("return",de.get(o,n,a,i));case 3:case"end":return p.stop()}}),p)})))()}},{key:"trade",value:function(e,t,n,a,i,r,p){var u=this;return tu(d().mark((function o(){return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Kr.get(u.lyra,e,u.address,t,n,a,i,iu({premiumSlippage:r},p));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),o)})))()}},{key:"netGreeks",value:function(){var e=this;return tu(d().mark((function t(){var n,a,i,p,u,o,s,y,l,m,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=zt(e.lyra,e.contractAddresses,r.ShortPoolHedger),a=zt(e.lyra,e.contractAddresses,r.LiquidityPool),t.t0=ru,t.next=5,Promise.all([n.getCurrentHedgedNetDelta(),a.lockedCollateral()]);case 5:return t.t1=t.sent,i=(0,t.t0)(t.t1,2),p=i[0],u=i[1],o=u.base,s=e.__marketData.globalNetGreeks.netStdVega,y=s.mul(-1),l=e.__marketData.globalNetGreeks.netDelta.mul(-1),m=l.add(o),c=m.add(p),t.abrupt("return",{netDelta:c,poolNetDelta:m,hedgerNetDelta:p,netStdVega:y,timestamp:e.block.timestamp});case 16:case"end":return t.stop()}}),t)})))()}},{key:"liquidityHistory",value:function(e){var t=this;return tu(d().mark((function n(){var a,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ep(t.lyra,t,e);case 2:return a=n.sent,i=st(a,"timestamp"),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))()}},{key:"netGreeksHistory",value:function(e){var t=this;return tu(d().mark((function n(){var a,i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ru,n.next=3,Promise.all([t.netGreeks(),pp(t.lyra,t,e)]);case 3:return n.t1=n.sent,a=(0,n.t0)(n.t1,2),i=a[0],r=a[1],n.abrupt("return",st(r,"timestamp",i));case 8:case"end":return n.stop()}}),n)})))()}},{key:"tradingVolumeHistory",value:function(e){var t=this;return tu(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=st,n.next=3,vp(t.lyra,t,e);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1,"endTimestamp"));case 5:case"end":return n.stop()}}),n)})))()}},{key:"spotPriceHistory",value:function(e){var t=this;return tu(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dp(t.lyra,t.address,e);case 2:return a=n.sent,n.abrupt("return",st(a,"timestamp",{spotPrice:t.spotPrice,timestamp:t.block.timestamp,blockNumber:t.block.number}));case 4:case"end":return n.stop()}}),n)})))()}},{key:"owner",value:function(){var e=this;return tu(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qp(e.lyra,e.contractAddresses);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"getGlobalCache",value:function(){var e=this;return tu(d().mark((function t(){var n,a,i,p;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=zt(e.lyra,e.contractAddresses,r.OptionGreekCache),t.t0=ru,t.next=4,Promise.all([n.isGlobalCacheStale(e.spotPrice),n.getGlobalCache()]);case 4:return t.t1=t.sent,a=(0,t.t0)(t.t1,2),i=a[0],p=a[1],t.abrupt("return",iu({},p,{isGlobalCacheStale:i}));case 9:case"end":return t.stop()}}),t)})))()}},{key:"deposit",value:function(e,t){var n=this;return tu(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mu.deposit(n.lyra,n.address,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"withdraw",value:function(e,t){var n=this;return tu(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Bn.withdraw(n.lyra,n.address,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"addBoard",value:function(e,t,n,a,i){var p=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=zt(this.lyra,this.contractAddresses,r.OptionMarket),o=u.interface.encodeFunctionData("createOptionBoard",[t,n,a,i,p]),s=St(this.lyra,u.address,e,o);return s.gasLimit=T.O$.from(1e7),{tx:s,board:{expiry:t,baseIV:n,strikePrices:a,skews:i,frozen:p}}}},{key:"addStrikeToBoard",value:function(e,t,n,a){var i=zt(this.lyra,this.contractAddresses,r.OptionMarket),p=i.interface.encodeFunctionData("addStrikeToBoard",[t,n,a]),u=St(this.lyra,i.address,e,p);return u.gasLimit=T.O$.from(1e7),{tx:u,strike:{boardId:t,strikePrice:n,skew:a}}}},{key:"setBoardPaused",value:function(e,t,n){var a=zt(this.lyra,this.contractAddresses,r.OptionMarket),i=a.interface.encodeFunctionData("setBoardFrozen",[t,n]);return iu({},St(this.lyra,a.address,e,i),{gasLimit:T.O$.from(1e7)})}},{key:"setBoardBaseIv",value:function(e,t,n){var a=zt(this.lyra,this.contractAddresses,r.OptionMarket),i=a.interface.encodeFunctionData("setBoardBaseIv",[t,n]);return iu({},St(this.lyra,a.address,e,i),{gasLimit:T.O$.from(1e7)})}},{key:"setGreekCacheParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.greekCacheParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionGreekCache),o=u.interface.encodeFunctionData("setGreekCacheParameters",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setForceCloseParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.forceCloseParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionGreekCache),o=u.interface.encodeFunctionData("setForceCloseParameters",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setMinCollateralParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.minCollatParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionGreekCache),o=u.interface.encodeFunctionData("setMinCollateralParameters",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setLpParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.lpParams,t),u=zt(n.lyra,n.contractAddresses,r.LiquidityPool),o=u.interface.encodeFunctionData("setLiquidityPoolParameters",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setPricingParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.pricingParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionMarketPricer),o=u.interface.encodeFunctionData("setPricingParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setTradeLimitParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.tradeLimitParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionMarketPricer),o=u.interface.encodeFunctionData("setTradeLimitParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setVarianceFeeParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.varianceFeeParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionMarketPricer),o=u.interface.encodeFunctionData("setVarianceFeeParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setPartialCollatParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.partialCollatParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionToken),o=u.interface.encodeFunctionData("setPartialCollateralParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"setPoolHedgerParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.poolHedgerParams,t),u=zt(n.lyra,n.contractAddresses,r.ShortPoolHedger),o=u.interface.encodeFunctionData("setPoolHedgerParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"getShortBuffer",value:function(){var e=this;return tu(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=zt(e.lyra,e.contractAddresses,r.ShortPoolHedger),t.next=3,n.shortBuffer();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}},{key:"setShortBuffer",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=zt(n.lyra,n.contractAddresses,r.ShortPoolHedger),p=i.interface.encodeFunctionData("setShortBuffer",[t]),(u=St(n.lyra,i.address,e,p)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:{shortBuffer:t},tx:u});case 5:case"end":return a.stop()}}),a)})))()}},{key:"setOptionMarketParams",value:function(e,t){var n=this;return tu(d().mark((function a(){var i,p,u,o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lp(n.lyra,n.address);case 2:return i=a.sent,p=iu({},i.marketParameters.optionMarketParams,t),u=zt(n.lyra,n.contractAddresses,r.OptionMarket),o=u.interface.encodeFunctionData("setOptionMarketParams",[p]),(s=St(n.lyra,u.address,e,o)).gasLimit=T.O$.from(1e7),a.abrupt("return",{params:p,tx:s});case 9:case"end":return a.stop()}}),a)})))()}},{key:"processDepositQueue",value:function(e,t){var n=zt(this.lyra,this.contractAddresses,r.LiquidityPool),a=n.interface.encodeFunctionData("processDepositQueue",[t]),i=St(this.lyra,n.address,e,a);return i.gasLimit=T.O$.from(1e7),i}},{key:"processWithdrawalQueue",value:function(e,t){var n=zt(this.lyra,this.contractAddresses,r.LiquidityPool),a=n.interface.encodeFunctionData("processWithdrawalQueue",[t]),i=St(this.lyra,n.address,e,a);return i.gasLimit=T.O$.from(1e7),i}}],a=[{key:"getFields",value:function(e,t){var n=e.marketAddresses.optionMarket,a=e.isPaused,i=e.exchangeParams.spotPrice,r=(0,N.F)(e.exchangeParams.quoteKey),p=(0,N.F)(e.exchangeParams.baseKey),u=e.marketAddresses.quoteAsset,o=e.marketAddresses.baseAsset,s=p.substring(1),y=e.liquidity.NAV,l=e.marketParameters.tradeLimitParams.tradingCutoff.toNumber(),d=e.globalNetGreeks.netDelta,m=e.globalNetGreeks.netStdVega,c=e.marketParameters.lpParams.depositDelay.toNumber(),T=e.marketParameters.lpParams.withdrawalDelay.toNumber();return{address:n,name:s,isPaused:a,spotPrice:i,tradingCutoff:l,tvl:y,quoteToken:{address:u,symbol:r,decimals:18},baseToken:{address:o,symbol:p,decimals:18},liquidity:{freeLiquidity:e.liquidity.freeLiquidity,burnableLiquidity:e.liquidity.burnableLiquidity,totalQueuedDeposits:e.totalQueuedDeposits,nav:e.liquidity.NAV,utilization:e.liquidity.NAV.gt(0)?X(e.liquidity.NAV.sub(e.liquidity.freeLiquidity).mul(b).div(e.liquidity.NAV)):0,totalWithdrawingDeposits:e.totalQueuedWithdrawals,usedCollatLiquidity:e.liquidity.usedCollatLiquidity,pendingDeltaLiquidity:e.liquidity.pendingDeltaLiquidity,usedDeltaLiquidity:e.liquidity.usedDeltaLiquidity,tokenPrice:e.tokenPrice,timestamp:t.timestamp},contractAddresses:e.marketAddresses,netDelta:d,netStdVega:m,depositDelay:c,withdrawalDelay:T}}},{key:"get",value:function(t,n){return tu(d().mark((function a(){var i,r,p,u;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=ru,a.next=3,Promise.all([Lp(t,n),t.provider.getBlock("latest")]);case 3:return a.t1=a.sent,i=(0,a.t0)(a.t1,2),r=i[0],p=i[1],a.next=9,Yp(t,r.marketAddresses.optionMarket);case 9:return(u=a.sent)||console.warn("No market ID found for ".concat(n)),a.abrupt("return",new e(t,r,u,p));case 12:case"end":return a.stop()}}),a)})))()}},{key:"getMany",value:function(t,n){return tu(d().mark((function a(){var i,r,p,u;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=ru,a.next=3,Promise.all([Np(t,n),$p(t),t.provider.getBlock("latest")]);case 3:return a.t1=a.sent,i=(0,a.t0)(a.t1,3),r=i[0],p=i[1],u=i[2],a.abrupt("return",r.map((function(n){return new e(t,n,p[n.marketAddresses.optionMarket],u)})));case 9:case"end":return a.stop()}}),a)})))()}},{key:"getAll",value:function(t){return tu(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jn(t);case 2:return a=n.sent,n.next=5,e.getMany(t,a.map((function(e){return e.optionMarket})));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}}],n&&nu(t.prototype,n),a&&nu(t,a),e}();function su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function yu(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function lu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){yu(r,a,i,p,u,"next",e)}function u(e){yu(r,a,i,p,u,"throw",e)}p(void 0)}))}}function du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return su(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t,n){return cu.apply(this,arguments)}function cu(){return(cu=lu(d().mark((function e(t,n,a){var i,p,u,o,s,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zt(t,n.__marketData.marketAddresses,r.LiquidityPool),e.t0=du,e.next=4,Promise.all([i.queryFilter(i.filters.DepositQueued(null,null,a)),i.queryFilter(i.filters.DepositProcessed(null,null,a))]);case 4:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],s=u[0],y=o[0],e.abrupt("return",{queued:s,processed:y});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function fu(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function bu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){fu(r,a,i,p,u,"next",e)}function u(e){fu(r,a,i,p,u,"throw",e)}p(void 0)}))}}function vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hu(e,t,n){return ku.apply(this,arguments)}function ku(){return(ku=bu(d().mark((function e(t,n,a){var i,p,u,o,s,y,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zt(t,n.__marketData.marketAddresses,r.LiquidityPool),e.t0=vu,e.next=4,Promise.all([i.queryFilter(i.filters.DepositQueued(null,a)),i.queryFilter(i.filters.DepositProcessed(null,a))]);case 4:return e.t1=e.sent,p=(0,e.t0)(e.t1,2),u=p[0],o=p[1],s={},y={},l=[],o.forEach((function(e){e.args.depositQueueId.eq(f)&&l.push({processed:e})})),u.forEach((function(e){var t=String(e.args.depositQueueId);s[t]=e})),o.forEach((function(e){var t=String(e.args.depositQueueId);y[t]=e})),u.forEach((function(e){var t=String(e.args.depositQueueId);s[t]&&y[t]?l.push({queued:s[t],processed:y[t]}):s[t]&&!y[t]&&l.push({queued:s[t]})})),e.abrupt("return",{events:l});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function gu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){wu(r,a,i,p,u,"next",e)}function u(e){wu(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Pu(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ou(e,t,n[t])}))}return e}(uu=pu||(pu={})).Liquidity="Liquidity",uu.Volatility="Volatility",uu.Keeper="Keeper";var Mu=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.__market=n,this.__queued=a.queued,this.__processed=a.processed;var i=a.queued,r=a.processed,p=null!==i&&void 0!==i?i:r;if(!p)throw new Error("No queued or processed event for LiquidityDeposit");this.queueId=p.args.depositQueueId.toNumber(),this.beneficiary=p.args.beneficiary,this.value=p.args.amountDeposited,this.tokenPriceAtDeposit=null===r||void 0===r?void 0:r.args.tokenPrice,this.balance=null===r||void 0===r?void 0:r.args.tokensReceived,this.isPending=!r,this.depositRequestedTimestamp=p.args.timestamp.toNumber(),this.depositTimestamp=r?r.args.timestamp.toNumber():i?i.args.timestamp.add(n.__marketData.marketParameters.lpParams.depositDelay).toNumber():0,this.delayReason=a.delayReason}var t,n,a;return t=e,a=[{key:"getByOwner",value:function(t,n,a){return gu(d().mark((function i(){var r,p,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(t,n);case 2:return r=i.sent,i.next=5,hu(t,r,a);case 5:return p=i.sent.events,i.next=8,Promise.all(p.map(function(){var n=gu(d().mark((function n(a){var i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn(t,r,a);case 2:return i=n.sent,n.abrupt("return",new e(t,r,xu({},a,{delayReason:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 8:return u=i.sent,i.abrupt("return",u);case 10:case"end":return i.stop()}}),i)})))()}},{key:"getByQueueId",value:function(t,n,a){return gu(d().mark((function i(){var r,p,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(t,n);case 2:return r=i.sent,i.next=5,mu(t,r,a);case 5:return p=i.sent,i.next=8,cn(t,r,p);case 8:return u=i.sent,i.abrupt("return",new e(t,r,xu({},p,{delayReason:u})));case 10:case"end":return i.stop()}}),i)})))()}},{key:"deposit",value:function(e,t,n,a){return gu(d().mark((function i(){var p,u,o,s;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(e,t);case 2:return p=i.sent,u=zt(e,p.contractAddresses,r.LiquidityPool),o=u.interface.encodeFunctionData("initiateDeposit",[n,a]),i.next=7,yn(e,u.address,n,o);case 7:return s=i.sent,i.abrupt("return",s);case 9:case"end":return i.stop()}}),i)})))()}}],(n=[{key:"market",value:function(){return this.__market}}])&&Pu(t.prototype,n),a&&Pu(t,a),e}();function Cu(e,t){var n=Object.values(e).find((function(e){return e.name.toLowerCase()===t.toLowerCase()||e.address.toLowerCase()===t.toLowerCase()}));if(!n)throw new Error("Failed to find market");return n}var Su,Au,Iu=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]');function qu(e,t){return new At.Contract(t,Iu,e)}function Vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Bu(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Fu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Bu(r,a,i,p,u,"next",e)}function u(e){Bu(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Lu(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Au=Su||(Su={})).InsufficientBalance="InsufficientBalance",Au.InsufficientAllowance="InsufficientAllowance",Au.ZeroAmount="ZeroAmount";var Eu,Nu,_u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.globalEpoch=n.globalEpoch,this.accountStaking=n.accountStaking,this.account=n.account,this.amount=n.amount,this.lyraBalance=n.accountStaking.lyraBalance.balance,this.stakedLyraBalance=n.accountStaking.stakedLyraBalance.balance,this.newStakedLyraBalance=this.stakedLyraBalance.add(this.amount),this.allowance=n.accountStaking.lyraBalance.stakingAllowance,this.vaultTokenBalances=n.vaultTokenBalances.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Du(e,t,n[t])}))}return e}({},e,Du({},t.market.baseToken.symbol,t))}),{});var i=X(this.accountStaking.staking.totalSupply),r=i>0?X(this.stakedLyraBalance)/i:0,p=i>0?X(this.newStakedLyraBalance)/i:0,u=this.globalEpoch.duration>0?this.globalEpoch.totalStakingRewards.lyra/this.globalEpoch.duration*Re:0,o=u*r,s=u*p,y=this.globalEpoch.duration>0?this.globalEpoch.totalStakingRewards.op/this.globalEpoch.duration*Re:0,l=y*r,d=y*p;if(this.stakingYieldPerDay={lyra:o,op:l},this.newStakingYieldPerDay={lyra:s,op:d},this.tradingFeeRebate=this.globalEpoch.tradingFeeRebate(X(this.stakedLyraBalance)),this.newTradingFeeRebate=this.globalEpoch.tradingFeeRebate(X(this.newStakedLyraBalance)),this.amount.gt(this.lyraBalance)?this.disabledReason=Su.InsufficientBalance:this.amount.gt(this.allowance)?this.disabledReason=Su.InsufficientAllowance:this.amount.eq(f)?this.disabledReason=Su.ZeroAmount:this.disabledReason=null,this.disabledReason)this.tx=null;else{var m=Nn(t.provider,t.deployment,a.LyraStakingModuleProxy),c=m.interface.encodeFunctionData("stake",[this.account.address,this.amount]);this.tx=St(t,m.address,this.account.address,c)}}var t,n,i;return t=e,i=[{key:"get",value:function(t,n,a){return Fu(d().mark((function i(){var r,p,u,o,s,y,l;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=ty.get(t,n),i.next=3,jn(t);case 3:return p=i.sent,i.t0=Ru,i.next=7,Promise.all([r.lyraStaking(),t.latestGlobalRewardEpoch(),Promise.all(p.map((function(e){return t.account(n).liquidityTokenBalance(e.optionMarket)})))]);case 7:if(i.t1=i.sent,u=(0,i.t0)(i.t1,3),o=u[0],s=u[1],y=u[2],!(null===(l=new e(t,{account:r,globalEpoch:s,amount:a,accountStaking:o,vaultTokenBalances:y}))||void 0===l?void 0:l.tx)){i.next=17;break}return i.next=16,pn(t,l.tx);case 16:l.tx=i.sent;case 17:return i.abrupt("return",l);case 18:case"end":return i.stop()}}),i)})))()}},{key:"approve",value:function(e,t){return Fu(d().mark((function n(){var i,r,p,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(e.provider,e.deployment,a.LyraStakingModuleProxy),r=qu(e.provider,e.deployment===s.Mainnet?V:F),p=r.interface.encodeFunctionData("approve",[i.address,h]),n.next=5,yn(e,r.address,t,p);case 5:return u=n.sent,n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})))()}}],(n=[{key:"vaultApy",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.stakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return 0===a?this.globalEpoch.minVaultApy(e):this.globalEpoch.vaultApy(e,n,a)}},{key:"vaultApyMultiplier",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.stakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return 0===a?1:this.globalEpoch.vaultApyMultiplier(e,n,a)}},{key:"newVaultApy",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.newStakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return 0===a?this.globalEpoch.minVaultApy(e):this.globalEpoch.vaultApy(e,n,a)}},{key:"newVaultApyMultiplier",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.newStakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return 0===a?1:this.globalEpoch.vaultApyMultiplier(e,n,a)}}])&&Lu(t.prototype,n),i&&Lu(t,i),e}();function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ju(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Uu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ju(r,a,i,p,u,"next",e)}function u(e){ju(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Wu(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nu=Eu||(Eu={})).NotInUnstakeWindow="NotInUnstakeWindow",Nu.InsufficientBalance="InsufficientBalance",Nu.ZeroAmount="ZeroAmount";var $u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.globalEpoch=n.globalEpoch,this.accountStaking=n.accountStaking,this.account=n.account,this.amount=n.amount,this.stakedLyraBalance=n.accountStaking.stakedLyraBalance.balance,this.newStakedLyraBalance=this.stakedLyraBalance.sub(this.amount),this.newStakedLyraBalance.lt(0)&&(this.newStakedLyraBalance=f),this.vaultTokenBalances=n.vaultTokenBalances.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Qu(e,t,n[t])}))}return e}({},e,Qu({},t.market.baseToken.symbol,t))}),{});var i=X(this.accountStaking.staking.totalSupply),r=i>0?X(this.stakedLyraBalance)/i:0,p=i>0?X(this.newStakedLyraBalance)/i:0,u=this.globalEpoch.duration>0?this.globalEpoch.totalStakingRewards.lyra/this.globalEpoch.duration*Re:0,o=u*r,s=u*p,y=this.globalEpoch.duration>0?this.globalEpoch.totalStakingRewards.op/this.globalEpoch.duration*Re:0,l=y*r,d=y*p;if(this.stakingYieldPerDay={lyra:o,op:l},this.newStakingYieldPerDay={lyra:s,op:d},this.tradingFeeRebate=this.globalEpoch.tradingFeeRebate(X(this.stakedLyraBalance)),this.newTradingFeeRebate=this.globalEpoch.tradingFeeRebate(X(this.newStakedLyraBalance)),n.accountStaking.isInUnstakeWindow?this.amount.gt(this.stakedLyraBalance)?this.disabledReason=Eu.InsufficientBalance:this.amount.eq(f)?this.disabledReason=Eu.ZeroAmount:this.disabledReason=null:this.disabledReason=Eu.NotInUnstakeWindow,this.disabledReason)this.tx=null;else{var m=Nn(t.provider,t.deployment,a.LyraStakingModuleProxy),c=m.interface.encodeFunctionData("redeem",[this.account.address,this.amount]);this.tx=St(t,m.address,this.account.address,c)}}var t,n,i;return t=e,i=[{key:"get",value:function(t,n,a){return Uu(d().mark((function i(){var r,p,u,o,s,y,l;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=ty.get(t,n),i.next=3,jn(t);case 3:return p=i.sent,i.t0=Hu,i.next=7,Promise.all([r.lyraStaking(),t.latestGlobalRewardEpoch(),Promise.all(p.map((function(e){return t.account(n).liquidityTokenBalance(e.optionMarket)})))]);case 7:if(i.t1=i.sent,u=(0,i.t0)(i.t1,3),o=u[0],s=u[1],y=u[2],!(null===(l=new e(t,{globalEpoch:s,account:r,amount:a,accountStaking:o,vaultTokenBalances:y}))||void 0===l?void 0:l.tx)){i.next=17;break}return i.next=16,pn(t,l.tx);case 16:l.tx=i.sent;case 17:return i.abrupt("return",l);case 18:case"end":return i.stop()}}),i)})))()}},{key:"requestUnstake",value:function(e,t){return Uu(d().mark((function n(){var i,r,p;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(e.provider,e.deployment,a.LyraStakingModuleProxy),r=i.interface.encodeFunctionData("cooldown"),n.next=4,yn(e,i.address,t,r);case 4:return p=n.sent,n.abrupt("return",p);case 6:case"end":return n.stop()}}),n)})))()}}],(n=[{key:"vaultApy",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.stakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return this.globalEpoch.vaultApy(e,n,a)}},{key:"newVaultApy",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=X(this.newStakedLyraBalance),a=X(this.vaultTokenBalances[t].balance);return this.globalEpoch.vaultApy(e,n,a)}}])&&Wu(t.prototype,n),i&&Wu(t,i),e}();function zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ku(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Zu(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ku(r,a,i,p,u,"next",e)}function u(e){Ku(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Yu(e,t,n[t])}))}return e}function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){return to.apply(this,arguments)}function to(){return(to=Zu(d().mark((function e(t,n){var a,i,r,p,u,o,s,y,l,m,c,T;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xu,e.next=3,Promise.all([t.openPositions(n),t.account(n).balances(),t.markets()]);case 3:return e.t1=e.sent,a=(0,e.t0)(e.t1,3),i=a[0],r=a[1],p=a[2],u=X(i.filter((function(e){return e.isLong})).map((function(e){return e.size.mul(e.pricePerOption).div(b)})).reduce((function(e,t){return e.add(t)}),f)),o=X(i.filter((function(e){return!e.isLong})).map((function(e){return e.size.mul(e.pricePerOption).div(b)})).reduce((function(e,t){return e.add(t)}),f).mul(-1)),s=p.reduce((function(e,t){return Ju({},e,Yu({},t.address,t.spotPrice))}),{}),y=X(i.filter((function(e){return!e.isLong&&e.collateral&&e.collateral.isBase})).map((function(e){var t,n;return null!==(n=null===(t=e.collateral)||void 0===t?void 0:t.amount.mul(s[e.marketAddress]).div(b))&&void 0!==n?n:f})).reduce((function(e,t){return e.add(t)}),f)),l=X(i.filter((function(e){return!e.isLong&&e.collateral&&!e.collateral.isBase})).map((function(e){var t,n;return null!==(n=null===(t=e.collateral)||void 0===t?void 0:t.amount)&&void 0!==n?n:f})).reduce((function(e,t){return e.add(t)}),f)),m=X(r.bases.reduce((function(e,t){var n=s[t.marketAddress],a=t.balance.mul(n).div(b);return e.add(a)}),f)),c=[r.stable("sUSD")].reduce((function(e,t){return e+X(t.balance,t.decimals)}),0),T=u+o+c+l+m+y,e.abrupt("return",{longOptionValue:u,shortOptionValue:o,baseCollateralValue:y,baseAccountValue:m,stableCollateralValue:l,stableAccountValue:c,totalValue:T,positions:i,stableAccountBalances:r.stables,baseAccountBalances:r.bases.map((function(e){return Ju({},e,{spotPrice:s[e.marketAddress],value:s[e.marketAddress].mul(e.balance).div(b)})}))});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ao(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){no(r,a,i,p,u,"next",e)}function u(e){no(r,a,i,p,u,"throw",e)}p(void 0)}))}}function io(){var e,t,n=(e=["\n  query blocks($startTimestamp: Int) {\n    blocks(first: 1, orderBy: timestamp, orderDirection: asc, where: { timestamp_gte: $startTimestamp }) {\n      number\n      timestamp\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return io=function(){return n},n}var ro=(0,m.gql)(io());function po(e,t){return uo.apply(this,arguments)}function uo(){return(uo=ao(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blockSubgraphClient.request(ro,{startTimestamp:n});case 2:return a=e.sent,i=a.blocks[0],e.abrupt("return",{number:parseInt(i.number),timestamp:parseInt(i.timestamp)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){oo(r,a,i,p,u,"next",e)}function u(e){oo(r,a,i,p,u,"throw",e)}p(void 0)}))}}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){yo(e,t,n[t])}))}return e}function mo(){var e,t,n=(e=["\n  query blocks($blocks: [Int]) {\n    blocks(first: 1000, where: { number_in: $blocks }, orderBy: number, orderDirection: asc) {\n      number\n      timestamp\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return mo=function(){return n},n}var co=(0,m.gql)(mo());function To(e,t){return fo.apply(this,arguments)}function fo(){return(fo=so(d().mark((function e(t,n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blockSubgraphClient.request(co,{blocks:n});case 2:return a=e.sent,e.abrupt("return",a.blocks.reduce((function(e,t){return lo({},e,yo({},t.number,parseInt(t.timestamp)))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){vo(e,t,n[t])}))}return e}function ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||go(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e){return function(e){if(Array.isArray(e))return bo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||go(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){if(e){if("string"===typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bo(e,t):void 0}}function Po(e,t){var n,a,i=e.flatMap((function(e){return e.collateralUpdates()})),r=Xn(e.map((function(e){return e.settle()}))),p=wo(i.map((function(e){return{blockNumber:e.blockNumber,timestamp:e.timestamp,positionId:e.positionId,amount:e.amount}}))).concat(wo(r.map((function(e){return{blockNumber:e.blockNumber,timestamp:e.timestamp,positionId:e.positionId,amount:f}})))).sort((function(e,t){return e.blockNumber-t.blockNumber})),u=i.reduce((function(e,t){var n;return ho({},e,vo({},t.blockNumber,wo(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),o=r.reduce((function(e,t){var n;return ho({},e,vo({},t.blockNumber,wo(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),s=p.reduce((function(e,t){return ho({},e,vo({},t.blockNumber,t.timestamp))}),{}),y=p.reduce((function(e,t,n){var a=n>0?e[p[n-1].blockNumber]:{};return e[t.blockNumber]=ho({},a,e[t.blockNumber]),e[t.blockNumber][t.positionId]=t.amount,e}),{}),l=Object.entries(y).reduce((function(e,t){var n=ko(t,2),a=n[0],i=n[1];return ho({},e,vo({},a,Object.values(i).reduce((function(e,t){return e.add(t)}),f)))}),{}),d=Object.entries(l).map((function(e){var t,n,a=ko(e,2),i=a[0];return{balance:a[1],blockNumber:parseInt(i),timestamp:s[parseInt(i)],collateralUpdates:null!==(t=u[parseInt(i)])&&void 0!==t?t:[],settles:null!==(n=o[parseInt(i)])&&void 0!==n?n:[]}}));if(!d.length)return[];var m=null!==(a=null===(n=wo(d).reverse().find((function(e){return e.blockNumber<=t.number})))||void 0===n?void 0:n.balance)&&void 0!==a?a:f;return[{blockNumber:t.number,timestamp:t.timestamp,balance:m,collateralUpdates:[],settles:[]}].concat(wo(d.filter((function(e){return e.blockNumber>=t.number}))))}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xo(e,t,n[t])}))}return e}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||Ao(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e){return function(e){if(Array.isArray(e))return Oo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ao(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){if(e){if("string"===typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}function Io(e,t,n,a){var i=a.from.filter((function(t){return t.tokenAddress===e&&t.blockNumber>=n.number})),r=a.to.filter((function(t){return t.tokenAddress===e&&t.blockNumber>=n.number}));if(!i.length&&!r.length&&t.isZero())return[];i.sort((function(e,t){return t.blockNumber-e.blockNumber})),r.sort((function(e,t){return t.blockNumber-e.blockNumber}));for(var p=So(i.map((function(e){return Mo({},e,{isFrom:!0})}))).concat(So(r.map((function(e){return Mo({},e,{isFrom:!1})})))).filter((function(e){return e.amount.gt(0)})).map((function(e){return{value:e.amount.mul(e.isFrom?-1:1),blockNumber:e.blockNumber,timestamp:e.timestamp}})),u=p.reduce((function(e,t){return Mo({},e,xo({},t.blockNumber,t.timestamp))}),{}),o=p.reduce((function(e,t){return e[t.blockNumber]?e[t.blockNumber]=e[t.blockNumber].add(t.value):e[t.blockNumber]=t.value,e}),{}),s=Object.entries(o).map((function(e){var t=Co(e,2),n=t[0];return{value:t[1],blockNumber:parseInt(n),timestamp:u[parseInt(n)]}})).sort((function(e,t){return t.blockNumber-e.blockNumber})),y=t,l=[],d=0;d<s.length;d++){var m=s[d];l.unshift({balance:y,blockNumber:m.blockNumber,timestamp:m.timestamp}),y=y.sub(m.value)}return l.unshift({balance:y,blockNumber:n.number,timestamp:n.timestamp}),l}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Vo(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Bo(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Vo(r,a,i,p,u,"next",e)}function u(e){Vo(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Fo(e,t,n[t])}))}return e}function Do(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t,n,a,i,r,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=Bo(d().mark((function e(t,n,a,i,r,p,u){var o,s,y,l,m,c,T,v,h,k,w;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.find((function(e){return e.marketAddress===n}))){e.next=3;break}throw new Error("Base collateral is missing");case 3:if(s=Io(o.address,o.balance,p,i),y=a.filter((function(e){var t;return!e.isLong&&(null===(t=e.collateral)||void 0===t?void 0:t.isBase)&&e.marketAddress===n})),l=Po(y,p),s.length||l.length){e.next=8;break}return e.abrupt("return",[]);case 8:return e.next=10,dp(t,n,{startTimestamp:p.timestamp,endTimestamp:u.timestamp});case 10:if((m=e.sent).length){e.next=14;break}return console.warn("Empty spot history"),e.abrupt("return",[]);case 14:return c=Do(s).concat(Do(l),Do(m)),T=Array.from(new Set(c.map((function(e){return e.blockNumber})))).sort(),v=c.reduce((function(e,t){return Lo({},e,Fo({},t.blockNumber,t.timestamp))}),{}),h=s.shift(),k=l.shift(),w=m.shift(),e.abrupt("return",T.map((function(e){var t,n;s[0]&&e>=s[0].blockNumber&&(h=s.shift()),l[0]&&e>=l[0].blockNumber&&(k=l.shift()),m[0]&&e>=m[0].blockNumber&&(w=m.shift());var a=null!==(t=null===h||void 0===h?void 0:h.balance)&&void 0!==t?t:f,i=null!==(n=null===k||void 0===k?void 0:k.balance)&&void 0!==n?n:f,r=a.add(i),p=w.spotPrice,u=a.mul(p).div(b),y=i.mul(p).div(b),d=u.add(y),c=(null===k||void 0===k?void 0:k.blockNumber)===e?k.collateralUpdates:[],T=(null===k||void 0===k?void 0:k.blockNumber)===e?k.settles:[];return{blockNumber:e,balance:r,value:d,accountBalance:a,accountValue:u,collateralBalance:i,collateralValue:y,spotPrice:p,symbol:o.symbol,address:o.address,marketAddress:o.marketAddress,timestamp:v[e],decimals:18,collateralUpdates:c,settles:T,trades:[]}})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _o(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Go(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){_o(r,a,i,p,u,"next",e)}function u(e){_o(r,a,i,p,u,"throw",e)}p(void 0)}))}}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){jo(e,t,n[t])}))}return e}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(){var e,t,n=(e=["\n  query optionPriceAndGreeksSnapshots($optionIds: [String!]!, $min: Int!, $max: Int!, $period: Int!) {\n    optionPriceAndGreeksSnapshots(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { option_in: $optionIds, timestamp_gte: $min, timestamp_lte: $max, period_gte: $period }\n    ) {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Qo=function(){return n},n}var Ho=(0,m.gql)(Qo(),ke);function $o(e,t,n){return zo.apply(this,arguments)}function zo(){return(zo=Go(d().mark((function e(t,n,a){var i,r,p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.reduce((function(e,t){var n=t.id,a=t.marketAddress,i=t.strikeId,r=t.isCall;return Uo({},e,jo({},n,"".concat(a.toLowerCase(),"-").concat(i,"-").concat(r?"call":"put")))}),{}),r=Array.from(new Set(Object.values(i))),e.next=4,Fe(t,Ho,{optionIds:r},a);case 4:return p=e.sent,u=p.reduce((function(e,t){var n,a=null!==(n=e[t.option.id])&&void 0!==n?n:[];return a.push({optionPrice:T.O$.from(t.optionPrice),timestamp:t.timestamp,blockNumber:t.blockNumber}),Uo({},e,jo({},t.option.id,a))}),{}),o=Object.entries(i).reduce((function(e,t){var n=Wo(t,2),a=n[0],i=n[1];return Uo({},e,jo({},a,u[i]))}),{}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Zo(e){return function(e){if(Array.isArray(e))return Ko(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){var n,a=e.trades().map((function(t){var n=t.newSize(e);return{blockNumber:t.blockNumber,timestamp:t.timestamp,size:n,trade:t}})).sort((function(e,t){return e.blockNumber-t.blockNumber})),i=e.settle();if(i&&a.push({blockNumber:i.blockNumber,timestamp:i.timestamp,size:f,settle:i}),!a.length)return[];var r=Zo(a).reverse().find((function(e){return e.blockNumber<=t.number}));return[{blockNumber:t.number,timestamp:t.timestamp,size:null!==(n=null===r||void 0===r?void 0:r.size)&&void 0!==n?n:f}].concat(Zo(a.filter((function(e){return e.blockNumber>=t.number}))))}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Xo(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function es(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Xo(r,a,i,p,u,"next",e)}function u(e){Xo(r,a,i,p,u,"throw",e)}p(void 0)}))}}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ts(e,t,n[t])}))}return e}function as(e){return function(e){if(Array.isArray(e))return Jo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function is(e,t,n,a){return rs.apply(this,arguments)}function rs(){return(rs=es(d().mark((function e(t,n,a,i){var r,p,u,o,s,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(t,n,{startTimestamp:a.timestamp,endTimestamp:i.timestamp,period:ye.OneDay});case 2:return r=e.sent,p=n.map((function(e){var t,n=null!==(t=r[e.id])&&void 0!==t?t:[],i=Yo(e,a),p=as(n).concat(as(i)),u=p.reduce((function(e,t){return ns({},e,ts({},t.blockNumber,t.timestamp))}),{}),o=Array.from(new Set(p.map((function(e){return e.blockNumber})))).sort(),s=n.shift(),y=i.shift();return o.map((function(t){var a,r;n[0]&&t>=n[0].blockNumber&&(s=n.shift()),i[0]&&t>=i[0].blockNumber&&(y=i.shift());var p=(null!==(a=null===s||void 0===s?void 0:s.optionPrice)&&void 0!==a?a:f).mul(e.isLong?1:-1),o=null!==(r=null===y||void 0===y?void 0:y.size)&&void 0!==r?r:f,l=o.mul(p).div(b),d=t===(null===y||void 0===y?void 0:y.blockNumber)?null===y||void 0===y?void 0:y.trade:null,m=t===(null===y||void 0===y?void 0:y.blockNumber)?null===y||void 0===y?void 0:y.settle:null;return{positionId:e.id,blockNumber:t,timestamp:u[t],size:o,value:l,trade:d,settle:m}}))})).filter((function(e){return e.length})),u=p.flat(),o=u.reduce((function(e,t){return ns({},e,ts({},t.blockNumber,t.timestamp))}),{}),s=Array.from(new Set(u.map((function(e){return e.blockNumber})))).sort(),y=p.map((function(e){return e.shift()})),e.abrupt("return",s.map((function(e){for(var t=0;t<p.length;t++){var n=p[t];n[0]&&e>=n[0].blockNumber&&(y[t]=n.shift())}var a=y.filter((function(e){return e.value.gt(0)})).reduce((function(e,t){var n=t.value;return e.add(n)}),f),i=y.filter((function(e){return e.value.lt(0)})).reduce((function(e,t){var n=t.value;return e.add(n)}),f),r=Xn(y.map((function(e){return e.trade}))),u=Xn(y.map((function(e){return e.settle})));return{blockNumber:e,timestamp:o[e],longOptionValue:a,shortOptionValue:i,trades:r,collateralUpdates:[],settles:u}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function us(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ps(r,a,i,p,u,"next",e)}function u(e){ps(r,a,i,p,u,"throw",e)}p(void 0)}))}}function os(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ss(){var e=os(["\n  amount\n  timestamp\n  blockNumber\n  from\n  to\n  token {\n    id\n  }\n"]);return ss=function(){return e},e}function ys(){var e=os(["\n  query tokenTransfers($owner: String!, $startTimestamp: Int!) {\n    # From transfers\n    fromTokenTransfers: tokenTransfers(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { from: $owner, timestamp_gte: $startTimestamp }\n    ) {\n      ","\n    }\n    # To transfers\n    toTokenTransfers: tokenTransfers(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: asc\n      where: { to: $owner, timestamp_gte: $startTimestamp }\n    ) {\n      ","\n    }\n  }\n"]);return ys=function(){return e},e}var ls=(0,m.gql)(ss()),ds=(0,m.gql)(ys(),ls,ls),ms=new m.GraphQLClient("https://api.thegraph.com/subgraphs/name/paulvaden/transfers-test");function cs(e,t,n){return Ts.apply(this,arguments)}function Ts(){return(Ts=us(d().mark((function e(t,n,a){var i,r,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deployment===s.Mainnet){e.next=2;break}return e.abrupt("return",{from:[],to:[]});case 2:return e.next=4,ms.request(ds,{owner:n.toLowerCase(),startTimestamp:a});case 4:return i=e.sent,r=i.fromTokenTransfers.map((function(e){return{amount:T.O$.from(e.amount),timestamp:e.timestamp,blockNumber:e.blockNumber,from:(0,c.getAddress)(e.from),to:(0,c.getAddress)(e.to),tokenAddress:(0,c.getAddress)(e.token.id)}})),p=i.toTokenTransfers.map((function(e){return{amount:T.O$.from(e.amount),timestamp:e.timestamp,blockNumber:e.blockNumber,from:(0,c.getAddress)(e.from),to:(0,c.getAddress)(e.to),tokenAddress:(0,c.getAddress)(e.token.id)}})),e.abrupt("return",{from:r,to:p});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){bs(e,t,n[t])}))}return e}function hs(e){return function(e){if(Array.isArray(e))return fs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t,n,a){var i=n.find((function(e){return"sUSD"===e.symbol}));if(!i)throw new Error("Missing sUSD balance");var r=[i].map((function(e){return Io(e.address,e.balance,a,t).map((function(t){return vs({},t,{symbol:e.symbol,address:e.address,decimals:e.decimals})}))})).filter((function(e){return e.length})),p=Po(e.filter((function(e){var t;return!e.isLong&&!(null===(t=e.collateral)||void 0===t?void 0:t.isBase)})),a),u=hs(r.flat()).concat(hs(p)),o=u.reduce((function(e,t){return vs({},e,bs({},t.blockNumber,t.timestamp))}),{}),s=Array.from(new Set(u.map((function(e){return e.blockNumber})))).sort(),y=r.filter((function(e){return e.length})).map((function(e){return e.shift()})),l=p.shift();return s.map((function(e){for(var t,n=0;n<r.length;n++){var a=r[n];a[0]&&e>=a[0].blockNumber&&(y[n]=a.shift())}p[0]&&e>=p[0].blockNumber&&(l=p.shift());var i=y.reduce((function(e,t){return e+X(t.balance,t.decimals)}),0),u=X(null!==(t=null===l||void 0===l?void 0:l.balance)&&void 0!==t?t:f),s=i+u,d=(null===l||void 0===l?void 0:l.blockNumber)===e?l.collateralUpdates:[],m=(null===l||void 0===l?void 0:l.blockNumber)===e?l.settles:[];return{blockNumber:e,balance:s,accountBalance:i,collateralBalance:u,timestamp:o[e],accountBalances:y.map((function(e){return{balance:e.balance,symbol:e.symbol,address:e.address,decimals:e.decimals}})),collateralUpdates:d,settles:m,trades:[]}}))}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function gs(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ps(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){gs(r,a,i,p,u,"next",e)}function u(e){gs(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Os(e,t,n[t])}))}return e}function Ms(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||Ss(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(e){return function(e){if(Array.isArray(e))return ws(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ss(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){if(e){if("string"===typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}function As(e,t,n){return Is.apply(this,arguments)}function Is(){return(Is=Ps(d().mark((function e(t,n,a){var i,r,p,u,o,s,y,l,m,c,T,b,v,h,k,w,g,P,O,x,M,C,S,A,I,q,V,B,F,L,D,R,E,N,_,G,j,U,W,Q,H,$;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ms,e.next=4,Promise.all([t.account(n).portfolioBalance(),t.positions(n),po(t,a),t.provider.getBlock("latest"),cs(t,n,a)]);case 4:if(e.t1=e.sent,m=(0,e.t0)(e.t1,5),c=m[0],T=m[1],b=m[2],v=m[3],h=m[4],k=xs({blockNumber:v.number,timestamp:v.timestamp,trades:[],collateralUpdates:[],settles:[],transfers:[]},c),w=T.map((function(e){return e.trades()})).flat().sort((function(e,t){return e.blockNumber-t.blockNumber}))[0]){e.next=15;break}return e.abrupt("return",[k]);case 15:return g=w.blockNumber>b.number?{number:w.blockNumber,timestamp:w.timestamp}:b,e.t2=Ms,e.next=19,Promise.all([Promise.all(c.baseAccountBalances.map((function(e){return Ro(t,e.marketAddress,T,h,c.baseAccountBalances,g,v)}))),is(t,T,g,v)]);case 19:return e.t3=e.sent,P=(0,e.t2)(e.t3,2),O=P[0],x=P[1],M=ks(T,h,c.stableAccountBalances,g),C=O.filter((function(e){return e.length})),S=Cs(C.flat()).concat(Cs(M),Cs(x)),A=T.map((function(e){return e.trades()})).flat(),I=A.reduce((function(e,t){var n;return xs({},e,Os({},t.blockNumber,Cs(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),q=T.map((function(e){return e.collateralUpdates()})).flat(),V=q.reduce((function(e,t){var n;return xs({},e,Os({},t.blockNumber,Cs(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),B=Cs(h.from).concat(Cs(h.to)).reduce((function(e,t){var n;return xs({},e,Os({},t.blockNumber,Cs(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),F=Xn(T.map((function(e){return e.settle()}))),L=F.reduce((function(e,t){var n;return xs({},e,Os({},t.blockNumber,Cs(null!==(n=e[t.blockNumber])&&void 0!==n?n:[]).concat([t])))}),{}),D=Array.from(new Set(S.map((function(e){return e.blockNumber})))).sort(),e.next=36,To(t,D);case 36:for(R=e.sent,E=[],N=C.map((function(e){return e.shift()})),_=M.shift(),G=x.shift(),j=!0,U=!1,W=void 0,e.prev=42,Q=function(e,t){for(var n=t.value,a=0;a<C.length;a++){var d=C[a];d[0]&&n>=d[0].blockNumber&&(N[a]=d.shift())}M[0]&&n>=M[0].blockNumber&&(_=M.shift()),x[0]&&n>=x[0].blockNumber&&(G=x.shift());var m=X(N.reduce((function(e,t){return e.add(t.accountValue)}),f)),c=X(N.reduce((function(e,t){return e.add(t.collateralValue)}),f)),T=null!==(i=null===_||void 0===_?void 0:_.accountBalance)&&void 0!==i?i:0,b=null!==(r=null===_||void 0===_?void 0:_.collateralBalance)&&void 0!==r?r:0,v=X(null!==(p=null===G||void 0===G?void 0:G.longOptionValue)&&void 0!==p?p:f),h=X(null!==(u=null===G||void 0===G?void 0:G.shortOptionValue)&&void 0!==u?u:f),k=m+c+T+b+v+h,w=Cs(N),g=(null===_||void 0===_?void 0:_.accountBalances)?Cs(_.accountBalances):[],P={blockNumber:n,timestamp:R[n],longOptionValue:v,shortOptionValue:h,baseAccountValue:m,baseCollateralValue:c,stableCollateralValue:b,stableAccountValue:T,totalValue:k,baseAccountBalances:w,stableAccountBalances:g,trades:null!==(o=I[n])&&void 0!==o?o:[],collateralUpdates:null!==(s=V[n])&&void 0!==s?s:[],settles:null!==(y=L[n])&&void 0!==y?y:[],transfers:null!==(l=B[n])&&void 0!==l?l:[]};P.timestamp&&E.push(P)},H=D[Symbol.iterator]();!(j=($=H.next()).done);j=!0)Q(0,$);e.next=51;break;case 47:e.prev=47,e.t4=e.catch(42),U=!0,W=e.t4;case 51:e.prev=51,e.prev=52,j||null==H.return||H.return();case 54:if(e.prev=54,!U){e.next=57;break}throw W;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return E.push(k),e.abrupt("return",We(E,v.timestamp));case 61:case"end":return e.stop()}}),e,null,[[42,47,51,59],[52,,54,58]])})))).apply(this,arguments)}function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Vs(e){return function(e){if(Array.isArray(e))return qs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e,t){var n=e.filter((function(e){return!e.isPending&&e.balance})).map((function(e){var t;return{isDeposit:!0,timestamp:e.depositTimestamp,value:e.value,balance:null!==(t=e.balance)&&void 0!==t?t:f}})),a=t.filter((function(e){return!e.isPending&&e.value})).map((function(e){var t;return{isDeposit:!1,timestamp:e.withdrawalTimestamp,value:null!==(t=e.value)&&void 0!==t?t:f,balance:e.balance}}));return Vs(n).concat(Vs(a)).sort((function(e,t){return e.timestamp-t.timestamp})).reduce((function(e,t){var n=e.balance,a=e.averageTokenPrice,i=t.isDeposit,r=t.value,p=t.balance,u=i?n.add(p):n.sub(p),o=n.mul(a).div(b).add(r);return{averageTokenPrice:i&&u.gt(0)?o.mul(b).div(u):a,balance:u}}),{averageTokenPrice:f,balance:f}).averageTokenPrice}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ls(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ds(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ls(r,a,i,p,u,"next",e)}function u(e){Ls(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Rs(e,t,n[t])}))}return e}function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t,n){return Gs.apply(this,arguments)}function Gs(){return(Gs=Ds(d().mark((function e(t,n,a){var i,r,p,u,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.quoteToken.address,r=a.contractAddresses.liquidityPool,p=qu(t.provider,i),e.t0=Ns,e.next=6,Promise.all([p.allowance(n,r),p.balanceOf(n)]);case 6:return e.t1=e.sent,u=(0,e.t0)(e.t1,2),o=u[0],s=u[1],e.abrupt("return",Es({},a.quoteToken,{allowance:o,balance:s}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Us(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Ws(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Us(r,a,i,p,u,"next",e)}function u(e){Us(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return js(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t,n){return $s.apply(this,arguments)}function $s(){return($s=Ws(d().mark((function e(t,n,i){var r,p,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(t.provider,t.deployment,a.OptionMarketViewer),e.t0=Qs,e.next=4,r.getLiquidityBalancesAndAllowances([i.address],n);case 4:return e.t1=e.sent,p=(0,e.t0)(e.t1,1),u=p[0],e.abrupt("return",{market:i,address:u.token,balance:u.balance,value:i.liquidity.tokenPrice.mul(u.balance).div(b),tokenPrice:i.liquidity.tokenPrice,allowance:u.allowance,symbol:"Ly".concat(i.name,"LP"),decimals:18});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ks(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Zs(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Ks(r,a,i,p,u,"next",e)}function u(e){Ks(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Ys(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xs,ey,ty=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.address=n}var t,n,i;return t=e,i=[{key:"get",value:function(t,n){return new e(t,n)}}],(n=[{key:"balances",value:function(){var e=this;return Zs(d().mark((function t(){var n,a,i,r,p,u,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zn(e.lyra,e.address);case 2:return n=t.sent,a=n.stables,i=n.bases,r=n.optionTokens,p=function(e){var t=a.find((function(t){return t.address.toLowerCase()===e.toLowerCase()||t.symbol.toLowerCase()===e.toLowerCase()}));if(!t)throw new Error("Stable token does not exist");return t},u=function(e){var t=i.find((function(t){return[t.marketAddress.toLowerCase(),t.address.toLowerCase()].includes(e.toLowerCase())||t.symbol.toLowerCase()===e.toLowerCase()}));if(!t)throw new Error("Base token does not exist");return t},o=function(e){var t=r.find((function(t){return[t.marketAddress.toLowerCase(),t.address.toLowerCase()].includes(e.toLowerCase())}));if(!t)throw new Error("Option token does not exist");return t},t.abrupt("return",{stables:a,stable:p,bases:i,base:u,optionTokens:r,optionToken:o});case 10:case"end":return t.stop()}}),t)})))()}},{key:"liquidityDepositBalance",value:function(e){var t=this;return Zs(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.lyra.market(e);case 2:return a=n.sent,n.next=5,_s(t.lyra,t.address,a);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}},{key:"liquidityTokenBalance",value:function(e){var t=this;return Zs(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.lyra.market(e);case 2:return a=n.sent,n.next=5,Hs(t.lyra,t.address,a);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}},{key:"liquidityUnrealizedPnl",value:function(e){var t=this;return Zs(d().mark((function n(){var a,i,r,p,u,o,s,y,l,m,c;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Js,n.next=3,Promise.all([t.liquidityTokenBalance(e),t.lyra.liquidityDeposits(e,t.address),t.lyra.liquidityWithdrawals(e,t.address)]);case 3:return n.t1=n.sent,a=(0,n.t0)(n.t1,3),i=a[0],r=i.balance,p=i.value,u=i.tokenPrice,o=a[1],s=a[2],y=Bs(o,s),l=y.mul(r).div(b),m=p.sub(l),c=y.gt(0)?u.mul(b).div(y).sub(v):f,n.abrupt("return",{pnl:m,pnlPercent:c});case 16:case"end":return n.stop()}}),n)})))()}},{key:"lyraBalance",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r,p,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=qu(e.lyra.provider,e.lyra.deployment===s.Mainnet?V:F),i=En(e.lyra.deployment,a.LyraStakingModuleProxy),t.t0=Js,t.next=5,Promise.all([n.balanceOf(e.address),n.allowance(e.address,i)]);case 5:return t.t1=t.sent,r=(0,t.t0)(t.t1,2),p=r[0],u=r[1],t.abrupt("return",{balance:p,stakingAllowance:u});case 10:case"end":return t.stop()}}),t)})))()}},{key:"stakedLyraBalance",value:function(){var e=this;return Zs(d().mark((function t(){var n,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=qu(e.lyra.provider,e.lyra.deployment===s.Mainnet?L:D),t.next=3,n.balanceOf(e.address);case 3:return a=t.sent,t.abrupt("return",{balance:a});case 5:case"end":return t.stop()}}),t)})))()}},{key:"claimableRewards",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r,p,u,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nn(e.lyra.provider,e.lyra.deployment,a.MultiDistributor),i=(0,c.getAddress)(e.lyra.deployment===s.Mainnet?L:D),r=e.lyra.deployment===s.Mainnet?B:F,t.t0=Js,t.next=6,Promise.all([n.claimableBalances(e.address,i),n.claimableBalances(e.address,r)]);case 6:return t.t1=t.sent,p=(0,t.t0)(t.t1,2),u=p[0],o=p[1],t.abrupt("return",{lyra:null!==u&&void 0!==u?u:f,op:null!==o&&void 0!==o?o:f});case 11:case"end":return t.stop()}}),t)})))()}},{key:"claim",value:function(e){var t=this;return Zs(d().mark((function n(){var i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(t.lyra.provider,t.lyra.deployment,a.MultiDistributor),r=i.interface.encodeFunctionData("claim",[e]),n.next=4,yn(t.lyra,i.address,t.address,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}},{key:"approveOptionToken",value:function(e,t){var n=this;return Zs(d().mark((function i(){var p,u,o,s,y;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ou.get(n.lyra,e);case 2:return p=i.sent,u=zt(n.lyra,p.contractAddresses,r.OptionToken),o=Nn(n.lyra.provider,n.lyra.deployment,a.OptionMarketWrapper),s=u.interface.encodeFunctionData("setApprovalForAll",[o.address,t]),i.next=8,yn(n.lyra,u.address,n.address,s);case 8:if(y=i.sent){i.next=11;break}throw new Error("Failed to estimate gas for setApprovalForAll transaction");case 11:return i.abrupt("return",y);case 12:case"end":return i.stop()}}),i)})))()}},{key:"approveStableToken",value:function(e,t){var n=this;return Zs(d().mark((function i(){var r,p,u,o,s,y;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.balances();case 2:return r=i.sent,p=r.stable(e),u=Nn(n.lyra.provider,n.lyra.deployment,a.OptionMarketWrapper),o=qu(n.lyra.provider,p.address),s=o.interface.encodeFunctionData("approve",[u.address,t]),i.next=9,yn(n.lyra,o.address,n.address,s);case 9:return y=i.sent,i.abrupt("return",y);case 11:case"end":return i.stop()}}),i)})))()}},{key:"approveBaseToken",value:function(e,t){var n=this;return Zs(d().mark((function i(){var r,p,u,o,s,y;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.balances();case 2:return r=i.sent,p=r.base(e),u=Nn(n.lyra.provider,n.lyra.deployment,a.OptionMarketWrapper),o=qu(n.lyra.provider,p.address),s=o.interface.encodeFunctionData("approve",[u.address,t]),i.next=9,yn(n.lyra,o.address,n.address,s);case 9:return y=i.sent,i.abrupt("return",y);case 11:case"end":return i.stop()}}),i)})))()}},{key:"drip",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([s.Kovan,s.Local].includes(e.lyra.deployment)){t.next=2;break}throw new Error("Faucet is only supported on local and kovan contracts");case 2:return n=Nn(e.lyra.provider,e.lyra.deployment,a.TestFaucet),i=n.interface.encodeFunctionData("drip"),t.next=6,yn(e.lyra,n.address,e.address,i);case 6:if(r=t.sent){t.next=9;break}throw new Error("Failed to estimate gas for drip transaction");case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))()}},{key:"approveDeposit",value:function(e,t){var n=this;return Zs(d().mark((function a(){var i,p,u,o,s,y;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.liquidityDepositBalance(e);case 2:return i=a.sent,a.next=5,ou.get(n.lyra,e);case 5:return p=a.sent,u=zt(n.lyra,p.contractAddresses,r.LiquidityPool),o=qu(n.lyra.provider,i.address),s=o.interface.encodeFunctionData("approve",[u.address,t]),a.next=11,yn(n.lyra,o.address,n.address,s);case 11:return y=a.sent,a.abrupt("return",y);case 13:case"end":return a.stop()}}),a)})))()}},{key:"deposit",value:function(e,t,n){var a=this;return Zs(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mu.deposit(a.lyra,e,t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"withdraw",value:function(e,t,n){var a=this;return Zs(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Bn.withdraw(a.lyra,e,t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"lyraStaking",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r,p,u,o,s,y,l,m,c,T,f,b;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nn(e.lyra.provider,e.lyra.deployment,a.LyraStakingModuleProxy),t.t0=Js,t.next=4,Promise.all([e.lyra.provider.getBlock("latest"),e.lyraBalance(),e.stakedLyraBalance(),e.lyra.lyraStaking(),n.stakersCooldowns(e.address)]);case 4:return t.t1=t.sent,i=(0,t.t0)(t.t1,5),r=i[0],p=i[1],u=i[2],o=i[3],s=i[4],y=s.toNumber(),l=y>0?y:null,m=y>0?y+o.cooldownPeriod:null,T=(c=m)?c+o.unstakeWindow:null,f=!!c&&!!T&&r.timestamp>=c&&r.timestamp<=T,b=!!l&&!!m&&r.timestamp>=l&&r.timestamp<=m,t.abrupt("return",{staking:o,lyraBalance:p,stakedLyraBalance:u,isInUnstakeWindow:f,isInCooldown:b,unstakeWindowStartTimestamp:c,unstakeWindowEndTimestamp:T});case 19:case"end":return t.stop()}}),t)})))()}},{key:"wethLyraStaking",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r,p,u,o,s,y;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Js,t.next=3,Promise.all([Nn(e.lyra.provider,e.lyra.deployment,a.ArrakisPool),Nn(e.lyra.provider,e.lyra.deployment,a.WethLyraStakingRewards)]);case 3:return t.t1=t.sent,n=(0,t.t0)(t.t1,2),i=n[0],r=n[1],t.t2=Js,t.next=10,Promise.all([i.balanceOf(e.address),i.allowance(e.address,r.address),r.balanceOf(e.address),r.earned(e.address)]);case 10:return t.t3=t.sent,p=(0,t.t2)(t.t3,4),u=p[0],o=p[1],s=p[2],y=p[3],t.abrupt("return",{unstakedLPTokenBalance:u,allowance:o,stakedLPTokenBalance:s,rewards:y});case 17:case"end":return t.stop()}}),t)})))()}},{key:"approveStake",value:function(){var e=this;return Zs(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u.approve(e.lyra,e.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"stake",value:function(e){var t=this;return Zs(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_u.get(t.lyra,t.address,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"requestUnstake",value:function(){var e=this;return Zs(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$u.requestUnstake(e.lyra,e.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"unstake",value:function(e){var t=this;return Zs(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$u.get(t.lyra,t.address,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"stakeWethLyra",value:function(e){var t=this;return Zs(d().mark((function n(){var i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(t.lyra.provider,t.lyra.deployment,a.WethLyraStakingRewards),r=i.interface.encodeFunctionData("stake",[e]),n.next=4,yn(t.lyra,i.address,t.address,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}},{key:"unstakeWethLyra",value:function(e){var t=this;return Zs(d().mark((function n(){var i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(t.lyra.provider,t.lyra.deployment,a.WethLyraStakingRewards),r=i.interface.encodeFunctionData("withdraw",[e]),n.next=4,yn(t.lyra,i.address,t.address,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}},{key:"approveWethLyraTokens",value:function(){var e=this;return Zs(d().mark((function t(){var n,i,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nn(e.lyra.provider,e.lyra.deployment,a.ArrakisPool),i=En(e.lyra.deployment,a.WethLyraStakingRewards),r=n.interface.encodeFunctionData("approve",[i,h]),t.next=5,yn(e.lyra,n.address,e.address,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}},{key:"claimWethLyraRewards",value:function(){var e=this;return Zs(d().mark((function t(){var n,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nn(e.lyra.provider,e.lyra.deployment,a.WethLyraStakingRewards),i=n.interface.encodeFunctionData("getReward"),t.next=4,yn(e.lyra,n.address,e.address,i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}},{key:"liquidityDeposits",value:function(e){var t=this;return Zs(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.lyra.liquidityDeposits(e,t.address);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"liquidityWithdrawals",value:function(e){var t=this;return Zs(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.lyra.liquidityWithdrawals(e,t.address);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"portfolioHistory",value:function(e){var t=this;return Zs(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,As(t.lyra,t.address,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"portfolioBalance",value:function(){var e=this;return Zs(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eo(e.lyra,e.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}])&&Ys(t.prototype,n),i&&Ys(t,i),e}(),ny=n(87634);(ey=Xs||(Xs={})).AvalonGlobalRewardsEpoch="AVALON_GLOBAL_REWARDS_EPOCH",ey.AvalonAccountRewardsEpoch="AVALON_ACCOUNT_REWARDS_EPOCH";var ay=n(42671),iy={apiKey:"AIzaSyB-OiDnVtOZCAssXSKJd7ucV79PuPj5DRk",authDomain:"lyra-finance.firebaseapp.com",databaseURL:"https://lyra-finance-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"lyra-finance",storageBucket:"lyra-finance.appspot.com",messagingSenderId:"295284938064",appId:"1:295284938064:web:6d2b17d5e82df4c0584855"};function ry(){var e=(0,ay.ZF)(iy);return(0,ny.N8)(e)}function py(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function uy(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){py(r,a,i,p,u,"next",e)}function u(e){py(r,a,i,p,u,"throw",e)}p(void 0)}))}}var oy={lastUpdated:0,epochs:null};function sy(e,t){return yy.apply(this,arguments)}function yy(){return yy=uy(d().mark((function e(t,n){var a,i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deployment===s.Mainnet){e.next=2;break}throw new Error("GlobalRewardEpoch only supported on mainnet");case 2:return(n>oy.lastUpdated+60||!oy.epochs)&&(a=ry(),i=(0,ny.iH)(a,Xs.AvalonGlobalRewardsEpoch),r=function(){var e=uy(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ny.U2)(i);case 2:return t=e.sent,e.abrupt("return",Object.values(t.val()));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oy.epochs=r(),oy.lastUpdated=n),e.next=5,oy.epochs;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}var ly=JSON.parse('[{"inputs":[{"internalType":"contract MultiWrapper","name":"_multiWrapper","type":"address"},{"internalType":"contract IOracle[]","name":"existingOracles","type":"address[]"},{"internalType":"enum OffchainOracle.OracleType[]","name":"oracleTypes","type":"uint8[]"},{"internalType":"contract IERC20[]","name":"existingConnectors","type":"address[]"},{"internalType":"contract IERC20","name":"wBase","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IERC20","name":"connector","type":"address"}],"name":"ConnectorAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IERC20","name":"connector","type":"address"}],"name":"ConnectorRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract MultiWrapper","name":"multiWrapper","type":"address"}],"name":"MultiWrapperUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IOracle","name":"oracle","type":"address"},{"indexed":false,"internalType":"enum OffchainOracle.OracleType","name":"oracleType","type":"uint8"}],"name":"OracleAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IOracle","name":"oracle","type":"address"},{"indexed":false,"internalType":"enum OffchainOracle.OracleType","name":"oracleType","type":"uint8"}],"name":"OracleRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"contract IERC20","name":"connector","type":"address"}],"name":"addConnector","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IOracle","name":"oracle","type":"address"},{"internalType":"enum OffchainOracle.OracleType","name":"oracleKind","type":"uint8"}],"name":"addOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"connectors","outputs":[{"internalType":"contract IERC20[]","name":"allConnectors","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"srcToken","type":"address"},{"internalType":"contract IERC20","name":"dstToken","type":"address"},{"internalType":"bool","name":"useWrappers","type":"bool"}],"name":"getRate","outputs":[{"internalType":"uint256","name":"weightedRate","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"srcToken","type":"address"},{"internalType":"bool","name":"useSrcWrappers","type":"bool"}],"name":"getRateToEth","outputs":[{"internalType":"uint256","name":"weightedRate","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"multiWrapper","outputs":[{"internalType":"contract MultiWrapper","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracles","outputs":[{"internalType":"contract IOracle[]","name":"allOracles","type":"address[]"},{"internalType":"enum OffchainOracle.OracleType[]","name":"oracleTypes","type":"uint8[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"connector","type":"address"}],"name":"removeConnector","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IOracle","name":"oracle","type":"address"},{"internalType":"enum OffchainOracle.OracleType","name":"oracleKind","type":"uint8"}],"name":"removeOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract MultiWrapper","name":"_multiWrapper","type":"address"}],"name":"setMultiWrapper","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]');function dy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function my(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){dy(r,a,i,p,u,"next",e)}function u(e){dy(r,a,i,p,u,"throw",e)}p(void 0)}))}}function cy(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=my(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deployment!==s.Kovan){e.next=2;break}return e.abrupt("return",.05);case 2:return a=new At.Contract(R,ly,t.provider),e.next=5,a.getRate(n,E,!1);case 5:return i=e.sent,e.abrupt("return",X(null!==i&&void 0!==i?i:f,6));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function by(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){fy(r,a,i,p,u,"next",e)}function u(e){fy(r,a,i,p,u,"throw",e)}p(void 0)}))}}function vy(e){return hy.apply(this,arguments)}function hy(){return(hy=by(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cy(t,V));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ky(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function wy(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ky(r,a,i,p,u,"next",e)}function u(e){ky(r,a,i,p,u,"throw",e)}p(void 0)}))}}function gy(e){return Py.apply(this,arguments)}function Py(){return(Py=wy(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cy(t,B));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xy(e){return function(e){if(Array.isArray(e))return Oy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function My(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Cy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Sy(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Cy(r,a,i,p,u,"next",e)}function u(e){Cy(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Ay(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Iy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return My(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qy=function(){function e(t,n,a,i,r,p,u){var o,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.id=n,this.epoch=a,this.prices=i,this.tradingFeeRebateTiers=null===(s=null===(o=a.tradingRewardConfig)||void 0===o?void 0:o.rebateRateTable)||void 0===s?void 0:s.map((function(e){var t,n;return{stakedLyraCutoff:null!==(t=null===e||void 0===e?void 0:e.cutoff)&&void 0!==t?t:0,feeRebate:null!==(n=null===e||void 0===e?void 0:e.returnRate)&&void 0!==n?n:0}})),this.blockTimestamp=u.timestamp,this.startTimestamp=a.startTimestamp,this.lastUpdatedTimestamp=a.lastUpdated,this.endTimestamp=a.endTimestamp,this.isCurrent=this.blockTimestamp>=this.startTimestamp&&this.blockTimestamp<=this.endTimestamp,this.isComplete=this.blockTimestamp>this.endTimestamp,this.markets=r,this.staking=p;var y=Math.max(0,this.endTimestamp-this.startTimestamp);this.duration=y;var l=y-Math.max(0,this.endTimestamp-this.blockTimestamp);this.progressDays=l/Re,this.totalAverageStakedLyra=this.progressDays?a.totalStkLyraDays/this.progressDays:0;var d=this.prices.lyra>0?1/this.prices.lyra:0,m=this.isComplete?this.totalAverageStakedLyra:X(p.totalSupply),c=m>0?d/m:0,T=this.epoch.stakingRewardConfig.totalRewards.OP,f=(y>0?c*T/y:0)*this.prices.op*Ge,b=this.epoch.stakingRewardConfig.totalRewards.LYRA,v=(y>0?c*b/y:0)*this.prices.lyra*Ge;this.stakingApy={op:f,lyra:v,total:f+v},this.totalStakingRewards={lyra:this.epoch.stakingRewardConfig.totalRewards.LYRA,op:this.epoch.stakingRewardConfig.totalRewards.OP},this.minTradingFeeRebate=this.tradingFeeRebate(0),this.maxTradingFeeRebate=this.tradingFeeRebate(m);var h=this.epoch.tradingRewardConfig.rewards,k=h.lyraRewardsCap,w=h.opRewardsCap;this.tradingRewardsCap={lyra:k,op:w}}var t,n,a;return t=e,a=[{key:"getAll",value:function(t){return Sy(d().mark((function n(){var a,i,r,p,u,o,y,l;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.deployment===s.Mainnet){n.next=2;break}throw Error("Reward epochs only supported on mainnet");case 2:return n.next=4,t.provider.getBlock("latest");case 4:return a=n.sent,n.t0=Iy,n.next=8,Promise.all([sy(t,a.timestamp),vy(t),gy(t),t.markets(),t.lyraStaking()]);case 8:return n.t1=n.sent,i=(0,n.t0)(n.t1,5),r=i[0],p=i[1],u=i[2],o=i[3],y=i[4],l={lyra:p,op:u},n.abrupt("return",r.map((function(n,i){return new e(t,i+1,n,l,o,y,a)})).sort((function(e,t){return e.endTimestamp-t.endTimestamp})));case 17:case"end":return n.stop()}}),n)})))()}},{key:"getLatest",value:function(e){var t=this;return Sy(d().mark((function n(){var a,i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.deployment===s.Mainnet){n.next=3;break}throw Error("Reward epochs only supported on mainnet");case 3:return n.next=5,t.getAll(e);case 5:if(i=n.sent,r=null!==(a=i.find((function(e){return!e.isComplete})))&&void 0!==a?a:i[i.length-1]){n.next=9;break}throw new Error("Failed to find latest global reward epoch");case 9:return n.abrupt("return",r);case 10:case"end":return n.stop()}}),n)})))()}},{key:"getByStartTimestamp",value:function(e,t){var n=this;return Sy(d().mark((function a(){var i,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.deployment===s.Mainnet){a.next=2;break}throw Error("Reward epochs only supported on mainnet");case 2:return a.next=4,n.getAll(e);case 4:if(i=a.sent,r=i.find((function(e){return e.startTimestamp===t}))){a.next=8;break}throw new Error("Failed to find epoch for startTimestamp");case 8:return a.abrupt("return",r);case 9:case"end":return a.stop()}}),a)})))()}}],(n=[{key:"vaultApy",value:function(e,t,n){var a=Cu(this.markets,e),i=a.baseToken.symbol,r=this.totalAverageVaultTokens(e),p=this.epoch.MMVConfig[i],u=this.epoch.scaledStkLyraDays[i];if(!p||!u)return console.warn("Missing APY data for vault",i),{lyra:0,op:0,total:0};var o=p.x,s=function(e,t,n,a,i){return a>0?Math.min(i*e+(1-i)*n/a*t,e):e}(n,r,t,this.progressDays?u/this.progressDays:0,o),y=this.totalAverageBoostedVaultTokens(e),l=r>0?n/r:0,d=l>0?(y>0?s/y:0)/l:0,m=X(a.liquidity.tokenPrice),c=r+(m>0?X(a.liquidity.totalQueuedDeposits)/m:0),T=c>0?(m>0?1/m:0)/c:0,f=p.LYRA,b=(this.duration>0?T*f/this.duration:0)*this.prices.lyra*Ge*d,v=p.OP,h=(this.duration>0?T*v/this.duration:0)*this.prices.op*Ge*d;return{lyra:b,op:h,total:b+h}}},{key:"vaultApyMultiplier",value:function(e,t,n){var a=this.vaultApy(e,0,n).total,i=this.vaultApy(e,t,n).total;return a>0?i/a:0}},{key:"minVaultApy",value:function(e){return this.vaultApy(e,0,1e4)}},{key:"maxVaultApy",value:function(e){var t=Cu(this.markets,e).baseToken.symbol,n=this.epoch.scaledStkLyraDays[t];if(!n)return{lyra:0,op:0,total:0};var a=this.progressDays?n/this.progressDays:0;return this.vaultApy(e,a,1e4)}},{key:"totalVaultRewards",value:function(e){var t,n,a=Cu(this.markets,e).baseToken.symbol;return{lyra:null!==(t=this.epoch.rewardedMMVRewards.LYRA[a])&&void 0!==t?t:0,op:null!==(n=this.epoch.rewardedMMVRewards.OP[a])&&void 0!==n?n:0}}},{key:"totalAverageVaultTokens",value:function(e){var t,n=Cu(this.markets,e).baseToken.symbol;return this.progressDays?(null!==(t=this.epoch.totalLpTokenDays[n])&&void 0!==t?t:0)/this.progressDays:0}},{key:"totalAverageBoostedVaultTokens",value:function(e){var t,n=Cu(this.markets,e).baseToken.symbol;return this.progressDays?(null!==(t=this.epoch.totalBoostedLpTokenDays[n])&&void 0!==t?t:0)/this.progressDays:0}},{key:"tradingFeeRebate",value:function(e){var t=this.epoch.tradingRewardConfig;return function(e,t,n,a,i,r,p,u){var o;return t?(o=Math).max.apply(o,xy(n.filter((function(t){return e>=t.cutoff})).map((function(e){return e.returnRate})))):Math.min(a,p+Math.max(0,i*(r+Math.log(e/u))))}(e,t.useRebateTable,t.rebateRateTable,t.maxRebatePercentage,t.netVerticalStretch,t.verticalShift,t.vertIntercept,t.stretchiness)}},{key:"tradingRewards",value:function(e,t){var n=this.epoch.tradingRewardConfig.rewards,a=n.lyraPortion,i=n.fixedLyraPrice,r=n.fixedOpPrice,p=n.floorTokenPriceLyra,u=n.floorTokenPriceOP,o=this.isComplete?i:Math.max(this.prices.lyra,p),s=this.isComplete?r:Math.max(this.prices.op,u),y=this.tradingFeeRebate(t)*e;return{lyra:y*a/o,op:y*(1-a)/s}}},{key:"shortCollateralRewards",value:function(e){var t=this.epoch.tradingRewardConfig.rewards,n=t.lyraPortion,a=t.fixedLyraPrice,i=t.fixedOpPrice,r=t.floorTokenPriceLyra,p=t.floorTokenPriceOP;return{lyra:e*n/(this.isComplete?a:Math.max(this.prices.lyra,r)),op:e*(1-n)/(this.isComplete?i:Math.max(this.prices.op,p))}}},{key:"shortCollateralYieldPerDay",value:function(e,t,n){var a=Math.max(0,n-this.blockTimestamp),i=this.epoch.tradingRewardConfig.shortCollatRewards,r=i.longDatedPenalty,p=i.tenDeltaRebatePerOptionDay,u=i.ninetyDeltaRebatePerOptionDay,o=this.epoch.tradingRewardConfig.rewards,s=o.lyraPortion,y=o.floorTokenPriceLyra,l=o.floorTokenPriceOP,d=Math.abs(t);if(d<.1||d>.9||this.isComplete)return{lyra:0,op:0};var m=(p+(d-.1)/.8*(u-p)*(a>=2419200?r:1))*e,c=Math.max(this.prices.lyra,y),T=Math.max(this.prices.op,l);return{lyra:c>0?s*m/c:0,op:T>0?(1-s)*m/T:0}}},{key:"accountRewardEpoch",value:function(e){var t=this;return Sy(d().mark((function n(){var a,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ky.getByOwner(t.lyra,e);case 2:return a=n.sent,i=a.find((function(e){return e.globalEpoch.startTimestamp===t.startTimestamp&&e.globalEpoch.endTimestamp===t.endTimestamp})),n.abrupt("return",null!==i&&void 0!==i?i:null);case 5:case"end":return n.stop()}}),n)})))()}}])&&Ay(t.prototype,n),a&&Ay(t,a),e}();function Vy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function By(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Vy(r,a,i,p,u,"next",e)}function u(e){Vy(r,a,i,p,u,"throw",e)}p(void 0)}))}}var Fy,Ly,Dy,Ry,Ey={};function Ny(e,t,n){return _y.apply(this,arguments)}function _y(){return _y=By(d().mark((function e(t,n,a){var i,r,p,u,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deployment===s.Mainnet){e.next=2;break}throw new Error("GlobalRewardEpoch only supported on mainnet");case 2:return i=(0,c.getAddress)(n),(!Ey[i]||a>Ey[i].lastUpdated+60)&&(r=ry(),p=(0,ny.iH)(r,Xs.AvalonAccountRewardsEpoch),u=(0,ny.IO)(p,(0,ny.g2)("account"),(0,ny.EW)(i)),o=function(){var e=By(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ny.U2)(u);case 2:return t=e.sent,e.abrupt("return",t.val()?Object.values(t.val()):[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ey[i]={epoch:o(),lastUpdated:a}),e.next=6,Ey[i].epoch;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function Gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Wy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Qy(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Wy(r,a,i,p,u,"next",e)}function u(e){Wy(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Hy(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ly=Fy||(Fy={})).MMV="MMV",Ly.TRADING="TRADING",Ly.STAKING="STAKING",(Ry=Dy||(Dy={})).OP="OP",Ry.LYRA="LYRA";var Ky=function(){function e(t,n,a,i,r,p,u){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.account=n,this.globalEpoch=i,this.accountEpoch=a;var s=this.globalEpoch.progressDays>0?this.accountEpoch.stkLyraDays/this.globalEpoch.progressDays:0;this.stakedLyraBalance=this.globalEpoch.isComplete?s:X(p),this.vaultTokenBalances=r.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){$y(e,t,n[t])}))}return e}({},e,$y({},t.market.baseToken.symbol,t))}),{}),this.stakingRewards={lyra:this.accountEpoch.inflationaryRewards.lyra,op:this.accountEpoch.inflationaryRewards.op},this.stakingRewardsUnlockTimestamp={lyra:this.globalEpoch.endTimestamp+_e,op:this.globalEpoch.endTimestamp},this.totalVaultRewards=i.markets.reduce((function(e,t){var n=o.vaultRewards(t.address),a=n.lyra,i=n.op;return{lyra:e.lyra+a,op:e.op+i}}),{lyra:0,op:0}),this.tradingFeeRebate=this.globalEpoch.tradingFeeRebate(this.stakedLyraBalance),this.tradingFees=this.accountEpoch.tradingRewards.tradingFees,this.tradingRewards=this.globalEpoch.tradingRewards(this.tradingFees,this.stakedLyraBalance),this.shortCollateralRewards=this.globalEpoch.shortCollateralRewards(this.accountEpoch.tradingRewards.totalCollatRebateDollars);var y=function(e){var t={},n={LYRA:!1,OP:!1},a={LYRA:!1,OP:!1};return e.map((function(e){var i=e.args.tag;if(i.startsWith(Fy.MMV)){var r=jy(i.split("-"),3),p=(r[0],r[1]),u=r[2];t[p]||(t[p]={LYRA:!1,OP:!1}),t[p][u]=!0}else if(i.startsWith(Fy.TRADING)){var o=jy(i.split("-"),2),s=(o[0],o[1]);n[s]=!0}else if(i.startsWith(Fy.STAKING)){var y=jy(i.split("-"),2),l=(y[0],y[1]);a[l]=!0}})),{vaultRewards:t,tradingRewards:n,stakingRewards:a}}(u),l=this.tradingRewards.lyra+this.shortCollateralRewards.lyra>0&&!y.tradingRewards.LYRA||this.tradingRewards.op+this.shortCollateralRewards.op>0&&!y.tradingRewards.OP,d=this.stakingRewards.op>0&&!y.stakingRewards.OP,m=i.markets.every((function(e){var t,n,a=o.vaultRewards(e.address),i=e.baseToken.symbol;return a.lyra>0&&!(null===(t=y.vaultRewards[i])||void 0===t?void 0:t.LYRA)||a.op>0&&!(null===(n=y.vaultRewards[i])||void 0===n?void 0:n.OP)}));this.isPendingRewards=!this.globalEpoch.isComplete||l||d||m}var t,n,i;return t=e,i=[{key:"getByOwner",value:function(t,n){return Qy(d().mark((function i(){var r,p,u,o,y,l,m,c,T,f,b;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.deployment===s.Mainnet){i.next=2;break}throw Error("Reward epochs only supported on mainnet");case 2:return r=Nn(t.provider,t.deployment,a.MultiDistributor),i.t0=zy,i.next=6,Promise.all([t.provider.getBlock("latest"),t.markets()]);case 6:return i.t1=i.sent,p=(0,i.t0)(i.t1,2),u=p[0],o=p[1],i.t2=zy,i.t3=Promise,i.t4=Ny(t,n,u.timestamp),i.t5=qy.getAll(t),i.t6=t.account(n).stakedLyraBalance(),i.t7=Promise.all(o.map((function(e){return t.account(n).liquidityTokenBalance(e.__marketData.marketAddresses.optionMarket)}))),i.next=18,r.queryFilter(r.filters.ClaimAdded(null,n,null,null,null));case 18:return i.t8=i.sent,i.t9=[i.t4,i.t5,i.t6,i.t7,i.t8],i.next=22,i.t3.all.call(i.t3,i.t9);case 22:return i.t10=i.sent,y=(0,i.t2)(i.t10,5),l=y[0],m=y[1],c=y[2],T=c.balance,f=y[3],b=y[4],i.abrupt("return",l.map((function(a){var i=m.find((function(e){return e.startTimestamp===a.startTimestamp&&e.endTimestamp===a.endTimestamp}));if(!i)throw new Error("Missing corresponding global epoch for account epoch");var r=b.filter((function(e){return e.args.epochTimestamp.toNumber()===i.startTimestamp}));return new e(t,n,a,i,f,T,r)})).sort((function(e,t){return e.globalEpoch.endTimestamp-t.globalEpoch.endTimestamp})));case 31:case"end":return i.stop()}}),i)})))()}},{key:"getByStartTimestamp",value:function(t,n,a){return Qy(d().mark((function i(){var r,p;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.deployment===s.Mainnet){i.next=2;break}throw Error("Reward epochs only supported on mainnet");case 2:return i.next=4,e.getByOwner(t,n);case 4:return r=i.sent,p=r.find((function(e){return e.globalEpoch.startTimestamp===a})),i.abrupt("return",null!==p&&void 0!==p?p:null);case 7:case"end":return i.stop()}}),i)})))()}}],(n=[{key:"vaultApy",value:function(e){var t=this.vaultTokenBalance(e);return 0===t?this.globalEpoch.minVaultApy(e):this.globalEpoch.vaultApy(e,this.stakedLyraBalance,t)}},{key:"vaultApyMultiplier",value:function(e){var t=this.vaultTokenBalance(e);return 0===t?1:this.globalEpoch.vaultApyMultiplier(e,this.stakedLyraBalance,t)}},{key:"vaultTokenBalance",value:function(e){var t=Cu(this.globalEpoch.markets,e).baseToken.symbol,n=this.accountEpoch.boostedLpDays&&this.accountEpoch.boostedLpDays[t]?this.accountEpoch.boostedLpDays[t]:0,a=this.globalEpoch.progressDays>0?n/this.globalEpoch.progressDays:0,i=X(this.vaultTokenBalances[t].balance);return this.globalEpoch.isComplete?a:i}},{key:"vaultRewards",value:function(e){var t,n,a=Cu(this.globalEpoch.markets,e).baseToken.symbol,i=this.accountEpoch.MMVRewards&&this.accountEpoch.MMVRewards[a]?this.accountEpoch.MMVRewards[a]:null;if(!i)return{lyra:0,op:0};var r=!!i.isIgnored;return{lyra:r?0:null!==(t=i.lyra)&&void 0!==t?t:0,op:r?0:null!==(n=i.op)&&void 0!==n?n:0}}}])&&Hy(t.prototype,n),i&&Hy(t,i),e}();function Zy(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Yy(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Zy(r,a,i,p,u,"next",e)}function u(e){Zy(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Jy(e){return Xy.apply(this,arguments)}function Xy(){return(Xy=Yy(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nn(t.provider,t.deployment,a.SynthetixAdapter),e.next=3,n.owner();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function tl(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){el(r,a,i,p,u,"next",e)}function u(e){el(r,a,i,p,u,"throw",e)}p(void 0)}))}}function nl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){al(e,t,n[t])}))}return e}var rl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t}var t,n,i;return t=e,i=[{key:"get",value:function(t){return new e(t)}}],(n=[{key:"globalOwner",value:function(){var e=this;return tl(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jy(e.lyra);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"isMarketPaused",value:function(e){var t=this;return tl(d().mark((function n(){var i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(t.lyra.provider,t.lyra.deployment,a.SynthetixAdapter),n.next=3,i.isMarketPaused(e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()}},{key:"isGlobalPaused",value:function(){var e=this;return tl(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nn(e.lyra.provider,e.lyra.deployment,a.SynthetixAdapter),t.next=3,n.isGlobalPaused();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}},{key:"setGlobalPaused",value:function(e,t){var n=Nn(this.lyra.provider,this.lyra.deployment,a.SynthetixAdapter),i=n.interface.encodeFunctionData("setGlobalPaused",[t]);return il({},St(this.lyra,n.address,e,i),{gasLimit:T.O$.from(1e7)})}},{key:"setMarketPaused",value:function(e,t,n){var i=Nn(this.lyra.provider,this.lyra.deployment,a.SynthetixAdapter),r=i.interface.encodeFunctionData("setMarketPaused",[t,n]);return il({},St(this.lyra,i.address,e,r),{gasLimit:T.O$.from(1e7)})}},{key:"addMarketToWrapper",value:function(e,t,n){var i=n.optionMarket,r=n.quoteAsset,p=n.baseAsset,u=n.optionToken,o=n.liquidityPool,s=n.liquidityToken,y=Nn(this.lyra.provider,this.lyra.deployment,a.OptionMarketWrapper),l=y.interface.encodeFunctionData("addMarket",[i,t,{quoteAsset:r,baseAsset:p,optionToken:u,liquidityPool:o,liquidityToken:s}]);return il({},St(this.lyra,y.address,e,l),{gasLimit:T.O$.from(1e7)})}},{key:"addMarketToViewer",value:function(e,t){var n=Nn(this.lyra.provider,this.lyra.deployment,a.OptionMarketViewer),i=n.interface.encodeFunctionData("addMarket",[t]);return il({},St(this.lyra,n.address,e,i),{gasLimit:T.O$.from(1e7)})}},{key:"addMarketToRegistry",value:function(e,t){var n=Nn(this.lyra.provider,this.lyra.deployment,a.LyraRegistry),i=n.interface.encodeFunctionData("addMarket",[t]);return il({},St(this.lyra,n.address,e,i),{gasLimit:T.O$.from(1e7)})}}])&&nl(t.prototype,n),i&&nl(t,i),e}();function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ul(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ol(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.cooldownPeriod=n.cooldownPeriod,this.unstakeWindow=n.unstakeWindow,this.totalSupply=n.totalSupply,this.lyraPrice=n.lyraPrice}var t,n,i;return t=e,i=[{key:"get",value:function(t){return(n=d().mark((function n(){var i,r,p,u,o,s;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Nn(t.provider,t.deployment,a.LyraStakingModuleProxy),n.t0=sl,n.next=4,Promise.all([i.COOLDOWN_SECONDS(),i.UNSTAKE_WINDOW(),i.totalSupply(),vy(t)]);case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1,4),p=r[0],u=r[1],o=r[2],s=r[3],n.abrupt("return",new e(t,{cooldownPeriod:p.toNumber(),unstakeWindow:u.toNumber(),totalSupply:o,lyraPrice:s}));case 11:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var r=n.apply(e,t);function p(e){ul(r,a,i,p,u,"next",e)}function u(e){ul(r,a,i,p,u,"throw",e)}p(void 0)}))})();var n}}],(n=null)&&ol(t.prototype,n),i&&ol(t,i),e}();function ll(e,t){return e.strikes().map((function(e){var n=de.get(e.option(!0),!0,t),a=de.get(e.option(!0),!1,t),i=de.get(e.option(!1),!0,t),r=de.get(e.option(!1),!1,t);return[{bid:n,ask:a,option:e.option(!0)},{bid:i,ask:r,option:e.option(!1)}]})).flat()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ml(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function cl(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){ml(r,a,i,p,u,"next",e)}function u(e){ml(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Tl(e,t,n[t])}))}return e}function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||hl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e){return function(e){if(Array.isArray(e))return dl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){if(e){if("string"===typeof e)return dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dl(e,t):void 0}}var kl=function(e,t,n){switch(n){case Hi.RealizedPnl:return X(t.realizedPnl.sub(e.realizedPnl));case Hi.RealizedLongPnl:return X(t.realizedLongPnl.sub(e.realizedLongPnl));case Hi.RealizedLongPnlPercentage:return X(t.realizedLongPnlPercentage.sub(e.realizedLongPnlPercentage));case Hi.UnrealizedPnl:return X(t.unrealizedPnl.sub(e.unrealizedPnl));case Hi.UnrealizedLongPnl:return X(t.unrealizedLongPnl.sub(e.unrealizedLongPnl));case Hi.UnrealizedLongPnlPercentage:return X(t.unrealizedLongPnlPercentage.sub(e.unrealizedLongPnlPercentage))}};function wl(e,t){return gl.apply(this,arguments)}function gl(){return(gl=cl(d().mark((function e(t,n){var a,i,r,p,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.allPositions(n);case 2:return a=e.sent,i=null===n||void 0===n?void 0:n.minTotalPremiums,r=a.reduce((function(e,t){var n,a=null!==(n=e[t.owner])&&void 0!==n?n:[];return fl({},e,Tl({},t.owner,vl(a).concat([t])))}),{}),p=Object.entries(r).map((function(e){var t=bl(e,2),n=t[0],a=t[1],i=f,r=f,p=f,u=f,o=f,s=f,y=f,l=f;a.forEach((function(e){var t=e.isLong,n=e.isSettled,a=e.pnl(),d=a.realizedPnl,m=a.settlementPnl,c=a.unrealizedPnl,T=a.totalAverageCloseCost,v=a.totalAverageOpenCost;r=r.add(d).add(m),i=i.add(c),t&&(p=p.add(d).add(m),u=u.add(c),o=o.add(T),n?o=o.add(v):s=s.add(v)),y=y.add(e.trades().reduce((function(e,t){var n=t.strikePrice.mul(t.size).div(b);return e.add(n)}),f)),l=l.add(e.trades().reduce((function(e,t){return e.add(t.premium)}),f))}));var d=o.gt(0)?r.mul(b).div(o):f,m=s.gt(0)?i.mul(b).div(s):f;return{account:n,realizedPnl:r,unrealizedPnl:i,realizedLongPnl:p,realizedLongPnlPercentage:d,unrealizedLongPnl:u,unrealizedLongPnlPercentage:m,totalPremiums:l,totalNotionalVolume:y,positions:a}})).filter((function(e){return!i||!e.totalPremiums.lt(i)})),(u=null===n||void 0===n?void 0:n.secondarySortBy)&&p.sort((function(e,t){return kl(e,t,u)})),p.sort((function(e,t){var a;return kl(e,t,null!==(a=null===n||void 0===n?void 0:n.sortBy)&&void 0!==a?a:Hi.RealizedPnl)})),e.abrupt("return",p);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pl=function(e){switch(e){case 31337:return s.Local;case 69:return s.Kovan;case 10:return s.Mainnet;default:throw new Error("Chain ID is not supported by Lyra")}},Ol=function(e){switch(e){case s.Local:return"http://127.0.0.1:8081";case s.Kovan:return"https://api.thegraph.com/subgraphs/name/lyra-finance/optimism-kovan-blocks";case s.Mainnet:return"https://api.thegraph.com/subgraphs/name/lyra-finance/optimism-mainnet-blocks"}},xl=n(87731),Ml=function(e){switch(e){case s.Local:return 31337;case s.Kovan:return 69;case s.Mainnet:return 10}},Cl=function(e){switch(e){case s.Local:return"http://127.0.0.1:8545";case s.Kovan:return"https://kovan.optimism.io";case s.Mainnet:return"https://mainnet.optimism.io"}},Sl=function(e){var t=Cl(e),n=Ml(e);return new xl.c(t,n)},Al=function(e){switch(e){case s.Local:return"http://127.0.0.1:8080";case s.Kovan:return"https://api.thegraph.com/subgraphs/name/lyra-finance/kovan";case s.Mainnet:return"https://api.thegraph.com/subgraphs/name/lyra-finance/mainnet"}};function Il(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function ql(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Il(r,a,i,p,u,"next",e)}function u(e){Il(r,a,i,p,u,"throw",e)}p(void 0)}))}}function Vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Fl=function(){function e(){var t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Mainnet;if(Vl(this,e),"object"===typeof a){var i=a;this.provider=a.provider,this.deployment=Pl(this.provider.network.chainId),this.subgraphUri=null!==(t=null===i||void 0===i?void 0:i.subgraphUri)&&void 0!==t?t:Al(this.deployment),this.blockSubgraphUri=null!==(n=null===i||void 0===i?void 0:i.blockSubgraphUri)&&void 0!==n?n:Ol(this.deployment)}else"number"===typeof a?(this.deployment=Pl(a),this.provider=Sl(this.deployment),this.subgraphUri=Al(this.deployment),this.blockSubgraphUri=Ol(this.deployment)):(this.deployment=a,this.provider=Sl(this.deployment),this.subgraphUri=Al(this.deployment),this.blockSubgraphUri=Ol(this.deployment));this.subgraphClient=new m.GraphQLClient(this.subgraphUri),this.blockSubgraphClient=new m.GraphQLClient(this.blockSubgraphUri)}var t,n,a;return t=e,(n=[{key:"quote",value:function(e,t,n,a,i,r){var p=this;return ql(d().mark((function u(){var o;return d().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,p.market(e);case 2:return o=u.sent,u.next=5,o.quote(t,n,a,i,r);case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}}),u)})))()}},{key:"quoteBoard",value:function(e,t,n){var a=this;return ql(d().mark((function i(){var r;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.board(e,t);case 2:return r=i.sent,i.abrupt("return",ll(r,n));case 4:case"end":return i.stop()}}),i)})))()}},{key:"trade",value:function(e,t,n,a,i,r,p,u){var o=this;return ql(d().mark((function s(){var y;return d().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.market(t);case 2:return y=s.sent,s.next=5,y.trade(e,n,a,i,r,p,u);case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}}),s)})))()}},{key:"onTrade",value:function(e,t){return ei.on(this,e,t)}},{key:"markets",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ou.getAll(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"contractAddresses",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jn(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"marketAddresses",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.contractAddresses();case 2:return t.abrupt("return",t.sent.map((function(e){return e.optionMarket})));case 3:case"end":return t.stop()}}),t)})))()}},{key:"market",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ou.get(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"board",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,en.get(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"strike",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ct.get(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"option",value:function(e,t,n){var a=this;return ql(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,mt.get(a,e,t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"openPositions",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sr.getOpenByOwner(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"positions",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sr.getByOwner(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"allPositions",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sr.getAll(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"position",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,sr.get(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"events",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_a(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"leaderboard",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wl(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"account",value:function(e){return ty.get(this,e)}},{key:"approveStableToken",value:function(e,t,n){var a=this;return ql(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ty.get(a,e).approveStableToken(t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"approveBaseToken",value:function(e,t,n){var a=this;return ql(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ty.get(a,e).approveBaseToken(t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"approveOptionToken",value:function(e,t,n){var a=this;return ql(d().mark((function i(){var r;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ty.get(a,e);case 2:return r=i.sent,i.next=5,r.approveOptionToken(t,n);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),i)})))()}},{key:"drip",value:function(e){var t=this;return ql(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ty.get(t,e);case 2:return a=n.sent,n.next=5,a.drip();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}},{key:"liquidityDeposits",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mu.getByOwner(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"liquidityDeposit",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mu.getByQueueId(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"deposit",value:function(e,t,n){var a=this;return ql(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mu.deposit(a,t,e,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"liquidityWithdrawals",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Bn.getByOwner(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"liquidityWithdrawal",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Bn.getByQueueId(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"withdraw",value:function(e,t,n){var a=this;return ql(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Bn.withdraw(a,t,e,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}},{key:"admin",value:function(){return rl.get(this)}},{key:"lyraStaking",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yl.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"stake",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_u.get(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"requestUnstake",value:function(e){var t=this;return ql(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.account(e),n.next=3,a.requestUnstake();case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()}},{key:"unstake",value:function(e,t){var n=this;return ql(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$u.get(n,e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},{key:"globalRewardEpochs",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qy.getAll(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"latestGlobalRewardEpoch",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qy.getLatest(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"accountRewardEpochs",value:function(e){var t=this;return ql(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ky.getByOwner(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"wethLyraStaking",value:function(){var e=this;return ql(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wl.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}])&&Bl(t.prototype,n),a&&Bl(t,a),e}();function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Dl(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function Rl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var El=function(){var e,t=(e=d().mark((function e(t){var n,i,r,p,u,o,s,y,l,m,c,T,f,b,v,h,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nn(t.provider,t.deployment,a.ArrakisPool),i=Nn(t.provider,t.deployment,a.WethLyraStakingRewards),e.t0=Rl,e.next=5,Promise.all([i.rewardRate(),n.balanceOf(i.address),n.getUnderlyingBalances(),n.totalSupply(),cy(t,V),cy(t,"0x4200000000000000000000000000000000000006")]);case 5:return e.t1=e.sent,r=(0,e.t0)(e.t1,6),p=r[0],u=r[1],o=r[2],s=o.amount0Current,y=o.amount1Current,l=r[3],m=r[4],c=r[5],T=X(s)*c,f=X(y)*m,b=T+f,v=l?b/X(l):0,h=u?X(p)/X(u):0,k=v>0?31536e3*h*(null!==m&&void 0!==m?m:0)/v:0,e.abrupt("return",{apy:k,tokenValue:v});case 22:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function p(e){Dl(r,a,i,p,u,"next",e)}function u(e){Dl(r,a,i,p,u,"throw",e)}p(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Nl=El;function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Gl(e,t,n,a,i,r,p){try{var u=e[r](p),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(a,i)}function jl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],p=!0,u=!1;try{for(n=n.call(e);!(p=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);p=!0);}catch(o){u=!0,i=o}finally{try{p||null==n.return||n.return()}finally{if(u)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wl=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lyra=t,this.totalStaked=f,this.lpTokenValue=n,this.stakedTokenBalance=a,this.stakedTVL=X(a)*n,this.apy=i}var t,n,i;return t=e,i=[{key:"get",value:function(t){return(n=d().mark((function n(){var i,r,p,u,o,s,y;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ul,n.t1=Promise,n.next=4,Nn(t.provider,t.deployment,a.ArrakisPool);case 4:return n.t2=n.sent,n.next=7,Nn(t.provider,t.deployment,a.WethLyraStakingRewards);case 7:return n.t3=n.sent,n.next=10,Nl(t);case 10:return n.t4=n.sent,n.t5=[n.t2,n.t3,n.t4],n.next=14,n.t1.all.call(n.t1,n.t5);case 14:return n.t6=n.sent,i=(0,n.t0)(n.t6,3),r=i[0],p=i[1],u=i[2],o=u.apy,s=u.tokenValue,n.next=23,r.balanceOf(p.address);case 23:return y=n.sent,n.abrupt("return",new e(t,s,y,o));case 25:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var r=n.apply(e,t);function p(e){Gl(r,a,i,p,u,"next",e)}function u(e){Gl(r,a,i,p,u,"throw",e)}p(void 0)}))})();var n}}],(n=null)&&jl(t.prototype,n),i&&jl(t,i),e}(),Ql=n(13017);function Hl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var $l=[{inputs:[{internalType:"address payable",name:"_gelato",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"burnAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidityBurned",type:"uint128"}],name:"Burned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"feesEarned0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feesEarned1",type:"uint256"}],name:"FeesEarned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"mintAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidityMinted",type:"uint128"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousManager",type:"address"},{indexed:!0,internalType:"address",name:"newManager",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int24",name:"lowerTick_",type:"int24"},{indexed:!1,internalType:"int24",name:"upperTick_",type:"int24"},{indexed:!1,internalType:"uint128",name:"liquidityBefore",type:"uint128"},{indexed:!1,internalType:"uint128",name:"liquidityAfter",type:"uint128"}],name:"Rebalance",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint16",name:"managerFee",type:"uint16"}],name:"SetManagerFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldAdminTreasury",type:"address"},{indexed:!1,internalType:"address",name:"newAdminTreasury",type:"address"}],name:"UpdateAdminTreasury",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint16",name:"gelatoRebalanceBPS",type:"uint16"},{indexed:!1,internalType:"uint16",name:"gelatoWithdrawBPS",type:"uint16"},{indexed:!1,internalType:"uint16",name:"gelatoSlippageBPS",type:"uint16"},{indexed:!1,internalType:"uint32",name:"gelatoSlippageInterval",type:"uint32"}],name:"UpdateGelatoParams",type:"event"},{inputs:[],name:"GELATO",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"burnAmount",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"uint128",name:"liquidityBurned",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"newLowerTick",type:"int24"},{internalType:"int24",name:"newUpperTick",type:"int24"},{internalType:"uint160",name:"swapThresholdPrice",type:"uint160"},{internalType:"uint256",name:"swapAmountBPS",type:"uint256"},{internalType:"bool",name:"zeroForOne",type:"bool"}],name:"executiveRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"gelatoBalance0",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoBalance1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoFeeBPS",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoRebalanceBPS",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoSlippageBPS",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoSlippageInterval",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoWithdrawBPS",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Max",type:"uint256"},{internalType:"uint256",name:"amount1Max",type:"uint256"}],name:"getMintAmounts",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"uint256",name:"mintAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPositionID",outputs:[{internalType:"bytes32",name:"positionID",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUnderlyingBalances",outputs:[{internalType:"uint256",name:"amount0Current",type:"uint256"},{internalType:"uint256",name:"amount1Current",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint160",name:"sqrtRatioX96",type:"uint160"}],name:"getUnderlyingBalancesAtPrice",outputs:[{internalType:"uint256",name:"amount0Current",type:"uint256"},{internalType:"uint256",name:"amount1Current",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_pool",type:"address"},{internalType:"uint16",name:"_managerFeeBPS",type:"uint16"},{internalType:"int24",name:"_lowerTick",type:"int24"},{internalType:"int24",name:"_upperTick",type:"int24"},{internalType:"address",name:"_manager_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_managerFeeBPS",type:"uint16"}],name:"initializeManagerFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lowerTick",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"managerBalance0",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"managerBalance1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"managerFeeBPS",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"managerTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"mintAmount",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"uint128",name:"liquidityMinted",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint160",name:"swapThresholdPrice",type:"uint160"},{internalType:"uint256",name:"swapAmountBPS",type:"uint256"},{internalType:"bool",name:"zeroForOne",type:"bool"},{internalType:"uint256",name:"feeAmount",type:"uint256"},{internalType:"address",name:"paymentToken",type:"address"}],name:"rebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"uniswapV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"newRebalanceBPS",type:"uint16"},{internalType:"uint16",name:"newWithdrawBPS",type:"uint16"},{internalType:"uint16",name:"newSlippageBPS",type:"uint16"},{internalType:"uint32",name:"newSlippageInterval",type:"uint32"},{internalType:"address",name:"newTreasury",type:"address"}],name:"updateGelatoParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"upperTick",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"feeAmount",type:"uint256"},{internalType:"address",name:"feeToken",type:"address"}],name:"withdrawGelatoBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"feeAmount",type:"uint256"},{internalType:"address",name:"feeToken",type:"address"}],name:"withdrawManagerBalance",outputs:[],stateMutability:"nonpayable",type:"function"}];function zl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU($l)}},{key:"connect",value:function(e,t){return new At.Contract(e,$l,t)}}],(n=null)&&Hl(t.prototype,n),a&&Hl(t,a),e}()).abi=$l;var Kl=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];function Zl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Kl)}},{key:"connect",value:function(e,t){return new At.Contract(e,Kl,t)}}],(n=null)&&zl(t.prototype,n),a&&zl(t,a),e}()).abi=Kl;var Yl=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"pendingBase",type:"uint256"},{internalType:"uint256",name:"estimatedExchangeCost",type:"uint256"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"}],name:"InsufficientFreeLiquidityForBaseExchange",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"beneficiary",type:"address"}],name:"InvalidBeneficiaryAddress",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"lpParams",type:"tuple"}],name:"InvalidLiquidityPoolParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"quoteToLock",type:"uint256"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{components:[{internalType:"uint256",name:"quote",type:"uint256"},{internalType:"uint256",name:"base",type:"uint256"}],internalType:"struct LiquidityPool.Collateral",name:"lockedCollateral",type:"tuple"}],name:"LockingMoreQuoteThanIsFree",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"},{internalType:"uint256",name:"minDeposit",type:"uint256"}],name:"MinimumDepositNotMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"amountLiquidityToken",type:"uint256"},{internalType:"uint256",name:"minWithdraw",type:"uint256"}],name:"MinimumWithdrawNotMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],name:"NotEnoughFreeToReclaimInsolvency",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"poolHedger",type:"address"}],name:"OnlyPoolHedger",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"poolHedger",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"totalAssetCalue",type:"uint256"},{internalType:"int256",name:"optionValue",type:"int256"}],name:"OptionValueExceedsTotalAssets",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"QuoteTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"reservedFee",type:"uint256"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"}],name:"SendPremiumNotEnoughCollateral",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"baseFreed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockedCollateralBase",type:"uint256"}],name:"BaseFreed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"baseLocked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockedCollateralBase",type:"uint256"}],name:"BaseLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"quoteSpent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseReceived",type:"uint256"}],name:"BasePurchased",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amountBase",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteReceived",type:"uint256"}],name:"BaseSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"insolventSettlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountQuoteReserved",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalOutstandingSettlements",type:"uint256"}],name:"BoardSettlement",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTimestamp",type:"uint256"}],name:"BoardSettlementCircuitBreakerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"entryId",type:"uint256"},{indexed:!1,internalType:"bool",name:"boardNotStale",type:"bool"},{indexed:!1,internalType:"bool",name:"validEntry",type:"bool"},{indexed:!1,internalType:"bool",name:"guardianBypass",type:"bool"},{indexed:!1,internalType:"bool",name:"delaysExpired",type:"bool"}],name:"CheckingCanProcess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTimestamp",type:"uint256"},{indexed:!1,internalType:"bool",name:"ivVarianceThresholdCrossed",type:"bool"},{indexed:!1,internalType:"bool",name:"skewVarianceThresholdCrossed",type:"bool"},{indexed:!1,internalType:"bool",name:"liquidityThresholdCrossed",type:"bool"}],name:"CircuitBreakerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!0,internalType:"uint256",name:"depositQueueId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountDeposited",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensReceived",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"DepositProcessed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!0,internalType:"uint256",name:"depositQueueId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountDeposited",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalQueuedDeposits",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"DepositQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amountQuoteAdded",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalInsolventSettlementAmount",type:"uint256"}],name:"InsolventSettlementAmountUpdated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],indexed:!1,internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"lpParams",type:"tuple"}],name:"LiquidityPoolParametersUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalOutstandingSettlements",type:"uint256"}],name:"OutstandingSettlementSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract PoolHedger",name:"poolHedger",type:"address"}],name:"PoolHedgerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"recipientPortion",type:"uint256"},{indexed:!1,internalType:"uint256",name:"optionMarketPortion",type:"uint256"}],name:"PremiumTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"quoteFreed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockedCollateralQuote",type:"uint256"}],name:"QuoteFreed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"quoteLocked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockedCollateralQuote",type:"uint256"}],name:"QuoteLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"QuoteTransferredToPoolHedger",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!0,internalType:"uint256",name:"withdrawalQueueId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountWithdrawn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteReceived",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"WithdrawPartiallyProcessed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!0,internalType:"uint256",name:"withdrawalQueueId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountWithdrawn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteReceived",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"WithdrawProcessed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!0,internalType:"uint256",name:"withdrawalQueueId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountWithdrawn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"WithdrawQueued",type:"event"},{inputs:[],name:"CBTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"insolventSettlements",type:"uint256"},{internalType:"uint256",name:"amountQuoteFreed",type:"uint256"},{internalType:"uint256",name:"amountQuoteReserved",type:"uint256"},{internalType:"uint256",name:"amountBaseFreed",type:"uint256"}],name:"boardSettlement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exchangeBase",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountQuoteFreed",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"reservedFee",type:"uint256"}],name:"freeQuoteCollateralAndSendPremium",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCurrentLiquidity",outputs:[{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"getLiquidity",outputs:[{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLpParams",outputs:[{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenPriceWithCheck",outputs:[{internalType:"uint256",name:"tokenPrice",type:"uint256"},{internalType:"bool",name:"isStale",type:"bool"},{internalType:"uint256",name:"circuitBreakerExpiry",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalPoolValueQuote",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalTokenSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract LiquidityToken",name:"_liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"contract PoolHedger",name:"_poolHedger",type:"address"},{internalType:"contract ShortCollateral",name:"_shortCollateral",type:"address"},{internalType:"contract ERC20",name:"_quoteAsset",type:"address"},{internalType:"contract ERC20",name:"_baseAsset",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"initiateDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"amountLiquidityToken",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"insolventSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountBase",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"reservedFee",type:"uint256"}],name:"liquidateBaseAndSendPremium",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidationInsolventAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"}],name:"lockBase",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"}],name:"lockQuote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockedCollateral",outputs:[{internalType:"uint256",name:"quote",type:"uint256"},{internalType:"uint256",name:"base",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lpParams",outputs:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextQueuedDepositId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextQueuedWithdrawalId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolHedger",outputs:[{internalType:"contract PoolHedger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"limit",type:"uint256"}],name:"processDepositQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"limit",type:"uint256"}],name:"processWithdrawalQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"queuedDepositHead",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"queuedDeposits",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"amountLiquidity",type:"uint256"},{internalType:"uint256",name:"mintedTokens",type:"uint256"},{internalType:"uint256",name:"depositInitiatedTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"queuedWithdrawalHead",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"queuedWithdrawals",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"amountTokens",type:"uint256"},{internalType:"uint256",name:"quoteSent",type:"uint256"},{internalType:"uint256",name:"withdrawInitiatedTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"uint256",name:"amountBase",type:"uint256"}],name:"reclaimInsolventBase",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"reclaimInsolventQuote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendSettlementValue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedFee",type:"uint256"}],name:"sendShortPremium",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"_lpParams",type:"tuple"}],name:"setLiquidityPoolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract PoolHedger",name:"newPoolHedger",type:"address"}],name:"setPoolHedger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalOutstandingSettlements",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalQueuedDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalQueuedWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferQuoteToHedge",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateCBs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDelegateApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"insolvencyAmountInQuote",type:"uint256"}],name:"updateLiquidationInsolvency",outputs:[],stateMutability:"nonpayable",type:"function"}];function Jl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Yl)}},{key:"connect",value:function(e,t){return new At.Contract(e,Yl,t)}}],(n=null)&&Zl(t.prototype,n),a&&Zl(t,a),e}()).abi=Yl;var Xl=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"liquidityPool",type:"address"}],name:"OnlyLiquidityPool",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract ILiquidityTracker",name:"liquidityTracker",type:"address"}],name:"LiquidityTrackerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityTracker",outputs:[{internalType:"contract ILiquidityTracker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ILiquidityTracker",name:"_liquidityTracker",type:"address"}],name:"setLiquidityTracker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function ed(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Xl)}},{key:"connect",value:function(e,t){return new At.Contract(e,Xl,t)}}],(n=null)&&Jl(t.prototype,n),a&&Jl(t,a),e}()).abi=Xl;var td=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"contractName",type:"bytes32"}],name:"NonExistentGlobalContract",type:"error"},{inputs:[{internalType:"address",name:"optionMarket",type:"address"}],name:"NonExistentMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"market",type:"address"}],name:"RemovingInvalidMarket",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"name",type:"bytes32"},{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"GlobalAddressUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract OptionMarket",name:"market",type:"address"}],name:"MarketRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract GWAVOracle",name:"gwavOracle",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],indexed:!1,internalType:"struct LyraRegistry.OptionMarketAddresses",name:"market",type:"tuple"}],name:"MarketUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract GWAVOracle",name:"gwavOracle",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct LyraRegistry.OptionMarketAddresses",name:"newMarketAddresses",type:"tuple"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"contractName",type:"bytes32"}],name:"getGlobalAddress",outputs:[{internalType:"address",name:"globalContract",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"optionMarket",type:"address"}],name:"getMarketAddresses",outputs:[{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract GWAVOracle",name:"gwavOracle",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct LyraRegistry.OptionMarketAddresses",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"globalAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],name:"marketAddresses",outputs:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract GWAVOracle",name:"gwavOracle",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"optionMarkets",outputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"}],name:"removeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"names",type:"bytes32[]"},{internalType:"address[]",name:"addresses",type:"address[]"}],name:"updateGlobalAddresses",outputs:[],stateMutability:"nonpayable",type:"function"}];function nd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(td)}},{key:"connect",value:function(e,t){return new At.Contract(e,td,t)}}],(n=null)&&ed(t.prototype,n),a&&ed(t,a),e}()).abi=td;var ad=[{inputs:[{internalType:"contract IERC20",name:"stakedToken",type:"address"},{internalType:"contract IERC20",name:"rewardToken",type:"address"},{internalType:"uint256",name:"cooldownSeconds",type:"uint256"},{internalType:"uint256",name:"unstakeWindow",type:"uint256"},{internalType:"address",name:"rewardsVault",type:"address"},{internalType:"address",name:"emissionManager",type:"address"},{internalType:"uint128",name:"distributionDuration",type:"uint128"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"emission",type:"uint256"}],name:"AssetConfigUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"AssetIndexUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"Cooldown",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"cooldownTimestamp",type:"uint256"}],name:"CooldownUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsAccrued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"UserIndexUpdated",type:"event"},{inputs:[],name:"COOLDOWN_SECONDS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DELEGATE_BY_TYPE_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DELEGATE_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DISTRIBUTION_END",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"EIP712_REVISION",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"EMISSION_MANAGER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRECISION",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"REVISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REWARDS_VAULT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNSTAKE_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_aaveGovernance",outputs:[{internalType:"contract ITransferHook",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"_votingSnapshots",outputs:[{internalType:"uint128",name:"blockNumber",type:"uint128"},{internalType:"uint128",name:"value",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_votingSnapshotsCounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"assets",outputs:[{internalType:"uint128",name:"emissionPerSecond",type:"uint128"},{internalType:"uint128",name:"lastUpdateTimestamp",type:"uint128"},{internalType:"uint256",name:"index",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint128",name:"emissionPerSecond",type:"uint128"},{internalType:"uint256",name:"totalStaked",type:"uint256"},{internalType:"address",name:"underlyingAsset",type:"address"}],internalType:"struct DistributionTypes.AssetConfigInput[]",name:"assetsConfigInput",type:"tuple[]"}],name:"configureAssets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCooldownTimestamp",type:"uint256"},{internalType:"uint256",name:"amountToReceive",type:"uint256"},{internalType:"address",name:"toAddress",type:"address"},{internalType:"uint256",name:"toBalance",type:"uint256"}],name:"getNextCooldownTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"staker",type:"address"}],name:"getTotalRewardsBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"asset",type:"address"}],name:"getUserAssetData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint8",name:"decimals",type:"uint8"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakerRewardsToClaim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakersCooldowns",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function id(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(ad)}},{key:"connect",value:function(e,t){return new At.Contract(e,ad,t)}}],(n=null)&&nd(t.prototype,n),a&&nd(t,a),e}()).abi=ad;var rd=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAdmin",type:"address"}],name:"changeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_logic",type:"address"},{internalType:"address",name:"_admin",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_logic",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"}];function pd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(rd)}},{key:"connect",value:function(e,t){return new At.Contract(e,rd,t)}}],(n=null)&&id(t.prototype,n),a&&id(t,a),e}()).abi=rd;var ud=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"rewardToken",type:"address"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"epochTimestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"tag",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"rewardToken",type:"address"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"rewardToken",type:"address"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct MultiDistributor.UserTokenAmounts[]",name:"claimsToAdd",type:"tuple[]"},{internalType:"uint256",name:"epochTimestamp",type:"uint256"},{internalType:"string",name:"tag",type:"string"}],name:"addToClaims",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"contract IERC20",name:"",type:"address"}],name:"claimableBalances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"getClaimableForAddresses",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct MultiDistributor.UserTokenAmounts[]",name:"claimed",type:"tuple[]"},{components:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct MultiDistributor.UserTokenAmounts[]",name:"claimable",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"removeClaims",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"contract IERC20",name:"",type:"address"}],name:"totalClaimed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];function od(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(ud)}},{key:"connect",value:function(e,t){return new At.Contract(e,ud,t)}}],(n=null)&&pd(t.prototype,n),a&&pd(t,a),e}()).abi=ud;var sd=[{inputs:[{internalType:"contract MultiWrapper",name:"_multiWrapper",type:"address"},{internalType:"contract IOracle[]",name:"existingOracles",type:"address[]"},{internalType:"enum OffchainOracle.OracleType[]",name:"oracleTypes",type:"uint8[]"},{internalType:"contract IERC20[]",name:"existingConnectors",type:"address[]"},{internalType:"contract IERC20",name:"wBase",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IERC20",name:"connector",type:"address"}],name:"ConnectorAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IERC20",name:"connector",type:"address"}],name:"ConnectorRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract MultiWrapper",name:"multiWrapper",type:"address"}],name:"MultiWrapperUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IOracle",name:"oracle",type:"address"},{indexed:!1,internalType:"enum OffchainOracle.OracleType",name:"oracleType",type:"uint8"}],name:"OracleAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IOracle",name:"oracle",type:"address"},{indexed:!1,internalType:"enum OffchainOracle.OracleType",name:"oracleType",type:"uint8"}],name:"OracleRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"contract IERC20",name:"connector",type:"address"}],name:"addConnector",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IOracle",name:"oracle",type:"address"},{internalType:"enum OffchainOracle.OracleType",name:"oracleKind",type:"uint8"}],name:"addOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"connectors",outputs:[{internalType:"contract IERC20[]",name:"allConnectors",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"srcToken",type:"address"},{internalType:"contract IERC20",name:"dstToken",type:"address"},{internalType:"bool",name:"useWrappers",type:"bool"}],name:"getRate",outputs:[{internalType:"uint256",name:"weightedRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"srcToken",type:"address"},{internalType:"bool",name:"useSrcWrappers",type:"bool"}],name:"getRateToEth",outputs:[{internalType:"uint256",name:"weightedRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"multiWrapper",outputs:[{internalType:"contract MultiWrapper",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracles",outputs:[{internalType:"contract IOracle[]",name:"allOracles",type:"address[]"},{internalType:"enum OffchainOracle.OracleType[]",name:"oracleTypes",type:"uint8[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"connector",type:"address"}],name:"removeConnector",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IOracle",name:"oracle",type:"address"},{internalType:"enum OffchainOracle.OracleType",name:"oracleKind",type:"uint8"}],name:"removeOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract MultiWrapper",name:"_multiWrapper",type:"address"}],name:"setMultiWrapper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];function yd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(sd)}},{key:"connect",value:function(e,t){return new At.Contract(e,sd,t)}}],(n=null)&&od(t.prototype,n),a&&od(t,a),e}()).abi=sd;var ld=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"newStrikesLength",type:"uint256"},{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"}],name:"BoardStrikeLimitExceeded",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"currentTimestamp",type:"uint256"}],name:"CannotUpdateExpiredBoard",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"lastObservedTimestamp",type:"uint256"}],name:"InvalidBlockTimestamp",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"InvalidBoardId",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"forceCloseParams",type:"tuple"}],name:"InvalidForceCloseParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"greekCacheParams",type:"tuple"}],name:"InvalidGreekCacheParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"minCollatParams",type:"tuple"}],name:"InvalidMinCollatParams",type:"error"},{inputs:[],name:"LnNegativeUndefined",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarketPricer",type:"address"}],name:"OnlyOptionMarketPricer",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[],name:"Overflow",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardCacheRemoved",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256[]",name:"strikes",type:"uint256[]"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint256",name:"updatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxSkewVariance",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"}],indexed:!1,internalType:"struct OptionGreekCache.OptionBoardCache",name:"boardCache",type:"tuple"}],name:"BoardCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newIv",type:"uint256"},{indexed:!1,internalType:"uint256",name:"globalMaxIvVariance",type:"uint256"}],name:"BoardIvUpdated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],indexed:!1,internalType:"struct OptionGreekCache.ForceCloseParameters",name:"params",type:"tuple"}],name:"ForceCloseParametersSet",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"minUpdatedAt",type:"uint256"},{internalType:"uint256",name:"minUpdatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxUpdatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxSkewVariance",type:"uint256"},{internalType:"uint256",name:"maxIvVariance",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"}],indexed:!1,internalType:"struct OptionGreekCache.GlobalCache",name:"globalCache",type:"tuple"}],name:"GlobalCacheUpdated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],indexed:!1,internalType:"struct OptionGreekCache.GreekCacheParameters",name:"params",type:"tuple"}],name:"GreekCacheParametersSet",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],indexed:!1,internalType:"struct OptionGreekCache.MinCollateralParameters",name:"params",type:"tuple"}],name:"MinCollateralParametersSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeCacheRemoved",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"greeks",type:"tuple"},{internalType:"int256",name:"callExposure",type:"int256"},{internalType:"int256",name:"putExposure",type:"int256"},{internalType:"uint256",name:"skewVariance",type:"uint256"}],indexed:!1,internalType:"struct OptionGreekCache.StrikeCache",name:"strikeCache",type:"tuple"}],name:"StrikeCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newSkew",type:"uint256"},{indexed:!1,internalType:"uint256",name:"globalMaxSkewVariance",type:"uint256"}],name:"StrikeSkewUpdated",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{internalType:"bool",name:"frozen",type:"bool"},{internalType:"uint256[]",name:"strikeIds",type:"uint256[]"}],internalType:"struct OptionMarket.OptionBoard",name:"board",type:"tuple"},{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike[]",name:"strikes",type:"tuple[]"}],name:"addBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],name:"addStrikeToBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getBoardGreeksView",outputs:[{components:[{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"boardGreeks",type:"tuple"},{internalType:"uint256",name:"ivGWAV",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks[]",name:"strikeGreeks",type:"tuple[]"},{internalType:"uint256[]",name:"skewGWAVs",type:"uint256[]"}],internalType:"struct OptionGreekCache.BoardGreeksView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getForceCloseParams",outputs:[{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGlobalCache",outputs:[{components:[{internalType:"uint256",name:"minUpdatedAt",type:"uint256"},{internalType:"uint256",name:"minUpdatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxUpdatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxSkewVariance",type:"uint256"},{internalType:"uint256",name:"maxIvVariance",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"}],internalType:"struct OptionGreekCache.GlobalCache",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGlobalNetDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGlobalOptionValue",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGreekCacheParams",outputs:[{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"secondsAgo",type:"uint256"}],name:"getIvGWAV",outputs:[{internalType:"uint256",name:"ivGWAV",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinCollatParams",outputs:[{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getMinCollateral",outputs:[{internalType:"uint256",name:"minCollateral",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getOptionBoardCache",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256[]",name:"strikes",type:"uint256[]"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint256",name:"updatedAtPrice",type:"uint256"},{internalType:"uint256",name:"maxSkewVariance",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"}],internalType:"struct OptionGreekCache.OptionBoardCache",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike",name:"strike",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"newVol",type:"uint256"},{internalType:"bool",name:"isPostCutoff",type:"bool"}],name:"getPriceForForceClose",outputs:[{internalType:"uint256",name:"optionPrice",type:"uint256"},{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"uint256",name:"forceCloseVol",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"timeToMaturity",type:"uint256"}],name:"getShockVol",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"secondsAgo",type:"uint256"}],name:"getSkewGWAV",outputs:[{internalType:"uint256",name:"skewGWAV",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getStrikeCache",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"greeks",type:"tuple"},{internalType:"int256",name:"callExposure",type:"int256"},{internalType:"int256",name:"putExposure",type:"int256"},{internalType:"uint256",name:"skewVariance",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeCache",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionMarketPricer",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"isBoardCacheStale",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"isGlobalCacheStale",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"removeBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"newBaseIv",type:"uint256"}],name:"setBoardIv",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"_forceCloseParams",type:"tuple"}],name:"setForceCloseParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"_greekCacheParams",type:"tuple"}],name:"setGreekCacheParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"_minCollatParams",type:"tuple"}],name:"setMinCollateralParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],name:"setStrikeSkew",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"updateBoardCachedGreeks",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike",name:"strike",type:"tuple"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"iv",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"bool",name:"isPostCutoff",type:"bool"}],name:"updateStrikeExposureAndGetPrice",outputs:[{components:[{internalType:"uint256",name:"optionPrice",type:"uint256"},{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"}],internalType:"struct OptionGreekCache.TradePricing",name:"pricing",type:"tuple"}],stateMutability:"nonpayable",type:"function"}];function dd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(ld)}},{key:"connect",value:function(e,t){return new At.Contract(e,ld,t)}}],(n=null)&&yd(t.prototype,n),a&&yd(t,a),e}()).abi=ld;var md=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"BaseTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardNotExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardNotFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum OptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"InvalidBoardId",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"currentTime",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"}],name:"InvalidExpiryTimestamp",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"optionMarketParams",type:"tuple"}],name:"InvalidOptionMarketParams",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"securityModule",type:"address"}],name:"OnlySecurityModule",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"QuoteTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikesLength",type:"uint256"},{internalType:"uint256",name:"skewsLength",type:"uint256"}],name:"StrikeSkewLengthMismatch",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"minCost",type:"uint256"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"TotalCostOutsideOfSpecifiedBounds",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"expectedAmount",type:"uint256"},{internalType:"uint256",name:"tradeAmount",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"TradeIterationsHasRemainder",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseIv",type:"uint256"}],name:"BoardBaseIvSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseIv",type:"uint256"},{indexed:!1,internalType:"bool",name:"frozen",type:"bool"}],name:"BoardCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!1,internalType:"bool",name:"frozen",type:"bool"}],name:"BoardFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"spotPriceAtExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalUserLongProfitQuote",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalBoardLongCallCollateral",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalBoardLongPutCollateral",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAMMShortCallProfitBase",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAMMShortCallProfitQuote",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAMMShortPutProfitQuote",type:"uint256"}],name:"BoardSettled",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],indexed:!1,internalType:"struct OptionMarket.OptionMarketParameters",name:"optionMarketParams",type:"tuple"}],name:"OptionMarketParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"securityModule",type:"address"},{indexed:!1,internalType:"uint256",name:"quoteAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseAmount",type:"uint256"}],name:"SMClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"boardId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikePrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"skew",type:"uint256"}],name:"StrikeAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"skew",type:"uint256"}],name:"StrikeSkewSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"reservedFee",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"}],indexed:!1,internalType:"struct OptionMarket.TradeEventData",name:"trade",type:"tuple"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"optionPriceFee",type:"uint256"},{internalType:"uint256",name:"spotPriceFee",type:"uint256"},{components:[{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"uint256",name:"vegaUtil",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"vegaUtilFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VegaUtilFeeComponents",name:"vegaUtilFee",type:"tuple"},{components:[{internalType:"uint256",name:"varianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"skewCoefficient",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"varianceFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeComponents",name:"varianceFee",type:"tuple"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"newBaseIv",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],indexed:!1,internalType:"struct OptionMarketPricer.TradeResult[]",name:"tradeResults",type:"tuple[]"},{components:[{internalType:"address",name:"rewardBeneficiary",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],indexed:!1,internalType:"struct OptionMarket.LiquidationEventData",name:"liquidation",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Trade",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],name:"addStrikeToBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"boardToPriceAtExpiry",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"}],internalType:"struct OptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"closePosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],internalType:"struct OptionMarket.Result",name:"result",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIV",type:"uint256"},{internalType:"uint256[]",name:"strikePrices",type:"uint256[]"},{internalType:"uint256[]",name:"skews",type:"uint256[]"},{internalType:"bool",name:"frozen",type:"bool"}],name:"createOptionBoard",outputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"}],internalType:"struct OptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"forceClosePosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],internalType:"struct OptionMarket.Result",name:"result",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"forceSettleBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getBoardAndStrikeDetails",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{internalType:"bool",name:"frozen",type:"bool"},{internalType:"uint256[]",name:"strikeIds",type:"uint256[]"}],internalType:"struct OptionMarket.OptionBoard",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike[]",name:"",type:"tuple[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getBoardStrikes",outputs:[{internalType:"uint256[]",name:"strikeIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLiveBoards",outputs:[{internalType:"uint256[]",name:"_liveBoards",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumLiveBoards",outputs:[{internalType:"uint256",name:"numLiveBoards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getOptionBoard",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{internalType:"bool",name:"frozen",type:"bool"},{internalType:"uint256[]",name:"strikeIds",type:"uint256[]"}],internalType:"struct OptionMarket.OptionBoard",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOptionMarketParams",outputs:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getSettlementParameters",outputs:[{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"uint256",name:"strikeToBaseReturned",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getStrike",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getStrikeAndBoard",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"iv",type:"uint256"},{internalType:"bool",name:"frozen",type:"bool"},{internalType:"uint256[]",name:"strikeIds",type:"uint256[]"}],internalType:"struct OptionMarket.OptionBoard",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getStrikeAndExpiry",outputs:[{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract LiquidityPool",name:"_liquidityPool",type:"address"},{internalType:"contract OptionMarketPricer",name:"_optionPricer",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"contract ShortCollateral",name:"_shortCollateral",type:"address"},{internalType:"contract OptionToken",name:"_optionToken",type:"address"},{internalType:"contract IERC20",name:"_quoteAsset",type:"address"},{internalType:"contract IERC20",name:"_baseAsset",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"rewardBeneficiary",type:"address"}],name:"liquidatePosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"}],internalType:"struct OptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"openPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],internalType:"struct OptionMarket.Result",name:"result",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"}],name:"setBoardBaseIv",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"bool",name:"frozen",type:"bool"}],name:"setBoardFrozen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"_optionMarketParams",type:"tuple"}],name:"setOptionMarketParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],name:"setStrikeSkew",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"boardId",type:"uint256"}],name:"settleExpiredBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"smClaim",outputs:[],stateMutability:"nonpayable",type:"function"}];function cd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(md)}},{key:"connect",value:function(e,t){return new At.Contract(e,md,t)}}],(n=null)&&dd(t.prototype,n),a&&dd(t,a),e}()).abi=md;var Td=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"int256",name:"strikeCallDelta",type:"int256"},{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"maxDelta",type:"int256"}],name:"ForceCloseDeltaOutOfRange",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"newSkew",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"}],name:"ForceCloseSkewOutOfRange",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParams",type:"tuple"}],name:"InvalidPricingParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParams",type:"tuple"}],name:"InvalidTradeLimitParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"int256",name:"strikeCallDelta",type:"int256"},{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"maxDelta",type:"int256"}],name:"TradeDeltaOutOfRange",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"TradingCutoffReached",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"bool",name:"isBuy",type:"bool"},{components:[{internalType:"uint256",name:"vol",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],internalType:"struct OptionMarketPricer.VolComponents",name:"currentVol",type:"tuple"},{components:[{internalType:"uint256",name:"vol",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],internalType:"struct OptionMarketPricer.VolComponents",name:"newVol",type:"tuple"},{components:[{internalType:"uint256",name:"vol",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"}],internalType:"struct OptionMarketPricer.VolComponents",name:"tradeBounds",type:"tuple"}],name:"VolSkewOrBaseIvOutsideOfTradingBounds",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],indexed:!1,internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParams",type:"tuple"}],name:"PricingParametersSet",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],indexed:!1,internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParams",type:"tuple"}],name:"TradeLimitParametersSet",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],indexed:!1,internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"varianceFeeParams",type:"tuple"}],name:"VarianceFeeParametersSet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPricingParams",outputs:[{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParameters",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"pointA",type:"uint256"},{internalType:"uint256",name:"pointB",type:"uint256"},{internalType:"uint256",name:"coefficient",type:"uint256"}],name:"getTimeWeightedFee",outputs:[{internalType:"uint256",name:"timeWeightedFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTradeLimitParams",outputs:[{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParameters",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{components:[{internalType:"uint256",name:"optionPrice",type:"uint256"},{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"}],internalType:"struct OptionGreekCache.TradePricing",name:"pricing",type:"tuple"},{internalType:"uint256",name:"newBaseIv",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],name:"getTradeResult",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"optionPriceFee",type:"uint256"},{internalType:"uint256",name:"spotPriceFee",type:"uint256"},{components:[{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"uint256",name:"vegaUtil",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"vegaUtilFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VegaUtilFeeComponents",name:"vegaUtilFee",type:"tuple"},{components:[{internalType:"uint256",name:"varianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"skewCoefficient",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"varianceFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeComponents",name:"varianceFee",type:"tuple"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"newBaseIv",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],internalType:"struct OptionMarketPricer.TradeResult",name:"tradeResult",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{components:[{internalType:"uint256",name:"optionPrice",type:"uint256"},{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"}],internalType:"struct OptionGreekCache.TradePricing",name:"pricing",type:"tuple"},{internalType:"uint256",name:"skew",type:"uint256"}],name:"getVarianceFee",outputs:[{components:[{internalType:"uint256",name:"varianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"skewCoefficient",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"varianceFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeComponents",name:"varianceFeeComponents",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVarianceFeeParams",outputs:[{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"varianceFeeParameters",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{components:[{internalType:"uint256",name:"optionPrice",type:"uint256"},{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"}],internalType:"struct OptionGreekCache.TradePricing",name:"pricing",type:"tuple"}],name:"getVegaUtilFee",outputs:[{components:[{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"uint256",name:"vegaUtil",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"vegaUtilFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VegaUtilFeeComponents",name:"vegaUtilFeeComponents",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"boardBaseIv",type:"uint256"},{internalType:"uint256",name:"strikeSkew",type:"uint256"}],name:"ivImpactForTrade",outputs:[{internalType:"uint256",name:"newBaseIv",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricingParams",outputs:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"_pricingParams",type:"tuple"}],name:"setPricingParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"_tradeLimitParams",type:"tuple"}],name:"setTradeLimitParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"_varianceFeeParams",type:"tuple"}],name:"setVarianceFeeParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tradeLimitParams",outputs:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"longCall",type:"uint256"},{internalType:"uint256",name:"shortCallBase",type:"uint256"},{internalType:"uint256",name:"shortCallQuote",type:"uint256"},{internalType:"uint256",name:"longPut",type:"uint256"},{internalType:"uint256",name:"shortPut",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"}],internalType:"struct OptionMarket.Strike",name:"strike",type:"tuple"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"boardBaseIv",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"}],name:"updateCacheAndGetTradeResult",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"optionPriceFee",type:"uint256"},{internalType:"uint256",name:"spotPriceFee",type:"uint256"},{components:[{internalType:"int256",name:"preTradeAmmNetStdVega",type:"int256"},{internalType:"int256",name:"postTradeAmmNetStdVega",type:"int256"},{internalType:"uint256",name:"vegaUtil",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"vegaUtilFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VegaUtilFeeComponents",name:"vegaUtilFee",type:"tuple"},{components:[{internalType:"uint256",name:"varianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"vega",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"skewCoefficient",type:"uint256"},{internalType:"uint256",name:"ivVariance",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"varianceFee",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeComponents",name:"varianceFee",type:"tuple"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"volTraded",type:"uint256"},{internalType:"uint256",name:"newBaseIv",type:"uint256"},{internalType:"uint256",name:"newSkew",type:"uint256"}],internalType:"struct OptionMarketPricer.TradeResult",name:"tradeResult",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"varianceFeeParams",outputs:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],stateMutability:"view",type:"function"}];function fd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Td)}},{key:"connect",value:function(e,t){return new At.Contract(e,Td,t)}}],(n=null)&&cd(t.prototype,n),a&&cd(t,a),e}()).abi=Td;var bd=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"market",type:"address"}],name:"RemovingInvalidMarket",type:"error"},{anonymous:!1,inputs:[{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],indexed:!1,internalType:"struct OptionMarketViewer.OptionMarketAddresses",name:"market",type:"tuple"}],name:"MarketAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract OptionMarket",name:"market",type:"address"}],name:"MarketRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct OptionMarketViewer.OptionMarketAddresses",name:"newMarketAddresses",type:"tuple"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getBoard",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"getBoardForBaseKey",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"getBoardForStrikeId",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket[]",name:"markets",type:"address[]"},{internalType:"address",name:"account",type:"address"}],name:"getLiquidityBalancesAndAllowances",outputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"allowance",type:"uint256"}],internalType:"struct OptionMarketViewer.LiquidityBalanceAndAllowance[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"}],name:"getLiveBoards",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView[]",name:"marketBoards",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"}],name:"getMarket",outputs:[{components:[{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"totalQueuedDeposits",type:"uint256"},{internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{internalType:"uint256",name:"tokenPrice",type:"uint256"},{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct OptionMarketViewer.OptionMarketAddresses",name:"marketAddresses",type:"tuple"},{components:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"optionMarketParams",type:"tuple"},{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"lpParams",type:"tuple"},{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"greekCacheParams",type:"tuple"},{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"forceCloseParams",type:"tuple"},{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"minCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParams",type:"tuple"},{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParams",type:"tuple"},{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"varianceFeeParams",type:"tuple"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"poolHedgerParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketParameters",name:"marketParameters",type:"tuple"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"globalNetGreeks",type:"tuple"},{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView[]",name:"liveBoards",type:"tuple[]"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketViewWithBoards",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMarketAddresses",outputs:[{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct OptionMarketViewer.OptionMarketAddresses[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"baseKey",type:"bytes32"}],name:"getMarketForBaseKey",outputs:[{components:[{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"totalQueuedDeposits",type:"uint256"},{internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{internalType:"uint256",name:"tokenPrice",type:"uint256"},{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct OptionMarketViewer.OptionMarketAddresses",name:"marketAddresses",type:"tuple"},{components:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"optionMarketParams",type:"tuple"},{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"lpParams",type:"tuple"},{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"greekCacheParams",type:"tuple"},{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"forceCloseParams",type:"tuple"},{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"minCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParams",type:"tuple"},{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParams",type:"tuple"},{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"varianceFeeParams",type:"tuple"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"poolHedgerParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketParameters",name:"marketParameters",type:"tuple"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"globalNetGreeks",type:"tuple"},{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"baseIv",type:"uint256"},{internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"forceCloseGwavIV",type:"uint256"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"netGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"skew",type:"uint256"},{internalType:"uint256",name:"forceCloseSkew",type:"uint256"},{components:[{internalType:"int256",name:"callDelta",type:"int256"},{internalType:"int256",name:"putDelta",type:"int256"},{internalType:"uint256",name:"stdVega",type:"uint256"},{internalType:"uint256",name:"callPrice",type:"uint256"},{internalType:"uint256",name:"putPrice",type:"uint256"}],internalType:"struct OptionGreekCache.StrikeGreeks",name:"cachedGreeks",type:"tuple"},{internalType:"uint256",name:"baseReturnedRatio",type:"uint256"},{internalType:"uint256",name:"longCallOpenInterest",type:"uint256"},{internalType:"uint256",name:"longPutOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallBaseOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortCallQuoteOpenInterest",type:"uint256"},{internalType:"uint256",name:"shortPutOpenInterest",type:"uint256"}],internalType:"struct OptionMarketViewer.StrikeView[]",name:"strikes",type:"tuple[]"}],internalType:"struct OptionMarketViewer.BoardView[]",name:"liveBoards",type:"tuple[]"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketViewWithBoards",name:"market",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket[]",name:"markets",type:"address[]"}],name:"getMarkets",outputs:[{components:[{internalType:"contract IAddressResolver",name:"addressResolver",type:"address"},{internalType:"bool",name:"isPaused",type:"bool"},{components:[{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"uint256",name:"totalQueuedDeposits",type:"uint256"},{internalType:"uint256",name:"totalQueuedWithdrawals",type:"uint256"},{internalType:"uint256",name:"tokenPrice",type:"uint256"},{components:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],internalType:"struct OptionMarketViewer.OptionMarketAddresses",name:"marketAddresses",type:"tuple"},{components:[{components:[{internalType:"uint256",name:"maxBoardExpiry",type:"uint256"},{internalType:"address",name:"securityModule",type:"address"},{internalType:"uint256",name:"feePortionReserved",type:"uint256"},{internalType:"uint256",name:"staticBaseSettlementFee",type:"uint256"}],internalType:"struct OptionMarket.OptionMarketParameters",name:"optionMarketParams",type:"tuple"},{components:[{internalType:"uint256",name:"minDepositWithdraw",type:"uint256"},{internalType:"uint256",name:"depositDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalDelay",type:"uint256"},{internalType:"uint256",name:"withdrawalFee",type:"uint256"},{internalType:"uint256",name:"liquidityCBThreshold",type:"uint256"},{internalType:"uint256",name:"liquidityCBTimeout",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBThreshold",type:"uint256"},{internalType:"uint256",name:"ivVarianceCBTimeout",type:"uint256"},{internalType:"uint256",name:"skewVarianceCBTimeout",type:"uint256"},{internalType:"address",name:"guardianMultisig",type:"address"},{internalType:"uint256",name:"guardianDelay",type:"uint256"},{internalType:"uint256",name:"boardSettlementCBTimeout",type:"uint256"},{internalType:"uint256",name:"maxFeePaid",type:"uint256"}],internalType:"struct LiquidityPool.LiquidityPoolParameters",name:"lpParams",type:"tuple"},{components:[{internalType:"uint256",name:"maxStrikesPerBoard",type:"uint256"},{internalType:"uint256",name:"acceptableSpotPricePercentMove",type:"uint256"},{internalType:"uint256",name:"staleUpdateDuration",type:"uint256"},{internalType:"uint256",name:"varianceIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"varianceSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueIvGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"optionValueSkewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"gwavSkewFloor",type:"uint256"},{internalType:"uint256",name:"gwavSkewCap",type:"uint256"},{internalType:"int256",name:"rateAndCarry",type:"int256"}],internalType:"struct OptionGreekCache.GreekCacheParameters",name:"greekCacheParams",type:"tuple"},{components:[{internalType:"uint256",name:"ivGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"skewGWAVPeriod",type:"uint256"},{internalType:"uint256",name:"shortVolShock",type:"uint256"},{internalType:"uint256",name:"shortPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"longVolShock",type:"uint256"},{internalType:"uint256",name:"longPostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"liquidateVolShock",type:"uint256"},{internalType:"uint256",name:"liquidatePostCutoffVolShock",type:"uint256"},{internalType:"uint256",name:"shortSpotMin",type:"uint256"},{internalType:"uint256",name:"liquidateSpotMin",type:"uint256"}],internalType:"struct OptionGreekCache.ForceCloseParameters",name:"forceCloseParams",type:"tuple"},{components:[{internalType:"uint256",name:"minStaticQuoteCollateral",type:"uint256"},{internalType:"uint256",name:"minStaticBaseCollateral",type:"uint256"},{internalType:"uint256",name:"shockVolA",type:"uint256"},{internalType:"uint256",name:"shockVolPointA",type:"uint256"},{internalType:"uint256",name:"shockVolB",type:"uint256"},{internalType:"uint256",name:"shockVolPointB",type:"uint256"},{internalType:"uint256",name:"callSpotPriceShock",type:"uint256"},{internalType:"uint256",name:"putSpotPriceShock",type:"uint256"}],internalType:"struct OptionGreekCache.MinCollateralParameters",name:"minCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"optionPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"optionPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"optionPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"spotPriceFee1xPoint",type:"uint256"},{internalType:"uint256",name:"spotPriceFee2xPoint",type:"uint256"},{internalType:"uint256",name:"vegaFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"standardSize",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentFactor",type:"uint256"}],internalType:"struct OptionMarketPricer.PricingParameters",name:"pricingParams",type:"tuple"},{components:[{internalType:"int256",name:"minDelta",type:"int256"},{internalType:"int256",name:"minForceCloseDelta",type:"int256"},{internalType:"uint256",name:"tradingCutoff",type:"uint256"},{internalType:"uint256",name:"minBaseIV",type:"uint256"},{internalType:"uint256",name:"maxBaseIV",type:"uint256"},{internalType:"uint256",name:"minSkew",type:"uint256"},{internalType:"uint256",name:"maxSkew",type:"uint256"},{internalType:"uint256",name:"minVol",type:"uint256"},{internalType:"uint256",name:"maxVol",type:"uint256"},{internalType:"uint256",name:"absMinSkew",type:"uint256"},{internalType:"uint256",name:"absMaxSkew",type:"uint256"},{internalType:"bool",name:"capSkewsToAbs",type:"bool"}],internalType:"struct OptionMarketPricer.TradeLimitParameters",name:"tradeLimitParams",type:"tuple"},{components:[{internalType:"uint256",name:"defaultVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"forceCloseVarianceFeeCoefficient",type:"uint256"},{internalType:"uint256",name:"skewAdjustmentCoefficient",type:"uint256"},{internalType:"uint256",name:"referenceSkew",type:"uint256"},{internalType:"uint256",name:"minimumStaticSkewAdjustment",type:"uint256"},{internalType:"uint256",name:"vegaCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticVega",type:"uint256"},{internalType:"uint256",name:"ivVarianceCoefficient",type:"uint256"},{internalType:"uint256",name:"minimumStaticIvVariance",type:"uint256"}],internalType:"struct OptionMarketPricer.VarianceFeeParameters",name:"varianceFeeParams",type:"tuple"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"},{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"poolHedgerParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketParameters",name:"marketParameters",type:"tuple"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"int256",name:"netDelta",type:"int256"},{internalType:"int256",name:"netStdVega",type:"int256"},{internalType:"int256",name:"netOptionValue",type:"int256"}],internalType:"struct OptionGreekCache.NetGreeks",name:"globalNetGreeks",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarketViewer.MarketView[]",name:"markets",type:"tuple[]"}],internalType:"struct OptionMarketViewer.MarketsView",name:"marketsView",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"positions",type:"tuple[]"}],internalType:"struct OptionMarketViewer.MarketOptionPositions[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getOwnerPositionsInRange",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],name:"marketAddresses",outputs:[{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"},{internalType:"contract OptionGreekCache",name:"greekCache",type:"address"},{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"contract OptionMarketPricer",name:"optionMarketPricer",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract ShortCollateral",name:"shortCollateral",type:"address"},{internalType:"contract PoolHedger",name:"poolHedger",type:"address"},{internalType:"contract IERC20",name:"quoteAsset",type:"address"},{internalType:"contract IERC20",name:"baseAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"optionMarkets",outputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"market",type:"address"}],name:"removeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"synthetixAdapter",outputs:[{internalType:"contract SynthetixAdapter",name:"",type:"address"}],stateMutability:"view",type:"function"}];function vd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(bd)}},{key:"connect",value:function(e,t){return new At.Contract(e,bd,t)}}],(n=null)&&fd(t.prototype,n),a&&fd(t,a),e}()).abi=bd;var hd=[{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"contract ERC20",name:"asset",type:"address"},{internalType:"address",name:"approving",type:"address"},{internalType:"uint256",name:"approvalAmount",type:"uint256"}],name:"ApprovalFailure",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"contract ERC20",name:"asset",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"AssetTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint8",name:"id",type:"uint8"},{internalType:"address",name:"addr",type:"address"}],name:"DuplicateEntry",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],name:"OnlyShorts",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint8",name:"id",type:"uint8"}],name:"RemovingInvalidId",type:"error"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"UnsupportedToken",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isOpen",type:"bool"},{indexed:!1,internalType:"bool",name:"isLong",type:"bool"},{indexed:!0,internalType:"address",name:"market",type:"address"},{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalFee",type:"uint256"},{indexed:!1,internalType:"int256",name:"swapFee",type:"int256"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"PositionTraded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateral",type:"uint256"}],name:"SetCollateralTo",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract ICurve",name:"curveSwap",type:"address"},{indexed:!1,internalType:"contract SynthetixAdapter",name:"synthetixAdapter",type:"address"},{indexed:!1,internalType:"contract IFeeCounter",name:"tradingRewards",type:"address"},{indexed:!1,internalType:"uint256",name:"minReturnPercent",type:"uint256"}],name:"WrapperParamsUpdated",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ERC20",name:"token",type:"address"},{internalType:"uint8",name:"id",type:"uint8"}],name:"addCurveStable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"addLong",outputs:[{internalType:"uint256",name:"totalCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"uint8",name:"id",type:"uint8"},{components:[{internalType:"contract ERC20",name:"quoteAsset",type:"address"},{internalType:"contract ERC20",name:"baseAsset",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.OptionMarketContracts",name:"_marketContracts",type:"tuple"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"addShort",outputs:[{internalType:"uint256",name:"totalReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"closeLong",outputs:[{internalType:"uint256",name:"totalReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"currentCollateral",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minCost",type:"uint256"},{internalType:"uint256",name:"maxCost",type:"uint256"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"contract ERC20",name:"inputAsset",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.OptionPositionParams",name:"params",type:"tuple"}],name:"closePosition",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"int256",name:"swapFee",type:"int256"},{internalType:"address",name:"token",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.ReturnDetails",name:"returnDetails",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"closeShort",outputs:[{internalType:"uint256",name:"totalCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"curveSwap",outputs:[{internalType:"contract ICurve",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ercIds",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"currentCollateral",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minCost",type:"uint256"},{internalType:"uint256",name:"maxCost",type:"uint256"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"contract ERC20",name:"inputAsset",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.OptionPositionParams",name:"params",type:"tuple"}],name:"forceClosePosition",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"int256",name:"swapFee",type:"int256"},{internalType:"address",name:"token",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.ReturnDetails",name:"returnDetails",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getBalancesAndAllowances",outputs:[{components:[{internalType:"uint8",name:"id",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"allowance",type:"uint256"}],internalType:"struct OptionMarketWrapperWithSwaps.StableAssetView[]",name:"",type:"tuple[]"},{components:[{internalType:"uint8",name:"id",type:"uint8"},{internalType:"contract OptionMarket",name:"market",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"bool",name:"isApprovedForAll",type:"bool"}],internalType:"struct OptionMarketWrapperWithSwaps.MarketAssetView[]",name:"",type:"tuple[]"},{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"allowance",type:"uint256"}],internalType:"struct OptionMarketWrapperWithSwaps.LiquidityBalanceAndAllowance[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMarketAndErcIds",outputs:[{internalType:"uint8[]",name:"",type:"uint8[]"},{internalType:"uint8[]",name:"",type:"uint8[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"",type:"uint8"}],name:"idToERC",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"",type:"uint8"}],name:"idToMarket",outputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"",type:"address"}],name:"marketContracts",outputs:[{internalType:"contract ERC20",name:"quoteAsset",type:"address"},{internalType:"contract ERC20",name:"baseAsset",type:"address"},{internalType:"contract OptionToken",name:"optionToken",type:"address"},{internalType:"contract LiquidityPool",name:"liquidityPool",type:"address"},{internalType:"contract LiquidityToken",name:"liquidityToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"marketIds",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"minReturnPercent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"openLong",outputs:[{internalType:"uint256",name:"totalCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract OptionMarket",name:"optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"currentCollateral",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minCost",type:"uint256"},{internalType:"uint256",name:"maxCost",type:"uint256"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"contract ERC20",name:"inputAsset",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.OptionPositionParams",name:"params",type:"tuple"}],name:"openPosition",outputs:[{components:[{internalType:"address",name:"market",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"totalCost",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"},{internalType:"int256",name:"swapFee",type:"int256"},{internalType:"address",name:"token",type:"address"}],internalType:"struct OptionMarketWrapperWithSwaps.ReturnDetails",name:"returnDetails",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"openShort",outputs:[{internalType:"uint256",name:"totalReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"fromToken",type:"address"},{internalType:"address",name:"toToken",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteCurveSwap",outputs:[{internalType:"address",name:"pool",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"reduceLong",outputs:[{internalType:"uint256",name:"totalReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"params",type:"uint256"}],name:"reduceShort",outputs:[{internalType:"uint256",name:"totalCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"}],name:"removeCurveStable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"}],name:"removeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"synthetixAdapter",outputs:[{internalType:"contract SynthetixAdapter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingRewards",outputs:[{internalType:"contract IFeeCounter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ICurve",name:"_curveSwap",type:"address"},{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract IFeeCounter",name:"_tradingRewards",type:"address"},{internalType:"uint256",name:"_minReturnPercent",type:"uint256"}],name:"updateContractParams",outputs:[],stateMutability:"nonpayable",type:"function"}];function kd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(hd)}},{key:"connect",value:function(e,t){return new At.Contract(e,hd,t)}}],(n=null)&&vd(t.prototype,n),a&&vd(t,a),e}()).abi=hd;var wd=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"_positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"usedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"},{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];function gd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(wd)}},{key:"connect",value:function(e,t){return new At.Contract(e,wd,t)}}],(n=null)&&kd(t.prototype,n),a&&kd(t,a),e}()).abi=wd;var Pd=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"BaseTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"position",type:"tuple"}],name:"BoardMustBeSettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"OutOfBaseCollateralForExchangeAndTransfer",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"OutOfBaseCollateralForTransfer",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"OutOfQuoteCollateralForTransfer",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"QuoteTransferFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amountBase",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteReceived",type:"uint256"}],name:"BaseExchangedAndQuoteSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"BaseSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amountBaseSent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountQuoteSent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lpBaseInsolvency",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lpQuoteInsolvency",type:"uint256"},{indexed:!1,internalType:"uint256",name:"LPBaseExcess",type:"uint256"},{indexed:!1,internalType:"uint256",name:"LPQuoteExcess",type:"uint256"}],name:"BoardSettlementCollateralSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"settler",type:"address"},{indexed:!0,internalType:"address",name:"optionOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"strikePrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"priceAtExpiry",type:"uint256"},{indexed:!1,internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PositionSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"QuoteSent",type:"event"},{inputs:[],name:"LPBaseExcess",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"LPQuoteExcess",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountBase",type:"uint256"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"boardSettlement",outputs:[{internalType:"uint256",name:"lpBaseInsolvency",type:"uint256"},{internalType:"uint256",name:"lpQuoteInsolvency",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract LiquidityPool",name:"_liquidityPool",type:"address"},{internalType:"contract OptionToken",name:"_optionToken",type:"address"},{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract ERC20",name:"_quoteAsset",type:"address"},{internalType:"contract ERC20",name:"_baseAsset",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"liquidator",type:"address"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],name:"routeLiquidationFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendBaseCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendQuoteCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settleOptions",outputs:[{internalType:"uint256[]",name:"settlementAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDelegateApproval",outputs:[],stateMutability:"nonpayable",type:"function"}];function Od(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Pd)}},{key:"connect",value:function(e,t){return new At.Contract(e,Pd,t)}}],(n=null)&&gd(t.prototype,n),a&&gd(t,a),e}()).abi=Pd;var xd=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"lastInteraction",type:"uint256"},{internalType:"uint256",name:"interactionDelta",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"InteractionDelayNotExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"newShortBuffer",type:"uint256"}],name:"InvalidShortBuffer",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"quoteReceived",type:"uint256"},{internalType:"uint256",name:"minCollateral",type:"uint256"}],name:"NotEnoughQuoteForMinCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"liquidityPool",type:"address"}],name:"OnlyLiquidityPool",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"QuoteTransferFailed",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"shortId",type:"uint256"}],name:"ShortAccountAlreadyOpen",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newAmount",type:"uint256"}],name:"LongSetTo",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"shortId",type:"uint256"}],name:"OpenedShortAccount",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],indexed:!1,internalType:"struct PoolHedger.PoolHedgerParameters",name:"poolHedgerParams",type:"tuple"}],name:"PoolHedgerParametersSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"oldNetDelta",type:"int256"},{indexed:!1,internalType:"int256",name:"currentNetDelta",type:"int256"},{indexed:!1,internalType:"int256",name:"expectedNetDelta",type:"int256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"QuoteReturnedToLP",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newShortBuffer",type:"uint256"}],name:"ShortBufferSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract ICollateralShort",name:"collateralShort",type:"address"}],name:"ShortCollateralSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldShort",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newShort",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateral",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newCollateral",type:"uint256"}],name:"ShortSetTo",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralShort",outputs:[{internalType:"contract ICollateralShort",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCappedExpectedHedge",outputs:[{internalType:"int256",name:"cappedExpectedHedge",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentHedgedNetDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"getHedgingLiquidity",outputs:[{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolHedgerParams",outputs:[{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolHedgerSettings",outputs:[{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"_poolHedgerParams",type:"tuple"},{internalType:"uint256",name:"_shortBuffer",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getShortPosition",outputs:[{internalType:"uint256",name:"shortBalance",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"hedgeDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract SynthetixAdapter",name:"_synthetixAdapter",type:"address"},{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_optionGreekCache",type:"address"},{internalType:"contract LiquidityPool",name:"_liquidityPool",type:"address"},{internalType:"contract ERC20",name:"_quoteAsset",type:"address"},{internalType:"contract ERC20",name:"_baseAsset",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastInteraction",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"openShortAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"resetInteractionDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"interactionDelay",type:"uint256"},{internalType:"uint256",name:"hedgeCap",type:"uint256"}],internalType:"struct PoolHedger.PoolHedgerParameters",name:"_poolHedgerParams",type:"tuple"}],name:"setPoolHedgerParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shortBuffer",type:"uint256"}],name:"setShortBuffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shortBuffer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"shortId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"updateCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateCollateralShortAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDelegateApproval",outputs:[],stateMutability:"nonpayable",type:"function"}];function Md(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(xd)}},{key:"connect",value:function(e,t){return new At.Contract(e,xd,t)}}],(n=null)&&Od(t.prototype,n),a&&Od(t,a),e}()).abi=xd;var Cd=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_rewardsDistribution",type:"address"},{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_stakingToken",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"PauseChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDuration",type:"uint256"}],name:"RewardsDurationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{constant:!1,inputs:[],name:"acceptOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"exit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getReward",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastPauseTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"periodFinish",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"recoverERC20",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardsDistribution",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardsDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardsToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_rewardsDistribution",type:"address"}],name:"setRewardsDistribution",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_rewardsDuration",type:"uint256"}],name:"setRewardsDuration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];function Sd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Cd)}},{key:"connect",value:function(e,t){return new At.Contract(e,Cd,t)}}],(n=null)&&Md(t.prototype,n),a&&Md(t,a),e}()).abi=Cd;var Ad=[{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"marketAddress",type:"address"}],name:"AllMarketsPaused",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"amountQuoteRequested",type:"uint256"},{internalType:"uint256",name:"baseToSpend",type:"uint256"},{internalType:"uint256",name:"baseLimit",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"}],name:"BaseQuoteExchangeExceedsLimit",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"rewardAddress",type:"address"}],name:"InvalidRewardAddress",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"marketAddress",type:"address"}],name:"MarketIsPaused",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"amountBaseRequested",type:"uint256"},{internalType:"uint256",name:"quoteToSpend",type:"uint256"},{internalType:"uint256",name:"quoteLimit",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"}],name:"QuoteBaseExchangeExceedsLimit",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bool",name:"invalid",type:"bool"}],name:"RateIsInvalid",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"bytes32",name:"fromKey",type:"bytes32"},{internalType:"bytes32",name:"toKey",type:"bytes32"},{internalType:"uint256",name:"amountSwapped",type:"uint256"},{internalType:"uint256",name:"amountReceived",type:"uint256"}],name:"ReceivedZeroFromExchange",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAddressResolver",name:"addressResolver",type:"address"}],name:"AddressResolverSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"marketAddress",type:"address"},{indexed:!0,internalType:"address",name:"exchanger",type:"address"},{indexed:!1,internalType:"uint256",name:"baseSwapped",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteReceived",type:"uint256"}],name:"BaseSwappedForQuote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"GlobalPausedSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"market",type:"address"},{indexed:!1,internalType:"bytes32",name:"quoteKey",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"baseKey",type:"bytes32"},{indexed:!1,internalType:"address",name:"rewardAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"trackingCode",type:"bytes32"}],name:"GlobalsSetForContract",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"contractAddress",type:"address"},{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"MarketPausedSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"marketAddress",type:"address"},{indexed:!0,internalType:"address",name:"exchanger",type:"address"},{indexed:!1,internalType:"uint256",name:"quoteSwapped",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseReceived",type:"uint256"}],name:"QuoteSwappedForBase",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract ISynthetix",name:"synthetix",type:"address"},{indexed:!1,internalType:"contract IExchanger",name:"exchanger",type:"address"},{indexed:!1,internalType:"contract IExchangeRates",name:"exchangeRates",type:"address"},{indexed:!1,internalType:"contract IDelegateApprovals",name:"delegateApprovals",type:"address"}],name:"SynthetixAddressesUpdated",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"addressResolver",outputs:[{internalType:"contract IAddressResolver",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"baseKey",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"delegateApprovals",outputs:[{internalType:"contract IDelegateApprovals",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"uint256",name:"amountBase",type:"uint256"}],name:"estimateExchangeToExactBase",outputs:[{internalType:"uint256",name:"quoteNeeded",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"estimateExchangeToExactQuote",outputs:[{internalType:"uint256",name:"baseNeeded",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountBase",type:"uint256"}],name:"exchangeFromExactBase",outputs:[{internalType:"uint256",name:"quoteReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"exchangeFromExactQuote",outputs:[{internalType:"uint256",name:"baseReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exchangeRates",outputs:[{internalType:"contract IExchangeRates",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountBase",type:"uint256"}],name:"exchangeToExactBase",outputs:[{internalType:"uint256",name:"quoteSpent",type:"uint256"},{internalType:"uint256",name:"baseReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountBase",type:"uint256"},{internalType:"uint256",name:"quoteLimit",type:"uint256"}],name:"exchangeToExactBaseWithLimit",outputs:[{internalType:"uint256",name:"quoteSpent",type:"uint256"},{internalType:"uint256",name:"baseReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"}],name:"exchangeToExactQuote",outputs:[{internalType:"uint256",name:"quoteSpent",type:"uint256"},{internalType:"uint256",name:"quoteReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"},{internalType:"address",name:"optionMarket",type:"address"},{internalType:"uint256",name:"amountQuote",type:"uint256"},{internalType:"uint256",name:"baseLimit",type:"uint256"}],name:"exchangeToExactQuoteWithLimit",outputs:[{internalType:"uint256",name:"baseSpent",type:"uint256"},{internalType:"uint256",name:"quoteReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract IExchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"optionMarket",type:"address"}],name:"getExchangeParams",outputs:[{components:[{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"bytes32",name:"quoteKey",type:"bytes32"},{internalType:"bytes32",name:"baseKey",type:"bytes32"},{internalType:"uint256",name:"quoteBaseFeeRate",type:"uint256"},{internalType:"uint256",name:"baseQuoteFeeRate",type:"uint256"}],internalType:"struct SynthetixAdapter.ExchangeParams",name:"exchangeParams",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"to",type:"bytes32"}],name:"getSpotPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contractAddress",type:"address"}],name:"getSpotPriceForMarket",outputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isGlobalPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isMarketPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"quoteKey",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAddressResolver",name:"_addressResolver",type:"address"}],name:"setAddressResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isPaused",type:"bool"}],name:"setGlobalPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_contractAddress",type:"address"},{internalType:"bytes32",name:"_quoteKey",type:"bytes32"},{internalType:"bytes32",name:"_baseKey",type:"bytes32"},{internalType:"address",name:"_rewardAddress",type:"address"},{internalType:"bytes32",name:"_trackingCode",type:"bytes32"}],name:"setGlobalsForContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_contractAddress",type:"address"},{internalType:"bool",name:"_isPaused",type:"bool"}],name:"setMarketPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"synthetix",outputs:[{internalType:"contract ISynthetix",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"trackingCode",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"updateSynthetixAddresses",outputs:[],stateMutability:"nonpayable",type:"function"}];function Id(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(Ad)}},{key:"connect",value:function(e,t){return new At.Contract(e,Ad,t)}}],(n=null)&&Sd(t.prototype,n),a&&Sd(t,a),e}()).abi=Ad;var qd=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract TestERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Dripped",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"addresses",outputs:[{internalType:"contract TestERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"drip",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"permit",type:"bool"}],name:"permitModify",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"permitted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"received",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract TestERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"setDripAmount",outputs:[],stateMutability:"nonpayable",type:"function"}];(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"createInterface",value:function(){return new Ql.vU(qd)}},{key:"connect",value:function(e,t){return new At.Contract(e,qd,t)}}],(n=null)&&Id(t.prototype,n),a&&Id(t,a),e}()).abi=qd;var Vd=Fl},84262:function(e,t,n){var a=n(24246),i=n(27378),r=n(55480);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=i.forwardRef((function(e,t){var n=e.children,i=u(e,["children"]);return(0,a.jsx)(r.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){p(e,t,n[t])}))}return e}({},i,{ref:t,display:"grid",children:n}))}));t.Z=o},24723:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(3922),i=n(74953),r=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};function p(e,t){var n=null!==t&&void 0!==t?t:{},p=n.dps,u=n.minDps,o=void 0===u?0:u,s=n.maxDps,y=void 0===s?6:s,l=n.precision,d=void 0===l?.001:l,m=n.showSign,c=void 0!==m&&m,T=void 0!==p?p:o,f=void 0!==p?p:y,b=0;if(b=a.O$.isBigNumber(e)?(0,i.Z)(e):e,isNaN(b))return"NaN";for(var v=T,h=r(b,v);v<=f;v++){if(h=r(b,v),Math.abs((b-h)/b)<=d)break}var k=h,w=k.toString().split("."),g=w[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),P=(w[1]||"").padEnd(T,"0"),O=null!=P&&P.length>0?g+"."+P:g;return k>0&&c?"+"+O:O}},74953:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(57712);function i(e){return parseFloat((0,a.formatEther)(e.toString()))}}}]);