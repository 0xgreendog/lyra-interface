"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4398],{12987:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(24246),o=t(68361),a=t(46895),i=t(2105);t(27378);function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function s(e){var r=e.label,t=e.value,s=e.valueColor,c=e.valueTextVariant,d=void 0===c?"secondary":c,f=u(e,["label","value","valueColor","valueTextVariant"]);return(0,n.jsxs)(a.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){l(e,r,t[r])}))}return e}({flexDirection:"column"},f,{children:["string"===typeof r?(0,n.jsx)(i.Z,{variant:"secondary",color:"secondaryText",mb:2,children:r}):(0,n.jsx)(o.Z,{mb:2,children:r}),(0,n.jsx)(a.Z,{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"baseline",children:"string"===typeof t?(0,n.jsx)(i.Z,{variant:d,color:s,children:t}):t})]}))}},82205:function(e,r,t){var n=t(24246),o=t(68361),a=t(84262),i=t(37102),l=t(24723),u=t(56119),s=t(38938),c=t(93327),d=(t(27378),t(52803)),f=t(74749),p=t(47406),v=t(70092),m=t(12987);r.Z=function(e){var r=e.option,t=e.isBuy,b=(0,v.Z)(r.market().name),y=r.quoteSync(!0,b),h=r.quoteSync(!1,b),x=t?y:h,g=r.longOpenInterest.add(r.shortOpenInterest).mul(r.market().spotPrice).div(d.iI),j=(0,i.Z)();return(0,n.jsxs)(a.Z,{sx:{gridTemplateColumns:["1fr 1fr","1fr 1fr 1fr 1fr 1fr"],gridColumnGap:[3,6],gridRowGap:8},children:[(0,n.jsx)(m.Z,{label:"Bid",value:!h.isDisabled&&h.pricePerOption.gt(0)?(0,c.Z)(h.pricePerOption):"-"}),(0,n.jsx)(m.Z,{label:"Ask",value:!y.isDisabled&&y.pricePerOption.gt(0)?(0,c.Z)(y.pricePerOption):"-"}),(0,n.jsx)(m.Z,{label:"Implied Volatility",value:x.iv.gt(0)&&x.iv.lt(f.Yu)?(0,u.Z)((0,p.Z)(x.iv),!0):"-"}),(0,n.jsx)(m.Z,{label:"Open Interest",value:g.gt(0)?(0,s.Z)(g):"-"}),j?null:(0,n.jsx)(o.Z,{}),(0,n.jsx)(m.Z,{label:"Delta",value:(0,l.Z)(x.greeks.delta,{dps:3})}),(0,n.jsx)(m.Z,{label:"Vega",value:(0,l.Z)(x.greeks.vega,{dps:3})}),(0,n.jsx)(m.Z,{label:"Gamma",value:(0,l.Z)(x.greeks.gamma,{dps:3})}),(0,n.jsx)(m.Z,{label:"Theta",value:(0,l.Z)(x.greeks.theta,{dps:3})}),(0,n.jsx)(m.Z,{label:"Rho",value:(0,l.Z)(x.greeks.rho,{dps:3})})]})}},25287:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(24246),o=t(46895),a=t(49027),i=t(2105),l=t(94006),u=t(93327),s=t(73141),c=t(27378),d=t(47406),f=t(60018);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e,r){return null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function m(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function b(e){var r,t=e.tradeOrPosition,b=e.onHover,y=e.showLiquidationPrice,h=e.color,x=e.tooltipFontSize,g=void 0===x?12:x,j=e.useGradientLineColor,Z=void 0!==j&&j,O=e.compact,w=void 0!==O&&O,k=m(e,["tradeOrPosition","onHover","showLiquidationPrice","color","tooltipFontSize","useGradientLineColor","compact"]),P=t.isCall,S=t.strikePrice,C=t.breakEven(),T=t.market().spotPrice,A=v(t,s.Ly)?t.spotPriceAtExpiry:null,I=null!==A&&void 0!==A?A:T,E=t.market().name,B=(0,l.Z)("secondaryText"),L=(null===(r=t.collateral)||void 0===r?void 0:r.liquidationPrice)?(0,d.Z)(t.collateral.liquidationPrice):null,M=(0,c.useState)(null),D=M[0],z=M[1],R=(0,c.useCallback)((function(e){var r;z(null!==(r=null===e||void 0===e?void 0:e.payoff)&&void 0!==r?r:null),b&&b(e)}),[b,z]),V=(0,d.Z)(t.payoff(I)),q=null!==D&&void 0!==D?D:V,F=(0,c.useMemo)((function(){for(var e=P&&L?L:Math.max(1.25*(0,d.Z)(C),1.5*(0,d.Z)(I)),r=e/400,n=[],o=[!P&&L?L:0,(0,d.Z)(S),e][0];o<e;o+=r){var a=(0,f.Z)(o);a&&n.push(a)}return n.map((function(e){return{x:(0,d.Z)(e),payoff:(0,d.Z)(t.payoff(e))}}))}),[P,L,C,I,S,t]),N=h||(q>=0?"primary":"error"),U=!!D,Y=(0,c.useMemo)((function(){var e=[];if(e.push({id:"hoverSpotPrice",opacity:U?0:1,x:(0,d.Z)(I),label:function(e){var r=e.viewBox;return(0,n.jsxs)("svg",{opacity:U?0:1,x:r.x-50,y:g,overflow:"visible",width:"100px",children:[(0,n.jsx)("style",{children:"\n              @import url('https://rsms.me/inter/inter.css');\n              text {\n                font-family: \"Inter var\", sans-serif;\n              }\n            "}),(0,n.jsxs)("text",{x:"50%",y:0,fill:B,dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter var",fontSize:g,children:[E," Price"," ",v(t,s.Ly)&&t.spotPriceAtExpiry?"At Exp":"Now"]}),(0,n.jsx)("text",{x:"50%",y:1.75*g,fill:B,dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter var",fontSize:g,children:(0,u.Z)(I)})]})}}),y&&L&&F.length>1){var r=P?[{x:F[F.length-1].x,y:1.5*F[F.length-1].payoff},{x:F[F.length-1].x,y:F[F.length-1].payoff}]:[{x:F[0].x,y:1.5*F[1].payoff},{x:F[0].x,y:F[1].payoff}];e.push({id:"liquidationPrice",stroke:N,strokeWidth:2,strokeDasharray:"3 3",segment:r})}return e}),[U,I,y,L,F,g,B,E,t,P,N]),H=(0,c.useMemo)((function(){return L?L>(0,d.Z)(S)?["dataMin",function(e){return 1.01*e}]:[function(e){return.99*e},"dataMax"]:["dataMin","dataMax"]}),[L,S]);return(0,n.jsx)(a.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}({},k,{chartMargin:{top:18+2.5*g},type:"linear",dataKeys:[{label:"Payoff",key:"payoff"}],domain:H,lineColor:N,range:y&&L?[function(e){return 1.5*e},"dataMax"]:["dataMin","dataMax"],data:F,onHover:R,renderTooltip:function(e){var r=e.x;return(0,n.jsxs)(o.Z,{flexDirection:"column",alignItems:"center",ml:"-100%",children:[(0,n.jsxs)(i.Z,{variant:"small",color:"secondaryText",children:[E," Price at Exp"]}),(0,n.jsx)(i.Z,{variant:"small",color:"secondaryText",children:(0,u.Z)(r)})]})},hideXAxis:!1,referenceLinesProps:Y,useGradientLineColor:Z,fallback:"Something went wrong",compact:w}))}},74749:function(e,r,t){t.d(r,{Cf:function(){return u},Yu:function(){return i},io:function(){return l},t5:function(){return o},v3:function(){return a}});var n=t(52803),o=1.05,a=2.5,i=n.wx.mul(5),l=.015,u=.025},37715:function(e,r,t){t.d(r,{Z:function(){return w}});var n=t(24246),o=t(68361),a=t(73066),i=t(19749),l=t(58316),u=t(34317),s=t(46895),c=t(47929),d=t(30310),f=t(49883),p=t(37393),v=t(6692),m=t(2105),b=t(41475),y=t(24723),h=t(56119),x=(t(27378),t(50564)),g=t(92110),j=t(12279),Z=t(90473),O=(0,g.Z)((function(e){var r,t,u,p,v=e.onClose,g=(0,j.Z)(),O=null===g||void 0===g?void 0:g.global,w=null===g||void 0===g?void 0:g.account,k=null!==(t=null!==(r=null===w||void 0===w?void 0:w.tradingFeeRebate)&&void 0!==r?r:null===O||void 0===O?void 0:O.minTradingFeeRebate)&&void 0!==t?t:0,P=null!==(u=null===O||void 0===O?void 0:O.tradingFeeRebateTiers)&&void 0!==u?u:[],S=null!==(p=null===w||void 0===w?void 0:w.stakedLyraBalance)&&void 0!==p?p:0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(s.Z,{mb:6,children:[(0,n.jsx)(m.Z,{color:S>0?"primaryText":"secondaryText",variant:"title",children:(0,b.Z)(S,"stkLYRA")}),(0,n.jsx)(a.ZP,{href:(0,Z.Z)({page:x.u.Rewards}),ml:"auto",label:"Stake LYRA",rightIcon:c.T.ArrowRight,variant:"primary",onClick:v})]}),(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Lyra's fee rebate program allows traders to earn back part of their fees as Staked LYRA and OP tokens every 2 weeks. Traders can stake LYRA to unlock a higher fee rebate tier."})]}),(0,n.jsx)(l.Z,{noPadding:!0,children:(0,n.jsx)(i.Z,{variant:"nested",mx:6,mb:6,children:(0,n.jsxs)(l.Z,{noPadding:!0,children:[(0,n.jsxs)(s.Z,{mt:6,mx:6,mb:3,children:[(0,n.jsx)(m.Z,{variant:"secondaryMedium",color:"secondaryText",children:"Staked LYRA"}),(0,n.jsx)(m.Z,{ml:"auto",textAlign:"right",variant:"secondaryMedium",color:"secondaryText",children:"Rebate"})]}),(0,n.jsx)(o.Z,{mb:3,overflowY:"auto",children:(0,n.jsx)(d.Z,{children:P.map((function(e){return(0,n.jsx)(f.Z,{label:(0,n.jsx)(m.Z,{ml:3,variant:e.feeRebate===k?"secondaryMedium":"secondary",color:e.feeRebate===k?"primaryText":"text",children:(0,y.Z)(e.stakedLyraCutoff,{dps:0})}),rightContent:(0,n.jsx)(m.Z,{mr:3,variant:e.feeRebate===k?"secondaryMedium":"secondary",color:e.feeRebate===k?"primaryText":"text",children:(0,h.Z)(e.feeRebate,!0)})},e.stakedLyraCutoff)}))})})]})})})]})}),(function(){return(0,n.jsx)(l.Z,{children:(0,n.jsx)(u.Z,{minHeight:500,width:"100%",children:(0,n.jsx)(v.ZP,{})})})}));function w(e){var r=e.isOpen,t=e.onClose;return(0,n.jsx)(p.Z,{isMobileFullscreen:!0,width:500,isOpen:r,onClose:t,title:"Fee Tiers",children:(0,n.jsx)(O,{onClose:t})})}},4477:function(e,r,t){t.d(r,{Z:function(){return Z}});var n=t(24246),o=t(68361),a=t(9570),i=t(2105),l=t(83351),u=t(41475),s=t(73141),c=(t(27378),t(48609)),d=t(92110),f=t(35230),p=t.n(f),v=t(73018),m=t(6230);function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function h(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(){var e,r=(e=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.Z.latestGlobalRewardEpoch());case 1:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){y(a,n,o,i,l,"next",e)}function l(e){y(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();var g=t(47406);function j(e,r){return null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}var Z=(0,d.Z)((function(e){var r=e.option,t=e.tradeOrPosition,a=e.textVariant,d=function(){var e=h((0,m.ZP)("LatestGlobalRewardEpoch",[],x),1)[0];return null!==e&&void 0!==e?e:null}(),f=j(t,s.ho)?t.newSize:t.size,p=(0,g.Z)(j(t,s.ho)?t.greeks.delta:r.delta),v=r.board().expiryTimestamp,b=t.isLong,y=null===d||void 0===d?void 0:d.shortCollateralYieldPerDay((0,g.Z)(f),p,v),Z=!b&&f.gt(0)&&y,O=y&&y.lyra+y.op>0;return(0,n.jsx)(l.Z,{title:"Short Yield",tooltip:Z?(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(i.Z,{variant:"secondary",color:"secondaryText",mb:4,children:"When traders sell options they earn additional rewards on their short collateral."}),(0,n.jsxs)(i.Z,{variant:"secondary",color:"secondaryText",children:[j(t,s.ho)?"By selling this ".concat(r.isCall?"call":"put"," you will earn"):"You are earning"," ","an estimated daily rate of"," ",(0,n.jsx)(i.Z,{as:"span",color:Z&&O?"primaryText":"text",children:(0,u.Z)(y.lyra,"LYRA",{maxDps:2})})," ","and"," ",(0,n.jsx)(i.Z,{as:"span",color:Z&&O?"primaryText":"text",children:(0,u.Z)(y.op,"OP",{maxDps:2})})," ","until the option expires."]})]}):null,isDisabled:!Z,href:c.QZ,target:"_blank",placement:"top-end",children:(0,n.jsx)(i.Z,{variant:a,color:Z&&O?"primaryText":"text",children:Z?"".concat((0,u.Z)(y.lyra,"LYRA",{maxDps:2})," \xb7 ").concat((0,u.Z)(y.op,"OP",{maxDps:2})):"-"})})}),(function(e){var r=e.textVariant;return(0,n.jsx)(a.Z,{variant:r,width:60})}))},81547:function(e,r,t){var n=t(24246),o=t(34317),a=t(49027),i=t(42002),l=t(27378),u=t(25178),s=t(92110),c=t(65781),d=t(59517),f=t(85556);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function m(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=(0,s.Z)((function(e){var r,t,o=e.marketAddressOrName,i=e.period,l=e.onHover,s=void 0===l?d.Z:l,p=e.hoverSpotPrice,b=m(e,["marketAddressOrName","period","onHover","hoverSpotPrice"]),y=(0,c.ZP)(o),h=(0,u.ZP)(null!==(r=null===y||void 0===y?void 0:y.name)&&void 0!==r?r:"",i),x=null!==p&&void 0!==p?p:h.length>0?h[h.length-1].price:null,g=h.length>0?h[0].price:null,j=x&&g?(x-g)/g:0;return(0,n.jsx)(a.Z,v({},b,{type:"linear",data:h,dataKeys:[{key:"price",label:"price"}],onHover:function(e){return s(null!==(t=null===e||void 0===e?void 0:e.price)&&void 0!==t?t:null)},lineColor:j>=0?"primary":"error",renderTooltip:function(e){var r=e.x;return(0,f.Z)(r,i)}}))}),(function(e){e.marketAddressOrName,e.period,e.hoverSpotPrice,e.onHover;var r=m(e,["marketAddressOrName","period","hoverSpotPrice","onHover"]);return(0,n.jsx)(o.Z,v({},r,{children:(0,n.jsx)(i.Z,{width:"100%",height:"100%"})}))}));r.Z=l.memo(b)},90070:function(e,r,t){var n=t(24246),o=t(68361),a=t(9570),i=t(2105),l=t(56119),u=t(93327),s=(t(27378),t(25178)),c=t(92110),d=t(65781),f=t(47406);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function m(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=(0,c.Z)((function(e){var r,t=e.textVariant,a=void 0===t?"title":t,c=e.marketAddressOrName,p=e.hoverSpotPrice,b=e.period,y=m(e,["textVariant","marketAddressOrName","hoverSpotPrice","period"]),h=(0,d.ZP)(c),x=(0,s.ZP)(null!==(r=null===h||void 0===h?void 0:h.name)&&void 0!==r?r:null,b),g=null===h||void 0===h?void 0:h.spotPrice,j=null!==p&&void 0!==p?p:g?(0,f.Z)(g):null,Z=x.length>0?x[0].price:null,O=j&&Z?(j-Z)/Z:0;return(0,n.jsxs)(o.Z,v({},y,{children:[(0,n.jsx)(i.Z,{variant:a,children:j?(0,u.Z)(j):"-"}),(0,n.jsx)(i.Z,{variant:"smallMedium",color:O<0?"errorText":"primaryText",children:(0,l.Z)(O)})]}))}),(function(e){var r=e.textVariant,t=void 0===r?"title":r,i=(e.marketAddressOrName,e.hoverSpotPrice,e.period,m(e,["textVariant","marketAddressOrName","hoverSpotPrice","period"]));return(0,n.jsxs)(o.Z,v({},i,{children:[(0,n.jsx)(a.Z,{variant:t,width:200}),(0,n.jsx)(a.Z,{variant:"smallMedium",width:50})]}))}));r.Z=b},56042:function(e,r,t){t.d(r,{Z:function(){return _e}});var n=t(24246),o=t(58316),a=t(11913),i=t(34317),l=t(6692),u=t(2105),s=t(10232),c=t(41475),d=t(24723),f=t(93327),p=t(27378),v=t(46895);function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function y(e){var r=e.label,t=e.value,o=e.textVariant,a=void 0===o?"secondary":o,i=e.valueColor,l=void 0===i?"text":i,s=b(e,["label","value","textVariant","valueColor"]);return(0,n.jsxs)(v.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}({justifyContent:"space-between",alignItems:"center"},s,{children:["string"===typeof r?(0,n.jsx)(u.Z,{variant:a,color:"secondaryText",children:r}):r,"string"===typeof t?(0,n.jsx)(u.Z,{variant:a,color:l,children:t}):t]}))}var h=t(52803),x=t(96403),g=t(27103),j=t(93421),Z=t(70092),O=t(73141);function w(e,r){return null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function k(e){var r,t;return{marketName:e.marketName,expiryTimestamp:e.expiryTimestamp,strikeId:e.strikeId,strikePrice:e.strikePrice,isCall:e.isCall,isBuy:w(e,O.Vx)?void 0:e.isBuy,isLong:w(e,O.Vx)?void 0:e.isLong,isOpen:w(e,O.Vx)?void 0:e.isOpen,positionId:e.positionId,premium:w(e,O.Vx)?void 0:e.premium,fee:w(e,O.Vx)?void 0:e.fee,size:w(e,O.Vx)?void 0:e.size,iv:w(e,O.Vx)?void 0:e.iv,slippage:w(e,O.ho)?e.slippage:void 0,setToCollateral:w(e,O.ho)?null===(r=e.collateral)||void 0===r?void 0:r.amount:w(e,O.Bp)?e.collateralAmount:e.amount,isBaseCollateral:w(e,O.ho)?null===(t=e.collateral)||void 0===t?void 0:t.isBase:e.isBaseCollateral}}var P=t(42721);function S(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function C(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var T=function(e){var r=e.trade,t=e.size,o=e.onChangeSize,a=C(e,["trade","size","onChangeSize"]),i=r.isBuy,l=r.position(),u=i===(null===l||void 0===l?void 0:l.isLong),s=t.gt(0)?t:l?h.Aj:(0,Z.Z)(r.market().name);return(0,n.jsx)(g.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){S(e,r,t[r])}))}return e}({},a,{value:t,onChange:o,placeholder:s,max:l&&!u?l.size:h.$z,min:h.Aj,textAlign:"right",showMaxButton:!!l&&!u,onBlur:function(){return(0,P.Z)(j.g.TradeSizeInput,k(r))}}))},A=t(85218),I=t(47114),E=t(53491);function B(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function L(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var M=function(e){var r,t,o,a=e.balances,i=e.stableAddress,l=e.onChangeStableAddress,u=L(e,["balances","stableAddress","onChangeStableAddress"]),s=(0,p.useState)(!1),c=s[0],d=s[1],f=(0,p.useMemo)((function(){return a.find((function(e){return null!==(r=e.address===i)&&void 0!==r?r:""}))}),[a,i]),v=(0,p.useCallback)((function(){return d(!1)}),[]);return(0,n.jsx)(A.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){B(e,r,t[r])}))}return e}({isOpen:c,onClose:v,onClick:function(){return d(!c)},placement:"bottom-end",leftIcon:(0,n.jsx)(E.Z,{nameOrAddress:null!==(t=null===f||void 0===f?void 0:f.symbol)&&void 0!==t?t:"susd",size:24}),label:null!==(o=null===f||void 0===f?void 0:f.symbol)&&void 0!==o?o:""},u,{children:(0,n.jsx)(n.Fragment,{children:a.map((function(e){return(0,n.jsx)(I.Z,{isSelected:i===e.address,icon:(0,n.jsx)(E.Z,{nameOrAddress:e.symbol,size:24}),label:e.symbol,onClick:function(){v(),l(e.address)}},e.symbol)}))})}))},D=t(92110),z=t(8983),R=t(73018),V=t(80907);var q=t(70614),F=t(47406),N=t(3922);function U(e,r){return e.mul(N.O$.from(10).pow(18-r))}var Y=t(33640),H=t(4477),$=t(35230),G=t.n($),_=t(68361),W=t(73066),J=t(35961),K=t(59587),Q=t(87350),X=t(71146),ee=t(80215),re=t(46092),te=t(96756);function ne(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oe(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ne(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=t(6230);function ie(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function le(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function ue(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ie(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=function(){var e,r=(e=G().mark((function e(r,t,n,o,a,i,l,u,s,c,d,f){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.ho.get(R.Z,r,t,n,o,a,N.O$.from(i),{positionId:u,setToCollateral:s?N.O$.from(s):void 0,isBaseCollateral:c,premiumSlippage:l,inputAsset:d&&f?{address:d,decimals:f}:void 0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){le(a,n,o,i,l,"next",e)}function l(e){le(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,t,n,o,a,i,l,u,s,c,d,f){return r.apply(this,arguments)}}();function ce(e,r,t){var n,o,a,i=null!==(a=(0,V.Z)())&&void 0!==a?a:h.r_,l=r===e.market().quoteToken.address,u=(0,p.useState)(e),s=u[0],c=u[1],d=(0,p.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=null,n=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];null!=t&&clearTimeout(t),t=setTimeout((function(){return e.apply(void 0,oe(o))}),r)};return n}(c),[c]);(0,p.useEffect)((function(){d(e)}),[d,e]);var f=ue((0,ae.ZP)("TradeWithSwap",l?null:[i,s.marketAddress,s.strikeId,s.isCall,s.isBuy,s.size,s.slippage,s.positionId,null===(n=s.collateral)||void 0===n?void 0:n.amount,null===(o=s.collateral)||void 0===o?void 0:o.isBase,r,t],se),1)[0];return l?e:f}var de=t(9421),fe=t(19236),pe=t(6081),ve=t(57429),me=t(20101);function be(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ye(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function he(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){ye(a,n,o,i,l,"next",e)}function l(e){ye(a,n,o,i,l,"throw",e)}i(void 0)}))}}function xe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ge(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){xe(e,r,t[r])}))}return e}function je(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Ze(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return be(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return be(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oe=function(e){switch(e){case O.A9.EmptySize:return"Enter amount";case O.A9.EmptyCollateral:return"Enter collateral";case O.A9.NotEnoughCollateral:return"Not enough collateral";case O.A9.TooMuchCollateral:return"Too much collateral";case O.A9.DeltaOutOfRange:return"Delta out of range";case O.A9.InsufficientLiquidity:return"Insufficient liquidity";case O.A9.Expired:return"Strike has expired";case O.A9.TradingCutoff:return"Trading paused";case O.A9.PositionClosed:return"Position closed";case O.A9.PositionNotLargeEnough:return"Position not large enough";case O.A9.PositionWrongOwner:return"You are not the owner";case O.A9.PositionClosedLeftoverCollateral:return"Set collateral to zero";case O.A9.VolTooHigh:case O.A9.VolTooLow:case O.A9.IVTooHigh:case O.A9.IVTooLow:case O.A9.SkewTooHigh:case O.A9.SkewTooLow:return"Price impact too high";case O.A9.EmptyPremium:return"Option is worthless"}},we=function(e,r,t){var n=e.position(),o=e.option(),a=e.isBuy,i=!!n&&n.isLong!==a&&!e.size.isZero(),l=r.stable(e.quoteToken.address),u=r.base(e.baseToken.address),s=r.optionToken(e.market().address),c=18!==l.decimals?U(l.balance,l.decimals):l.balance,d=u.balance;if(c.lt(e.quoteToken.transfer)||d.lt(e.baseToken.transfer))return{label:"Insufficient Balance",variant:"default",isOutline:!1,isDisabled:!0};if(t>.05)return{label:"Price impact too high",variant:"default",isOutline:!1,isDisabled:!0};if(e.isDisabled)return{label:e.disabledReason?Oe(e.disabledReason):"Something went wrong",variant:"default",isOutline:!1,isDisabled:!0};var f=l.allowance.lt(e.quoteToken.transfer),p=u.allowance.lt(e.baseToken.transfer),v=!!n&&!s.isApprovedForAll,m=f||p||v;if((null===n||void 0===n?void 0:n.collateral)&&e.collateral&&e.isCollateralUpdate){var b=e.collateral.amount.gt(n.collateral.amount);return{label:b?"Add Collateral":"Remove Collateral",variant:b?"primary":"error",isOutline:!1,isDisabled:m}}return i?{label:"Close Position",variant:"error",isOutline:!0,isDisabled:m}:{label:"".concat(a?"Buy":"Sell"," ").concat(o.isCall?"Call":"Put"),variant:a?"primary":"error",isOutline:!1,isDisabled:m}},ke=(0,D.Z)((function(e){var r=e.onTrade,t=e.trade,o=je(e,["onTrade","trade"]),a=(0,p.useState)(!1),i=a[0],l=a[1],u=(0,p.useState)(!1),s=u[0],c=u[1],d=(0,p.useState)(!1),f=d[0],v=d[1],m=(0,p.useState)(!1),b=m[0],y=m[1],x=t.option(),g=t.position(),Z=x.market(),w=(0,q.h)(),S=(0,ee.Z)(t.quoteToken.address),C=(0,ee.Z)(t.baseToken.address),T=(0,z.Z)(),A=(0,re.Z)(K.Zc.Optimism),I=(0,te.Z)(),E=(0,z.q)(),B=(0,de.UJ)(),L=T.stable(t.quoteToken.address),M=T.base(t.market().address),D=T.optionToken(t.market().address),V=18!==L.decimals?U(L.balance,L.decimals):L.balance,N=ce(t,L.address,L.decimals),H=(0,p.useMemo)((function(){var e=t.quoteToken.transfer.gt(0)?t.quoteToken.transfer:t.quoteToken.receive;return L.address!==t.market().quoteToken.address&&N&&N.premium.gt(h.Aj)&&!e.isZero()?Math.abs(1-(0,F.Z)((N.quoteToken.transfer.gt(0)?N.quoteToken.transfer:N.quoteToken.receive).mul(h.iI).div(e))):0}),[N,t,L]),$=L.allowance.lt(t.quoteToken.transfer),J=M.allowance.lt(t.baseToken.transfer),ne=!!g&&!D.isApprovedForAll,oe=V.lt(t.quoteToken.transfer),ae=M.balance.lt(t.baseToken.transfer),ie=oe||ae,le=(0,fe.Z)(),ue=(0,p.useCallback)(he(G().mark((function e(){var r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,P.Z)(j.g.TradeApproveSubmit,{isBase:!1}),I&&L){e.next=4;break}return console.warn("Account or quote token does not exist"),e.abrupt("return",null);case 4:return c(!0),e.next=7,I.approveStableToken(L.address,h.$z);case 7:return r=e.sent,e.next=10,le(r,{onComplete:function(){E(),(0,P.Z)(j.g.TradeApproveSuccess,{isBase:!1})},onError:function(){return(0,P.Z)(j.g.TradeApproveError,{isBase:!1})}});case 10:c(!1);case 11:case"end":return e.stop()}}),e)}))),[I,L,le,E]),se=(0,p.useCallback)(he(G().mark((function e(){var r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,P.Z)(j.g.TradeApproveSubmit,{isBase:!0}),I&&Z){e.next=4;break}return console.warn("Account or market does not exist"),e.abrupt("return",null);case 4:return c(!0),e.next=7,I.approveBaseToken(Z.baseToken.address,h.$z);case 7:return r=e.sent,e.next=10,le(r,{onComplete:function(){E(),(0,P.Z)(j.g.TradeApproveSuccess,{isBase:!0})},onError:function(){return(0,P.Z)(j.g.TradeApproveError,{isBase:!0})}});case 10:c(!1);case 11:case"end":return e.stop()}}),e)}))),[I,Z,le,E]),be=(0,p.useCallback)(he(G().mark((function e(){var r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return console.warn("Account does not exist"),e.abrupt("return",null);case 3:return c(!0),e.next=6,I.approveOptionToken(Z.address,!0);case 6:return r=e.sent,e.next=9,le(r,{onComplete:E});case 9:c(!1);case 10:case"end":return e.stop()}}),e)}))),[I,Z.address,le,E]),ye=(0,p.useCallback)(he(G().mark((function e(){var n,o,a,i;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&I){e.next=3;break}return console.warn("Account or market does not exist"),e.abrupt("return");case 3:return l(!0),(0,P.Z)(j.g.TradeSubmit,k(t)),n=function(){var e=he(G().mark((function e(){var r,n,o,a,i,u;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={setToCollateral:null===(r=t.collateral)||void 0===r?void 0:r.amount,isBaseCollateral:null===(n=t.collateral)||void 0===n?void 0:n.isBase,inputAsset:{address:null===L||void 0===L?void 0:L.address,decimals:null===L||void 0===L?void 0:L.decimals}},g){e.next=8;break}return e.next=5,Z.trade(I.address,t.option().strike().id,t.option().isCall,t.isBuy,t.size,t.slippage,o);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,g.trade(t.isBuy,t.size,t.slippage,ge({},o,{inputAsset:{address:null===L||void 0===L?void 0:L.address,decimals:null===L||void 0===L?void 0:L.decimals}}));case 10:e.t0=e.sent;case 11:if(a=e.t0,i=a.tx,u=a.disabledReason,i){e.next=17;break}throw l(!1),new Error(u?Oe(u):"Something went wrong");case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,le(n(),{onComplete:function(){var e=he(G().mark((function e(r){var t,n,o,a,i;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Promise.all((0,pe.Z)([w(),E(),g?B(Z.name,g.id):null])),e.t0=Ze,e.next=4,Promise.all([R.Z.events(r),t]);case 4:e.t1=e.sent,n=(0,e.t0)(e.t1,1),o=n[0],a=o.trades,i=o.collateralUpdates,a.forEach((function(e){return(0,P.Z)(j.g.TradeSuccess,k(e))})),i.filter((function(e){return e.isAdjustment})).forEach((function(e){return(0,P.Z)(j.g.TradeCollateralUpdateSuccess,k(e))}));case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e),(0,P.Z)(j.g.TradeError,ge({},k(t),{error:null===e||void 0===e?void 0:e.message}))}});case 8:o=e.sent,r&&o&&(a=Ze(O.ho.getPositionIdsForLogs(o.logs),1),(i=a[0])&&r(Z,i)),l(!1);case 11:case"end":return e.stop()}}),e)}))),[t,I,le,r,null===L||void 0===L?void 0:L.address,null===L||void 0===L?void 0:L.decimals,g,Z,w,E,B]),xe=t.isCollateralUpdate?Q.i.TradeCollateralUpdate:t.isOpen?Q.i.TradeOpenPosition:Q.i.TradeClosePosition,ke=$||J||ne,Pe=(0,n.jsxs)(n.Fragment,{children:[(0,Y.Z)()?(0,n.jsx)(me.Z,{transactionType:xe,hideIfNotReady:!0,sx:{width:"100%"},variant:"primary",size:"lg",label:"Swap to ".concat(oe?"Stables":"Synths"),onClick:function(){return v(!0)}}):(0,n.jsx)(me.Z,{transactionType:xe,hideIfNotReady:!0,sx:{width:"100%"},size:"lg",variant:"primary",label:"Drip ".concat(oe?"Stables":"Synths"),onClick:function(){return y(!0)}}),(0,n.jsx)(W.ZP,ge({mt:3,size:"lg",width:"100%"},we(t,T,H),{isDisabled:!0}))]}),Se=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(me.Z,{transactionType:xe,hideIfNotReady:!0,size:"lg",sx:{width:"100%"},isLoading:s,variant:"primary",onClick:$?ue:J?se:ne?be:void 0,label:$?"Allow Lyra to use your ".concat(L.symbol):J?"Allow Lyra to use your ".concat(Z.baseToken.symbol):ne?"Allow Lyra to ".concat(t.newSize.isZero()?"close":"modify"," your position"):"Something went wrong"}),(0,n.jsx)(W.ZP,ge({mt:3,size:"lg",width:"100%"},we(t,T,H),{isDisabled:!0}))]}),Ce=(0,n.jsx)(me.Z,ge({transactionType:xe,size:"lg",sx:{width:"100%"},isLoading:i,onClick:ye},we(t,T,H)));return(0,n.jsxs)(_.Z,ge({},o,{children:[ie?Pe:ke?Se:Ce,(0,n.jsx)(ve.Z,{isOpen:b,onClose:function(){return y(!1)}}),(0,n.jsx)(X.ZP,{isOpen:f,onClose:function(){return v(!1)},step:A.eq(0)?X.CR.GetETH:X.CR.GetTokens,toToken:oe?S:ae?C:null})]}))}),(function(e){e.trade,e.onTrade;var r=je(e,["trade","onTrade"]);return(0,n.jsx)(J.Z,ge({size:"lg",width:"100%"},r))})),Pe=ke,Se=t(66084),Ce=t(95808),Te=t(56119),Ae=t(98718),Ie=t(38938);function Ee(e,r,t){return"".concat((null===t||void 0===t?void 0:t.showDollars)?(0,Ie.Z)(e,t):(0,Ae.Z)(e)," ").concat(r)}var Be=t(74749);var Le=t(60018);function Me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function De(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Me(e,r,t[r])}))}return e}function ze(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Re=function(e){var r=e.trade,t=e.collateral,a=e.collateralAmount,i=e.onChangeCollateralAmount,l=e.onToggleCoveredCall,u=ze(e,["trade","collateral","collateralAmount","onChangeCollateralAmount","onToggleCoveredCall"]),s=r.position(),d=r.newSize.isZero(),v=r.option().isCall,m=t.isBase,b=a?t:null===s||void 0===s?void 0:s.collateral,x=function(e,r){var t,n=e.newSize.mul(e.strike().strikePrice).div(h.iI).mul(null!==(t=(0,Le.Z)(Be.v3))&&void 0!==t?t:h.Aj).div(h.iI);return r.max?r.max:n.gt(r.min)?n:r.min}(r,t),Z=function(e){var r;return e.min.mul(null!==(r=(0,Le.Z)(Be.t5))&&void 0!==r?r:h.Aj).div(h.iI)}(t),O=t.liquidationPrice,w=r.market().spotPrice,S=O?function(e,r){return e.gt(0)?(0,F.Z)(r.sub(e).mul(h.iI).div(e)):0}(w,O):null,C=S?Math.abs(S):null,T=x.sub(Z),A=(0,F.Z)(T)/200,I=!Z.gte(x);return(0,p.useEffect)((function(){I||a.eq(x)||i(x)}),[I,x,a,i]),(0,p.useEffect)((function(){d&&a.gt(0)&&i(h.Aj)}),[a,d,i]),r.isLong?null:(0,n.jsxs)(o.Z,De({},u,{children:[v&&!s?(0,n.jsx)(y,{mb:5,label:"Covered Call",value:(0,n.jsx)(Ce.Z,{isChecked:m,onChange:function(e){return l(e.target.checked)}})}):null,d?(0,n.jsx)(y,{label:"Returned Collateral",value:m?(0,c.Z)(r.prevCollateralAmount(),r.market().baseToken.symbol):(0,f.Z)(r.prevCollateralAmount())}):(0,n.jsx)(y,{mb:I?3:0,label:"Collateral",value:I?(0,n.jsx)(g.Z,{value:a,onChange:i,onBlur:function(){(0,P.Z)(j.g.TradeCollateralInput,De({},k(r),{setToCollateral:a}))},width:"50%",placeholder:m?"".concat((0,Ae.Z)(Z)," - ").concat((0,Ae.Z)(x)," ").concat(r.market().baseToken.symbol):"".concat((0,Ie.Z)(Z)," - ").concat((0,Ie.Z)(x)),isDisabled:d,max:x,min:a.isZero()?void 0:Z,textAlign:"right"}):m?(0,c.Z)(a,r.market().baseToken.symbol):(0,f.Z)(a)}),I?(0,n.jsx)(Se.Z,{mb:6,flexGrow:1,value:(0,F.Z)(a),max:(0,F.Z)(x),min:(0,F.Z)(Z),onClickMax:function(){return i(x)},onClickMin:function(){return i(Z)},minButtonLabel:"Min: ".concat(m?Ee(Z,r.market().baseToken.symbol):(0,Ie.Z)(Z)),maxButtonLabel:"Max: ".concat(m?Ee(x,r.market().baseToken.symbol):(0,Ie.Z)(x)),step:A,onChange:function(e){var r=(0,Le.Z)(e.toFixed(2));if(r){var t=r.gt(x)?x:r.lt(Z)?Z:r;i(t)}},onBlur:function(){(0,P.Z)(j.g.TradeCollateralSlide,De({},k(r),{setToCollateral:a}))}}):null,I?(0,n.jsx)(y,{label:"Liquidation Price",value:!b||b.amount.lt(b.min)?"-":b.liquidationPrice?"".concat((0,f.Z)(b.liquidationPrice)," (").concat((0,Te.Z)(null!==S&&void 0!==S?S:0),")"):"None",valueColor:C?C>Be.Cf?"text":C>Be.io?"warningText":"errorText":"text"}):null]}))},Ve=t(9570),qe=t(12279),Fe=t(37715),Ne=(0,D.Z)((function(){var e,r,t=(0,qe.Z)(),o=null===t||void 0===t?void 0:t.global,a=null===t||void 0===t?void 0:t.account,i=null!==(r=null!==(e=null===a||void 0===a?void 0:a.tradingFeeRebate)&&void 0!==e?e:null===o||void 0===o?void 0:o.minTradingFeeRebate)&&void 0!==r?r:0,l=(0,p.useState)(!1),s=l[0],c=l[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{variant:"small",color:"primaryText",onClick:function(){return c(!0)},sx:{":hover":{opacity:.5,cursor:"pointer"}},children:(0,Te.Z)(i,!0)}),(0,n.jsx)(Fe.Z,{isOpen:s,onClose:function(){return c(!1)}})]})}),(function(){return(0,n.jsx)(Ve.Z,{variant:"small",width:60})})),Ue=t(25287),Ye=function(e){var r,t=e.trade,a=(0,p.useState)(null),i=a[0],l=a[1],u=t.market().spotPrice,s=(0,F.Z)(t.payoff(u)),c=null!==i&&void 0!==i?i:s,d=t.maxProfit(),v=t.maxLoss(),m=t.breakEven();return(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(y,{label:"Expected Profit / Loss",value:(0,f.Z)(c,{showSign:!0}),valueColor:c>=0?"primaryText":"errorText",mb:6}),(0,n.jsx)(Ue.Z,{height:120,tradeOrPosition:t,onHover:function(e){return l(null!==(r=null===e||void 0===e?void 0:e.payoff)&&void 0!==r?r:null)},showLiquidationPrice:!0,mb:6}),(0,n.jsx)(y,{mb:3,label:"Max Profit",value:d.eq(h.$z)?"Infinity":(0,f.Z)(d),textVariant:"small"}),(0,n.jsx)(y,{mb:3,label:"Break Even",value:(0,f.Z)(m),textVariant:"small"}),(0,n.jsx)(y,{label:"Max Loss",value:v.eq(h.$z)?"Infinity":(0,f.Z)(v),textVariant:"small"})]})},He=t(83351),$e=(0,D.Z)((function(e){var r,t=e.trade,o=(0,z.Z)().stable(t.quoteToken.address),a=ce(t,o.address,o.decimals),i=null!==(r=null===a||void 0===a?void 0:a.externalSwapFee)&&void 0!==r?r:h.Aj;return(0,n.jsx)(He.Z,{title:"Swap",tooltip:(0,n.jsxs)(_.Z,{children:[(0,n.jsxs)(u.Z,{mb:4,variant:"secondary",color:"secondaryText",children:["Lyra swaps ",(null===a||void 0===a?void 0:a.isBuy)?"".concat(o.symbol," to sUSD"):"sUSD to ".concat(o.symbol)," via Curve to execute this trade."]}),(0,n.jsxs)(u.Z,{variant:"secondary",color:"secondaryText",children:["Swap Fee: ",(0,f.Z)(i)]})]}),children:(0,n.jsx)(u.Z,{variant:"small",children:(null===a||void 0===a?void 0:a.isBuy)?"".concat(o.symbol," \u2192 sUSD"):"sUSD \u2192 ".concat(o.symbol)})})}),(function(){return(0,n.jsx)(Ve.Z,{variant:"small",width:60})})),Ge=(0,D.Z)((function(e){var r,t,o=e.trade,a=(0,z.Z)().stable(o.quoteToken.address),i=ce(o,a.address,a.decimals),l=null!==(r=null===i||void 0===i?void 0:i.externalSwapFee)&&void 0!==r?r:h.Aj,s=null!==(t=null===i||void 0===i?void 0:i.premium)&&void 0!==t?t:h.Aj,c=o.isBuy?s.add(l):s.sub(l);return(0,n.jsx)(u.Z,{variant:"secondary",children:c.gt(0)?(0,f.Z)(c):"-"})}),(function(){return(0,n.jsx)(Ve.Z,{variant:"secondary",width:80})})),_e=(0,D.Z)((function(e){var r,t=e.isBuy,i=e.option,l=e.positionId,v=e.onTrade,m=e.hideTitle,b=(0,q.Z)(),x=(0,p.useMemo)((function(){return l?b.find((function(e){return e.id===l})):b.find((function(e){return e.marketAddress===i.market().address&&e.strikeId===i.strike().id&&e.isCall===i.isCall}))}),[l,b,i]),g=(0,z.Z)(),j=i.market(),w=x?x.isLong:t,k=(0,p.useMemo)((function(){return(0,Y.Z)()?g.stable("sUSD"):function(e){return e.stables.reduce((function(e,r){return(18!==r.decimals?U(r.balance,r.decimals):r.balance).gt(e.balance)?r:e}),e.stable("susd"))}(g)}),[g]),P=(0,p.useState)(!!x&&!!(null===(r=x.collateral)||void 0===r?void 0:r.isBase)),S=P[0],C=P[1],A=(0,p.useState)(k.address),I=A[0],E=A[1],B=S,L=(0,p.useState)(h.Aj),D=L[0],N=L[1],$=D.gt(0)?D:x?h.Aj:(0,Z.Z)(j.name),G=(0,p.useState)(h.Aj),_=G[0],W=G[1],J=(0,p.useCallback)((function(){W(h.Aj)}),[]),K=i.strike().id,Q=i.market().address,X=i.isCall;(0,p.useEffect)((function(){N(h.Aj),J()}),[K,Q,t,X,S,l]);var ee=(0,p.useCallback)((function(e,r){N(h.Aj),J(),v&&v(e,r)}),[v,J]),re=function(e){var r,t=e.option,n=e.isBuy,o=e.size,a=e.slippage,i=e.position,l=e.setToCollateral,u=e.isBaseCollateral,s=e.stableAddress,c=e.stableDecimals,d=null!==(r=(0,V.Z)())&&void 0!==r?r:h.r_;return(0,p.useMemo)((function(){return O.ho.getSync(R.Z,d,t,n,o,{position:null!==i&&void 0!==i?i:void 0,setToCollateral:null!==l&&void 0!==l?l:void 0,isBaseCollateral:u,premiumSlippage:a,inputAsset:{address:s,decimals:c}})}),[t,n,o,a,l,u,s,c,d,i])}({option:i,position:x,isBuy:t,size:$,setToCollateral:_,isBaseCollateral:B,slippage:.005,stableAddress:I,stableDecimals:g.stable(I).decimals}),te=(0,p.useMemo)((function(){return g.stable(I)}),[g,I]),ne=(0,p.useMemo)((function(){return g.base(re.baseToken.address)}),[g,re]),oe=(0,p.useMemo)((function(){return re.pnl()}),[re]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{children:[m?null:(0,n.jsxs)(u.Z,{mb:6,variant:"heading",children:[t?"Buy":"Sell"," ",i.market().baseToken.symbol," ",(0,f.Z)(i.strike().strikePrice)," ",i.isCall?"Call":"Put"]}),x?(0,n.jsx)(y,{label:"Position",value:(0,n.jsx)(s.Z,{label:"".concat(x.isLong?"LONG":"SHORT"," ").concat((0,d.Z)(x.size)),variant:x.isLong?"primary":"error"}),mb:6}):null,(0,n.jsx)(y,{label:"Contracts",value:(0,n.jsx)(T,{width:"50%",trade:re,size:D,onChangeSize:N}),mb:5}),(0,n.jsx)(y,{label:t?"Buy With":"Sell With",value:(0,n.jsx)(M,{balances:g.stables,stableAddress:I,onChangeStableAddress:E,width:"50%"}),mb:6}),(0,n.jsx)(y,{label:"Price Per Option",value:re.pricePerOption.isZero()?"-":(0,f.Z)(re.pricePerOption),valueColor:re.pricePerOption.isZero()?"secondaryText":"text"})]}),(0,n.jsx)(a.Z,{}),!w&&re.collateral?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Re,{trade:re,collateral:re.collateral,collateralAmount:_,onChangeCollateralAmount:W,onToggleCoveredCall:C}),(0,n.jsx)(a.Z,{})]}):null,(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(y,{mb:6,textVariant:"body",label:re.isBuy?"Max Cost":"Min Received",value:(0,n.jsx)(Ge,{trade:re})}),I!==j.quoteToken.address?(0,n.jsx)(y,{mb:2,label:"Swap",value:(0,n.jsx)($e,{trade:re}),textVariant:"small"}):null,re.forceClosePenalty.gt(0)?(0,n.jsx)(y,{textVariant:"small",label:"Force Close Penalty",valueColor:"warningText",value:(0,f.Z)(re.forceClosePenalty),mb:2}):null,(0,n.jsx)(y,{textVariant:"small",label:"Fees",valueColor:re.fee.isZero()?"secondaryText":"text",value:re.fee.isZero()?"-":(0,f.Z)(re.fee),mb:2}),(0,n.jsx)(y,{textVariant:"small",label:"Fee Rebate",value:(0,n.jsx)(Ne,{}),mb:2}),re.isLong?null:(0,n.jsx)(y,{mb:2,textVariant:"small",label:"Short Yield / Day",value:(0,n.jsx)(H.Z,{textVariant:"small",tradeOrPosition:re,option:i})}),re.isOpen?null:(0,n.jsx)(y,{mb:2,label:"Profit / Loss",value:oe.isZero()?"-":(0,f.Z)(oe,{showSign:!0}),valueColor:oe.isZero()?"secondaryText":oe.gt(0)?"primaryText":"errorText",textVariant:"small"}),(0,n.jsx)(y,{mb:6,label:"Balance",value:B?(0,c.Z)((0,F.Z)(ne.balance,ne.decimals),ne.symbol):(0,c.Z)((0,F.Z)(te.balance,te.decimals),te.symbol,{showDollars:!0}),valueColor:"text",textVariant:"small"}),(0,n.jsx)(Pe,{width:"100%",trade:re,onTrade:ee})]}),!x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{}),(0,n.jsx)(Ye,{trade:re})]})]})}),(function(){return(0,n.jsx)(o.Z,{height:x.cb,children:(0,n.jsx)(i.Z,{width:"100%",flexGrow:1,children:(0,n.jsx)(l.ZP,{})})})}))},52895:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(24246),o=t(37393),a=t(93327),i=(t(27378),t(56042));function l(e){var r=e.isOpen,t=e.onClose,l=e.onTrade,u=e.option,s=e.positionId,c=e.isBuy,d="".concat(c?"Buy":"Sell"," ").concat(u.market().baseToken.symbol," ").concat((0,a.Z)(u.strike().strikePrice)," ").concat(u.isCall?"Call":"Put");return(0,n.jsx)(o.Z,{isMobileFullscreen:!0,title:d,isOpen:r,onClose:t,children:(0,n.jsx)(i.Z,{option:u,positionId:s,onTrade:l,isBuy:c,hideTitle:!0})})}},96756:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(73018),o=t(80907);function a(){var e=(0,o.Z)();return e?n.Z.account(e):null}},9421:function(e,r,t){t.d(r,{UJ:function(){return d},ZP:function(){return f}});var n=t(35230),o=t.n(n),a=t(73018),i=t(6230);function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=function(){var e,r=(e=o().mark((function e(r,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.position(r,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){u(a,n,o,i,l,"next",e)}function l(e){u(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),d=function(){return(0,i.Tu)("Position",c)};function f(e,r){return s((0,i.ZP)("Position",e&&r?[e,r]:null,c),1)[0]}},11643:function(e,r,t){t.d(r,{V:function(){return p},Z:function(){return v}});var n=t(35230),o=t.n(n),a=t(73141),i=t(73018),l=t(6230),u=t(80907);function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=[],p=function(){var e,r=(e=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.Z.deployment!==a.Yz.Mainnet){e.next=6;break}return e.next=3,i.Z.accountRewardEpochs(r);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){c(a,n,o,i,l,"next",e)}function l(e){c(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();function v(){var e=(0,u.Z)(),r=d((0,l.ZP)("AccountRewardEpochs",e?[e]:null,p),1)[0];return null!==r&&void 0!==r?r:f}},12279:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(35230),o=t.n(n),a=t(73141),i=t(73018),l=t(6230),u=t(80907),s=t(11643);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function d(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void t(s)}l.done?r(u):Promise.resolve(u).then(n,o)}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(){var e,r=(e=o().mark((function e(r){var t,n,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,Promise.all([i.Z.deployment===a.Yz.Mainnet?i.Z.globalRewardEpochs():[],r?(0,s.V)(r):[]]);case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1,2),n=t[0],l=t[1],e.abrupt("return",null!==(u=n.map((function(e){var r;return{account:null!==(r=l.find((function(r){return r.globalEpoch.startTimestamp===e.startTimestamp})))&&void 0!==r?r:null,global:e}})).find((function(e){var r=e.account,t=e.global;return(null===r||void 0===r?void 0:r.isPendingRewards)||t.isCurrent})))&&void 0!==u?u:null);case 9:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){d(a,n,o,i,l,"next",e)}function l(e){d(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();function v(){var e=(0,u.Z)(),r=f((0,l.ZP)("LatestRewardEpochs",e?[e]:[],p),1)[0];return null!==r&&void 0!==r?r:null}},39561:function(e,r,t){var n=t(24246),o=t(34317),a=t(2105),i=(t(27378),t(42804));r.Z=function(e){var r=e.error;return(0,n.jsx)(i.Z,{children:(0,n.jsxs)(o.Z,{alignSelf:"stretch",height:"100%",flexDirection:"column",children:[(0,n.jsx)(a.Z,{variant:"largeTitle",children:"404"}),"string"===typeof r?(0,n.jsx)(a.Z,{color:"secondaryText",children:r}):r]})})}},72166:function(e,r,t){var n=t(24246),o=(t(27378),t(42804));r.Z=function(){return(0,n.jsx)(o.Z,{isLoading:!0})}},70092:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(52803);function o(e){return e.toLowerCase(),n.wx}},66084:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(24246),o=t(28055),a=(t(27378),t(68361)),i=t(46895),l=t(8413);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e){var r=e.value,t=e.max,c=e.min,d=e.maxButtonLabel,f=e.minButtonLabel,p=e.step,v=void 0===p?0:p,m=e.onChange,b=e.onClickMax,y=e.onClickMin,h=s(e,["value","max","min","maxButtonLabel","minButtonLabel","step","onChange","onClickMax","onClickMin"]);return(0,n.jsxs)(i.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({},h,{sx:{position:"relative"},children:[f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{textVariant:"small",variant:"secondary",sx:{position:"absolute",top:5,left:0,color:r===c?"text":"secondaryText"},onClick:y,children:f}),(0,n.jsx)(a.Z,{sx:{position:"absolute",width:"2px",height:"8px",top:"5px",left:"0px",bg:"toggleTrackBg"}})]}):null,(0,n.jsx)(o.iR,{value:r,max:t,min:c,step:v,onChange:function(e){return m(parseFloat(e.target.value))},height:"2px",bg:"toggleTrackBg",sx:{zIndex:1,"::-webkit-slider-thumb":{height:"12px",width:"12px",bg:"toggleThumbBg"}},mb:f||d?7:0}),d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{textVariant:"small",variant:"secondary",sx:{position:"absolute",top:5,right:0,color:r===t?"text":"secondaryText"},onClick:b,children:d}),(0,n.jsx)(a.Z,{sx:{position:"absolute",width:"2px",height:"8px",top:"5px",right:"0px",bg:"toggleTrackBg"}})]}):null]}))}},95808:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(24246),o=(t(27378),t(60439)),a=t(68361);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function u(e){var r=e.isChecked,t=e.onChange,u=l(e,["isChecked","onChange"]);return(0,n.jsx)(a.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}({},u,{height:18,bg:"transparent",children:(0,n.jsx)(o.Z,{defaultChecked:r,onChange:t,icons:{checked:null,unchecked:null}})}))}},41475:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(24723),o=t(93327);function a(e,r,t){return"".concat((null===t||void 0===t?void 0:t.showDollars)?(0,o.Z)(e,t):(0,n.Z)(e,t)," ").concat(r)}}}]);