(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9303],{86915:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vaults/[marketName]",function(){return t(23819)}])},68917:function(e,r,t){"use strict";var n=t(24246),o=t(2105),a=t(24723),i=t(56119),l=t(93327),c=(t(27378),t(47406));function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}r.Z=function(e){var r=e.prevAmount,t=e.newAmount,d=e.symbol,f=e.isUSDFormat,m=e.isPercentFormat,p=e.color,y=u(e,["prevAmount","newAmount","symbol","isUSDFormat","isPercentFormat","color"]),v=(0,a.Z)(r),b=(0,a.Z)(t.lt(0)?0:t);return f&&(v=(0,l.Z)(r),b=(0,l.Z)(t.lt(0)?0:t)),m&&(v=(0,i.Z)((0,c.Z)(r),!0),b=(0,i.Z)((0,c.Z)(t),!0)),(0,n.jsxs)(o.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}({color:p},y,{children:[(0,n.jsxs)(o.Z,{as:"span",sx:{textDecoration:r.gt(0)&&!r.eq(t)?"line-through":"auto"},children:[v,t.lte(0)?" ".concat(d):""]}),t.gt(0)&&!r.eq(t)?(0,n.jsxs)(o.Z,{as:"span",children:["\xa0\u2192\xa0",b,"\xa0",d]}):null]}))}},96756:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(73018),o=t(80907);function a(){var e=(0,o.Z)();return e?n.Z.account(e):null}},65781:function(e,r,t){"use strict";t.d(r,{IS:function(){return p},ZP:function(){return m}});var n=t(35230),o=t.n(n),a=t(27378),i=t(73018),l=t(6230);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){s(a,n,o,i,l,"next",e)}function l(e){s(a,n,o,i,l,"throw",e)}i(void 0)}))}}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.market(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function m(e){return d((0,l.ZP)("Market",e?[e]:null,f),1)[0]}var p=function(e){var r=(0,l.Tu)("Market",f);return(0,a.useCallback)(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,r(e);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)}))),[r,e])}},39561:function(e,r,t){"use strict";var n=t(24246),o=t(34317),a=t(2105),i=(t(27378),t(42804));r.Z=function(e){var r=e.error;return(0,n.jsx)(i.Z,{children:(0,n.jsxs)(o.Z,{alignSelf:"stretch",height:"100%",flexDirection:"column",children:[(0,n.jsx)(a.Z,{variant:"largeTitle",children:"404"}),"string"===typeof r?(0,n.jsx)(a.Z,{color:"secondaryText",children:r}):r]})})}},72166:function(e,r,t){"use strict";var n=t(24246),o=(t(27378),t(42804));r.Z=function(){return(0,n.jsx)(o.Z,{isLoading:!0})}},23819:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return Vt},default:function(){return Ht}});var n=t(24246),o=t(27378),a=t(92110),i=t(65781),l=t(39561),c=t(72166),s=t(66362),u=t(68361),d=t(19749),f=t(46895),m=t(2105),p=t(55169),y=t(90962),v=t(78328),b=t(58316),h=t(34317),j=t(51397),x=t(11913),O=t(47929),g=t(8413),Z=t(6692),w=t(56119),P=t(30195),k=t(68917),S=t(27103),A=t(52803);function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function C(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var T=function(e){var r=e.amount,t=e.max,o=e.onChangeAmount,a=C(e,["amount","max","onChangeAmount"]);return(0,n.jsx)(S.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){D(e,r,t[r])}))}return e}({},a,{width:"50%",value:r,onChange:o,placeholder:A.Aj,max:t,min:A.Aj,textAlign:"right",showMaxButton:!0}))},N=t(48609),F=t(35230),I=t.n(F),E=t(73018),M=t(64614),V=t(80907);function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function L(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function B(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){L(a,n,o,i,l,"next",e)}function l(e){L(a,n,o,i,l,"throw",e)}i(void 0)}))}}function z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return H(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){var e=B(I().mark((function e(r,t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.account(r).liquidityDepositBalance(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();function U(e){var r=(0,V.Z)();return z((0,M.Z)("AccountLiquidityDepositBalance",r?[r,e]:null,_),1)[0]}var R=t(47406),q=t(73066),$=t(35961),W=t(93421),K=t(87350),X=t(71146),G=t(96756),Y=t(19236),J=t(81097),Q=t(42721),ee=t(20101);function re(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function te(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){re(a,n,o,i,l,"next",e)}function l(e){re(a,n,o,i,l,"throw",e)}i(void 0)}))}}function ne(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oe(){return oe=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},oe.apply(this,arguments)}function ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ne(e,r,t[r])}))}return e}function ie(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var le=(0,a.Z)((function(e){var r=e.market,t=e.amount,a=ie(e,["market","amount"]),i=(0,o.useState)(!1),l=i[0],c=i[1],s=(0,o.useState)(!1),d=s[0],f=s[1],m=U(r.address),p=(0,G.Z)(),y=function(){var e=(0,M.j)("AccountLiquidityDepositBalance",_),r=(0,V.Z)();return(0,o.useCallback)(function(){var t=B(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return t.next=3,e(r,n);case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,r])}(),v=(0,J.mK)(),b=(0,Y.Z)(),h=(0,o.useCallback)(te(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return console.warn("Account does not exist"),e.abrupt("return",null);case 3:return f(!0),e.next=6,p.approveDeposit(r.address,A.$z);case 6:return t=e.sent,e.next=9,b(t,{onComplete:te(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y(r.address)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))});case 9:f(!1);case 10:case"end":return e.stop()}}),e)}))),[p,r,b,y]),j=(0,o.useCallback)(te(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&r){e.next=3;break}return console.warn("Account does not exist"),e.abrupt("return",null);case 3:return c(!0),e.next=6,b(r.deposit(p.address,t),{onComplete:te(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y(r.address),v(r.address)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))});case 6:c(!1);case 7:case"end":return e.stop()}}),e)}))),[p,t,b,r,y,v]),x=(null===m||void 0===m?void 0:m.balance.lt(t))||(null===m||void 0===m?void 0:m.balance.isZero()),O=(null===m||void 0===m?void 0:m.allowance.lt(t))||(null===m||void 0===m?void 0:m.allowance.isZero()),g=(0,o.useState)(!1),Z=g[0],w=g[1],P=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee.Z,{transactionType:K.i.VaultDeposit,hideIfNotReady:!0,sx:{mb:3,width:"100%"},variant:"primary",size:"lg",label:"Swap to ".concat(null===m||void 0===m?void 0:m.symbol),onClick:function(){w(!0),(0,Q.Z)(W.g.OnboardingModalOpen)}}),(0,n.jsx)(q.ZP,{size:"lg",width:"100%",isDisabled:!0,label:"Deposit",onClick:j})]}),k=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee.Z,{transactionType:K.i.VaultDeposit,hideIfNotReady:!0,sx:{mb:3,width:"100%"},variant:"primary",size:"lg",isLoading:d,onClick:h,label:"Allow Lyra to use your ".concat(r.quoteToken.symbol)}),(0,n.jsx)(q.ZP,{size:"lg",width:"100%",isDisabled:!0,label:"Deposit",onClick:j})]}),S=(0,n.jsx)(ee.Z,{transactionType:K.i.VaultDeposit,sx:{width:"100%"},size:"lg",variant:"primary",isDisabled:O||x||t.lte(0),isLoading:l,label:t.lte(0)?"Enter Amount":x?"Insufficient Balance":"Deposit",onClick:j});return(0,n.jsxs)(u.Z,ae({},a,{children:[x?P:O?k:S,(0,n.jsx)(X.ZP,{isOpen:Z,onClose:function(){return w(!1)}})]}))}),(function(e){var r=oe({},e);return(0,n.jsx)($.Z,ae({size:"lg",width:"100%"},r))})),ce=le;function se(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ue(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){se(e,r,t[r])}))}return e}function de(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var fe=(0,a.Z)((function(e){var r,t=e.marketAddressOrName,a=(0,i.ZP)(t),l=U(t),c=null!==(r=null===l||void 0===l?void 0:l.balance)&&void 0!==r?r:A.Aj,s=(0,o.useState)(A.Aj),u=s[0],d=s[1];return a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(b.Z,{children:[(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{color:"secondaryText",children:"Amount"}),(0,n.jsx)(T,{amount:u,max:c,onChangeAmount:d})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,n.jsx)(m.Z,{color:"secondaryText",variant:"secondary",children:"Balance"}),(0,n.jsx)(k.Z,{variant:"secondary",symbol:"sUSD",isUSDFormat:!0,prevAmount:c,newAmount:c.sub(u)})]})]}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(b.Z,{children:[(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Deposit Delay"}),(0,n.jsx)(m.Z,{variant:"secondary",children:0===a.liveBoards().length||0===a.depositDelay?"None":(0,P.Z)(a.depositDelay)})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Withdrawal Delay"}),(0,n.jsx)(m.Z,{variant:"secondary",children:0===a.liveBoards().length||0===a.withdrawalDelay?"None":(0,P.Z)(a.withdrawalDelay)})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Withdrawal Fee"}),(0,n.jsx)(m.Z,{variant:"secondary",children:(0,w.Z)((0,R.Z)(a.__marketData.marketParameters.lpParams.withdrawalFee),!0)})]}),a.liquidity.utilization>.9?(0,n.jsx)(j.Z,{mb:3,icon:O.T.AlertTriangle,variant:"warning",title:"Disclaimer",description:(0,n.jsxs)(n.Fragment,{children:["Vault utilization is high, leading to withdrawal delays longer than"," ",(0,P.Z)(a.withdrawalDelay),"."," ",(0,n.jsx)(g.Z,{color:"warningText",textVariant:"secondary",href:N.lm,target:"_blank",showRightIcon:!0,children:"Learn more"})]})}):null,(0,n.jsx)(ce,{mt:2,market:a,amount:u})]})]}):null}),(function(e){e.marketAddressOrName;var r=de(e,["marketAddressOrName"]);return(0,n.jsx)(b.Z,{children:(0,n.jsx)(h.Z,ue({},r,{children:(0,n.jsx)(Z.ZP,{})}))})})),me=t(8983);function pe(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function ye(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ve(){return ve=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ve.apply(this,arguments)}function be(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ye(e,r,t[r])}))}return e}function he(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var je=(0,a.Z)((function(e){var r,t,a=e.market,i=e.amount,l=he(e,["market","amount"]),c=(0,o.useState)(!1),s=c[0],d=c[1],f=(0,J.ZP)(a.address),m=(0,G.Z)(),p=(0,me.q)(),y=(0,Y.Z)(),v=(0,o.useCallback)((r=I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return console.warn("Account does not exist"),e.abrupt("return",null);case 3:return d(!0),e.next=6,y(a.withdraw(m.address,i),{onComplete:function(){return Promise.all([p()])}});case 6:d(!1);case 7:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){pe(a,n,o,i,l,"next",e)}function l(e){pe(a,n,o,i,l,"throw",e)}i(void 0)}))}),[m,i,y,a,p]),b=(null!==(t=null===f||void 0===f?void 0:f.balance.balance)&&void 0!==t?t:A.Aj).lt(i);return(0,n.jsx)(u.Z,be({},l,{children:(0,n.jsx)(ee.Z,{transactionType:K.i.VaultWithdraw,size:"lg",sx:{width:"100%"},variant:"primary",isDisabled:b||i.lte(0),isLoading:s,label:i.lte(0)?"Enter Amount":b?"Insufficient Balance":"Withdraw",onClick:v})}))}),(function(e){var r=ve({},e);return(0,n.jsx)($.Z,be({size:"lg",width:"100%"},r))})),xe=je;function Oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ge(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Oe(e,r,t[r])}))}return e}function Ze(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var we=(0,a.Z)((function(e){var r,t=e.marketAddressOrName,a=(Ze(e,["marketAddressOrName"]),(0,i.ZP)(t)),l=(0,J.ZP)(t),c=null!==(r=null===l||void 0===l?void 0:l.balance.balance)&&void 0!==r?r:A.Aj,s=(0,o.useState)(A.Aj),u=s[0],d=s[1];return a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(b.Z,{children:[(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{color:"secondaryText",children:"Amount"}),(0,n.jsx)(T,{amount:u,max:c,onChangeAmount:d})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,n.jsx)(m.Z,{color:"secondaryText",variant:"secondary",children:"Balance"}),(0,n.jsx)(k.Z,{variant:"secondary",symbol:"Tokens",prevAmount:c,newAmount:c.sub(u)})]})]}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(b.Z,{children:[(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Deposit Delay"}),(0,n.jsx)(m.Z,{variant:"secondary",children:0===a.liveBoards().length||0===a.depositDelay?"None":(0,P.Z)(a.depositDelay)})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:4,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Withdrawal Delay"}),(0,n.jsx)(m.Z,{variant:"secondary",children:0===a.liveBoards().length||0===a.withdrawalDelay?"Now":(0,P.Z)(a.withdrawalDelay)})]}),(0,n.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",children:"Withdrawal Fee"}),(0,n.jsx)(m.Z,{variant:"secondary",children:(0,w.Z)((0,R.Z)(a.__marketData.marketParameters.lpParams.withdrawalFee),!0)})]}),(0,n.jsx)(xe,{market:a,amount:u})]})]}):null}),(function(e){e.marketAddressOrName;var r=Ze(e,["marketAddressOrName"]);return(0,n.jsx)(b.Z,{children:(0,n.jsx)(h.Z,ge({},r,{children:(0,n.jsx)(Z.ZP,{})}))})})),Pe=[{id:0,label:"Deposit"},{id:1,label:"Withdraw"}],ke=function(e){var r=e.marketAddressOrName,t=e.isDeposit,o=e.onToggleDeposit;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{noPadding:!0,px:6,pt:6,children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(v.Z,{items:Pe,selectedItemId:t?0:1,onChange:function(e){return o(0===e)}})})}),t?(0,n.jsx)(fe,{minHeight:236,marketAddressOrName:r}):(0,n.jsx)(we,{minHeight:236,marketAddressOrName:r})]})},Se=t(85975),Ae=t(73236),De=t(84262),Ce=t(37102),Te=t(38938),Ne=t(93327),Fe=t(50564),Ie=t(90473),Ee=t(12987),Me=t(8835),Ve=t(75628);function He(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Le(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Be=function(e){var r,t=e.vaultBalance,o=t.balance,a=t.myApy,i=t.myRewards,l=t.myApyMultiplier,c=t.accountRewardEpoch,s=t.myPnl,d=t.myPnlPercent,p=Le(e,["vaultBalance"]),y=(0,Ce.Z)(),v=null!==(r=null===c||void 0===c?void 0:c.stakedLyraBalance)&&void 0!==r?r:0;return(0,n.jsxs)(b.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){He(e,r,t[r])}))}return e}({},p,{children:[(0,n.jsxs)(u.Z,{mb:6,children:[(0,n.jsx)(m.Z,{variant:"heading",children:"My Liquidity"}),(0,n.jsx)(m.Z,{variant:"heading",children:o.value.isZero()?"-":(0,Ne.Z)(o.value)})]}),(0,n.jsxs)(De.Z,{sx:{gridTemplateColumns:y?"1fr 1fr":"1fr 1fr 1fr 1fr",gap:[3,6]},children:[(0,n.jsx)(Ee.Z,{label:"Profit / Loss",value:o.value.isZero()?"-":"".concat((0,Te.Z)(s,{showSign:!0})," (").concat((0,w.Z)(d),")"),valueColor:o.value.isZero()?"secondaryText":s>0?"primaryText":"errorText"}),(0,n.jsx)(Ee.Z,{label:"".concat(v>0?"Boosted":"My"," APY"),value:a.total>0?(0,n.jsx)(Ve.Z,{mt:"auto",alignItems:"center",marketName:o.market.name,opApy:a.op,lyraApy:a.lyra,apyMultiplier:l,stakedLyraBalance:v,children:(0,n.jsx)(Me.Z,{variant:"secondary",color:"primaryText",tokenNameOrAddress:["stkLyra","OP"],amount:a.total,isPercentage:!0})}):"-",valueColor:a.total>0?"text":"secondaryText"}),(0,n.jsx)(Ee.Z,{label:"Pending Rewards",value:(0,n.jsx)(Me.Z,{tokenNameOrAddress:"OP",variant:"secondary",amount:i.op})}),(0,n.jsx)(f.Z,{alignItems:"center",justifyContent:"flex-start",children:(0,n.jsx)(q.ZP,{label:"Boost",rightIcon:O.T.ArrowRight,href:(0,Ie.Z)({page:Fe.u.Rewards}),variant:"primary"})})]})]}))};function ze(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _e(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Ue=(0,a.Z)((function(e){var r=e.marketAddressOrName,t=_e(e,["marketAddressOrName"]),o=(0,J.ZP)(r);if(!o)return null;var a=o.balance,i=o.deposits,l=o.withdrawals;return a.balance.isZero()&&0===i.length&&0===l.length?null:(0,n.jsxs)(d.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ze(e,r,t[r])}))}return e}({},t,{children:[(0,n.jsx)(Be,{vaultBalance:o}),i.length?(0,n.jsxs)(b.Z,{noPadding:!0,children:[(0,n.jsx)(m.Z,{variant:"heading",mx:6,mt:6,children:"Depositing"}),(0,n.jsx)(Se.Z,{deposits:i})]}):null,l.length?(0,n.jsxs)(b.Z,{noPadding:!0,children:[(0,n.jsx)(m.Z,{variant:"heading",mx:6,mt:6,children:"Withdrawing"}),(0,n.jsx)(Ae.Z,{withdrawals:l})]}):null]}))})),Re=Ue,qe=t(94531),$e=t(24723),We=t(48359),Ke=t(64634);function Xe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ge(){return Ge=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ge.apply(this,arguments)}function Ye(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Xe(e,r,t[r])}))}return e}function Je(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Qe,er=(0,a.Z)((function(e){var r=e.marketAddressOrName,t=Je(e,["marketAddressOrName"]),o=(0,Ke.Z)(r),a=(0,Ce.Z)();if(!o)return null;var i=o.market,l=o.tvl,c=o.utilization,s=o.tokenPrice30DChange,u=o.tokenPrice30DChangeAnnualized,p=o.pendingDeposits,y=o.tradingVolume30D,v=(o.fees,o.openInterest),b=o.netDelta,h=o.minApy,j=o.minOpApy,x=o.minLyraApy;return(0,n.jsx)(d.Z,Ye({},t,{children:(0,n.jsxs)(qe.Z,{children:[(0,n.jsx)(m.Z,{mb:6,variant:"heading",children:"Stats"}),(0,n.jsxs)(De.Z,{sx:{gridTemplateColumns:a?"1fr 1fr":"1fr 1fr 1fr 1fr",gridColumnGap:6,gridRowGap:6},children:[(0,n.jsx)(Ee.Z,{label:"30D Perf. (Annualized)",value:(0,n.jsx)(We.Z,{mt:"auto",marketName:i.name,tokenPrice30DChange:s,tokenPrice30DChangeAnnualized:u,alignItems:"center",children:(0,n.jsx)(m.Z,{variant:"secondary",color:s>=0?"primaryText":"errorText",children:(0,w.Z)(u,0===s)})})}),(0,n.jsx)(Ee.Z,{label:"Rewards APY",value:h>0?(0,n.jsx)(Ve.Z,{mt:"auto",alignItems:"center",marketName:i.name,opApy:j,lyraApy:x,children:(0,n.jsx)(Me.Z,{variant:"secondary",color:"primaryText",tokenNameOrAddress:["stkLyra","OP"],amount:h,isPercentage:!0})}):"-",valueColor:h>0?"text":"secondaryText"}),(0,n.jsx)(Ee.Z,{label:"TVL",value:l>0?(0,Te.Z)(l):"-",valueColor:l>0?"text":"secondaryText"}),(0,n.jsxs)(f.Z,{flexDirection:"column",children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Pending Deposits"}),(0,n.jsx)(m.Z,{mt:"auto",variant:"secondary",children:(0,Te.Z)(p)})]}),(0,n.jsx)(Ee.Z,{label:"Utilization",value:c>0?(0,w.Z)(c,!0):"-",valueColor:c>0?"text":"secondaryText"}),(0,n.jsx)(Ee.Z,{label:"30D Volume",value:y>0?(0,Te.Z)(y):"-",valueColor:y>0?"text":"secondaryText"}),(0,n.jsx)(Ee.Z,{label:"Open Interest",value:v>0?(0,Te.Z)(v*(0,R.Z)(i.spotPrice)):"-",valueColor:v>0?"text":"secondaryText"}),(0,n.jsx)(Ee.Z,{label:"Net Delta",value:"".concat(b>0?"+":"").concat((0,$e.Z)(b,{dps:3}))})]})]})}))}),(function(e){var r=Ge({},e);return(0,n.jsx)(d.Z,Ye({},r,{children:(0,n.jsxs)(qe.Z,{children:[(0,n.jsx)(m.Z,{mb:6,variant:"heading",children:"Stats"}),(0,n.jsx)(h.Z,{height:[272,124],children:(0,n.jsx)(Z.ZP,{})})]})}))})),rr=t(77989),tr=t(85218),nr=t(47114),or=t(42002);function ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ar(e,r,t[r])}))}return e}function lr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}!function(e){e.TVL="tvl",e.PNL="pnl",e.Fees="fees",e.NetDelta="netdelta"}(Qe||(Qe={}));var cr=[{id:Qe.TVL,label:"TVL"},{id:Qe.PNL,label:"Performance"},{id:Qe.Fees,label:"Fees"},{id:Qe.NetDelta,label:"Net Delta"}],sr=(0,a.Z)((function(e){var r,t=e.onChangeChart,a=e.selectedChart,i=lr(e,["onChangeChart","selectedChart"]),l=cr.find((function(e){return e.id===a})),c=(0,o.useState)(!1),s=c[0],u=c[1],d=(0,o.useCallback)((function(){return u(!1)}),[]);return(0,n.jsx)(tr.Z,ir({},i,{isTransparent:!0,onClose:d,onClick:function(){u(!0)},isOpen:s,label:null!==(r=null===l||void 0===l?void 0:l.label)&&void 0!==r?r:"",size:"md",textVariant:"heading",children:cr.map((function(e){return(0,n.jsx)(nr.Z,{isSelected:(null===e||void 0===e?void 0:e.id)===a,label:e.label,onClick:function(){t(e.id),d()}},e.id)}))}))}),(function(e){e.onChangeChart,e.selectedChart;var r=lr(e,["onChangeChart","selectedChart"]);return(0,n.jsx)(u.Z,ir({},r,{children:(0,n.jsx)(or.Z,{})}))})),ur=sr,dr=t(95815),fr=t(96403),mr=t(27865),pr=t(64950),yr=t(37393);function vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function br(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){vr(e,r,t[r])}))}return e}function hr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function jr(e){var r=e.onClose,t=e.isOpen,o=hr(e,["onClose","isOpen"]);return(0,n.jsx)(yr.Z,{isMobileFullscreen:!0,isOpen:t,onClose:r,children:(0,n.jsx)(ke,br({},o))})}var xr=t(9570),Or=t(37009),gr=t(6230);function Zr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function wr(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function Pr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Zr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kr=function(){var e,r=(e=I().mark((function e(r,t){var n,o,a,i,l,c,s,u,d;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.market(r);case 2:return n=e.sent,o=(0,Or.Z)(n.block.timestamp,t),e.next=6,n.tradingVolumeHistory({startTimestamp:o});case 6:for(a=e.sent,i=a.map((function(e){var r=e.deltaCutoffFees.add(e.lpLiquidationFees).add(e.optionPriceFees).add(e.spotPriceFees).add(e.vegaFees).add(e.varianceFees);return{fees:(0,R.Z)(r),optionFee:(0,R.Z)(e.optionPriceFees),spotFee:(0,R.Z)(e.spotPriceFees),vegaFee:(0,R.Z)(e.vegaFees),varianceFee:(0,R.Z)(e.varianceFees),startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp,x:e.endTimestamp}})).sort((function(e,r){return e.x-r.x})),l=Math.ceil(i.length/30),c=[],s=0;s<i.length;s++)u=i[s],s%l===0?c.push({fees:u.fees,optionFee:u.optionFee,spotFee:u.spotFee,vegaFee:u.vegaFee,varianceFee:u.varianceFee,startTimestamp:u.startTimestamp,endTimestamp:u.endTimestamp,x:u.x}):c.length>0&&((d=c[c.length-1]).fees+=u.fees,d.optionFee+=u.optionFee,d.spotFee+=u.spotFee,d.vegaFee+=u.vegaFee,d.varianceFee+=u.varianceFee,d.endTimestamp=u.endTimestamp);return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){wr(a,n,o,i,l,"next",e)}function l(e){wr(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();function Sr(e,r){var t=Pr((0,gr.ZP)("VaultFeesHistory",e&&r?[e,r]:null,kr),1)[0];return null!==t&&void 0!==t?t:[]}function Ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Ar(e,r,t[r])}))}return e}function Cr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Tr=(0,a.Z)((function(e){var r,t,a,i,l=e.hoverData,c=e.marketAddressOrName,s=e.period,d=Cr(e,["hoverData","marketAddressOrName","period"]),f=Sr(c,s),p=(0,o.useMemo)((function(){return f.reduce((function(e,r){return e+r.fees}),0)}),[f]),y=(0,o.useMemo)((function(){return f.reduce((function(e,r){return e+r.optionFee}),0)}),[f]),v=(0,o.useMemo)((function(){return f.reduce((function(e,r){return e+r.spotFee}),0)}),[f]),b=(0,o.useMemo)((function(){return f.reduce((function(e,r){return e+r.vegaFee+r.varianceFee}),0)}),[f]),h=null!==(r=null===l||void 0===l?void 0:l.fees)&&void 0!==r?r:p,j=null!==(t=null===l||void 0===l?void 0:l.optionFee)&&void 0!==t?t:y,x=null!==(a=null===l||void 0===l?void 0:l.spotFee)&&void 0!==a?a:v,O=null!==(i=null===l||void 0===l?void 0:l.vegaFee)&&void 0!==i?i:b,g=(0,Ce.Z)();return(0,n.jsxs)(u.Z,Dr({},d,{children:[(0,n.jsx)(m.Z,{variant:"heading",children:(0,Te.Z)(h)}),g?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Option Fees"}),(0,n.jsx)(m.Z,{variant:"secondary",children:(0,Te.Z)(j)})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Spot Fees"}),(0,n.jsx)(m.Z,{variant:"secondary",children:(0,Te.Z)(x)})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Vega Fees"}),(0,n.jsx)(m.Z,{variant:"secondary",children:(0,Te.Z)(O)})]})]})]}))}),(function(e){e.hoverData,e.marketAddressOrName,e.period;var r=Cr(e,["hoverData","marketAddressOrName","period"]),t=(0,Ce.Z)();return(0,n.jsxs)(f.Z,Dr({flexDirection:"column"},r,{children:[(0,n.jsx)(xr.Z,{variant:"heading",width:100}),t?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Option Fees"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Spot Fees"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Vega Fees"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]})]})]}))})),Nr=t(33345),Fr=t(59517),Ir=t(85556);function Er(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Er(e,r,t[r])}))}return e}function Vr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Hr=(0,a.Z)((function(e){var r=e.marketAddressOrName,t=e.period,o=e.onHover,a=void 0===o?Fr.Z:o,i=Vr(e,["marketAddressOrName","period","onHover"]),l=Sr(r,t);return(0,n.jsx)(Nr.Z,Mr({},i,{data:l,dataKeys:[{key:"fees",label:"Fee"}],renderTooltip:function(e){var r=e.startTimestamp,n=e.endTimestamp;return"".concat((0,Ir.Z)(null!==r&&void 0!==r?r:0,t)," - ").concat((0,Ir.Z)(null!==n&&void 0!==n?n:0,t))},onHover:function(e){a(e)},onMouseLeave:function(){a(null)}}))}),(function(e){e.marketAddressOrName,e.period,e.onHover;var r=Vr(e,["marketAddressOrName","period","onHover"]);return(0,n.jsx)(h.Z,Mr({},r,{children:(0,n.jsx)(or.Z,{width:"100%",height:"100%"})}))})),Lr=o.memo(Hr);function Br(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zr(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function _r(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Br(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Br(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ur=function(){var e,r=(e=I().mark((function e(r,t){var n,o,a,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.market(r);case 2:return n=e.sent,o=(0,Or.Z)(n.block.timestamp,t),e.next=6,n.netGreeksHistory({startTimestamp:o});case 6:return a=e.sent,i=a.map((function(e){return{netDelta:(0,R.Z)(e.netDelta),poolNetDelta:(0,R.Z)(e.poolNetDelta),hedgerNetDelta:(0,R.Z)(e.hedgerNetDelta),netStdVega:(0,R.Z)(e.netStdVega),x:e.timestamp}})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){zr(a,n,o,i,l,"next",e)}function l(e){zr(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();function Rr(e,r){var t=_r((0,gr.ZP)("NetGreeksHistory",e&&r?[e,r]:null,Ur),1)[0];return null!==t&&void 0!==t?t:[]}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $r(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){qr(e,r,t[r])}))}return e}function Wr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Kr=(0,a.Z)((function(e){var r,t,o,a,i=e.hoverData,l=e.marketAddressOrName,c=e.period,s=Wr(e,["hoverData","marketAddressOrName","period"]),d=Rr(l,c),f=d[d.length-1],p=null!==(r=null===i||void 0===i?void 0:i.netDelta)&&void 0!==r?r:null===f||void 0===f?void 0:f.netDelta,y=null!==(t=null===i||void 0===i?void 0:i.poolNetDelta)&&void 0!==t?t:null===f||void 0===f?void 0:f.poolNetDelta,v=null!==(o=null===i||void 0===i?void 0:i.hedgerNetDelta)&&void 0!==o?o:null===f||void 0===f?void 0:f.hedgerNetDelta,b=null!==(a=null===i||void 0===i?void 0:i.netStdVega)&&void 0!==a?a:null===f||void 0===f?void 0:f.netStdVega,h=(0,Ce.Z)();return(0,n.jsxs)(u.Z,$r({},s,{children:[(0,n.jsxs)(m.Z,{variant:"heading",children:[p>0?"+":"",(0,$e.Z)(p,{minDps:3})]}),h?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Pool Net Delta"}),(0,n.jsxs)(m.Z,{variant:"secondary",children:[y>0?"+":"",(0,$e.Z)(y,{minDps:3})]})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Hedger Net Delta"}),(0,n.jsxs)(m.Z,{variant:"secondary",children:[v>0?"+":"",(0,$e.Z)(v,{minDps:3})]})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Net Std Vega"}),(0,n.jsxs)(m.Z,{variant:"secondary",children:[b>0?"+":"",(0,$e.Z)(b,{minDps:3})]})]})]})]}))}),(function(e){e.hoverData,e.marketAddressOrName,e.period;var r=Wr(e,["hoverData","marketAddressOrName","period"]),t=(0,Ce.Z)();return(0,n.jsxs)(u.Z,$r({},r,{children:[(0,n.jsx)(xr.Z,{variant:"heading",width:100}),t?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Pool Net Delta"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Hedger Net Delta"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Net Std Vega"}),(0,n.jsx)(xr.Z,{variant:"secondary",width:80})]})]})]}))})),Xr=t(49027);function Gr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Gr(e,r,t[r])}))}return e}function Jr(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Qr=(0,a.Z)((function(e){var r,t=e.marketAddressOrName,o=e.hoverData,a=e.period,i=e.onHover,l=void 0===i?Fr.Z:i,c=Jr(e,["marketAddressOrName","hoverData","period","onHover"]),s=Rr(t,a),u=null!==(r=null===o||void 0===o?void 0:o.netDelta)&&void 0!==r?r:s[s.length-1].netDelta;return(0,n.jsx)(Xr.Z,Yr({},c,{type:"linear",data:s,dataKeys:[{key:"netDelta",label:"timestamp"}],lineColor:u>=0?"primary":"error",onHover:l,hideXAxis:!1,renderTooltip:function(e){var r=e.x;return(0,Ir.Z)(r,a)}}))}),(function(e){e.marketAddressOrName,e.period,e.onHover;var r=Jr(e,["marketAddressOrName","period","onHover"]);return(0,n.jsx)(h.Z,Yr({},r,{children:(0,n.jsx)(or.Z,{width:"100%",height:"100%"})}))})),et=o.memo(Qr);function rt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tt(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,o)}function nt(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return rt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ot=function(){var e,r=(e=I().mark((function e(r,t){var n,o,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.market(r);case 2:return n=e.sent,o=(0,Or.Z)(n.block.timestamp,t),e.next=6,n.liquidityHistory({startTimestamp:o});case 6:return a=e.sent,e.abrupt("return",a.map((function(e){return{pnl:(0,R.Z)(e.tokenPrice),x:e.timestamp}})).sort((function(e,r){return e.x-r.x})));case 8:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){tt(a,n,o,i,l,"next",e)}function l(e){tt(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();function at(e,r){var t=nt((0,gr.ZP)("VaultPNLHistory",e&&r?[e,r]:null,ot),1)[0];return null!==t&&void 0!==t?t:[]}function it(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){it(e,r,t[r])}))}return e}function ct(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var st=(0,a.Z)((function(e){var r,t,a=e.hoverData,i=e.marketAddressOrName,l=e.period,c=ct(e,["hoverData","marketAddressOrName","period"]),s=(0,Ce.Z)(),d=at(i,l),f=(0,o.useMemo)((function(){return d[d.length-2]}),[d]),p=null!==(r=null===a||void 0===a?void 0:a.pnl)&&void 0!==r?r:f.pnl,y=null!==(t=d[0].pnl)&&void 0!==t?t:0,v=0==y?0:(p-y)/y;return(0,n.jsxs)(u.Z,lt({},c,{children:[(0,n.jsxs)(m.Z,{variant:"heading",color:v>=0?"primaryText":"errorText",children:[" ",(0,w.Z)(v)," "]}),s?null:(0,n.jsxs)(u.Z,{my:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Token Value"}),(0,n.jsx)(m.Z,{variant:"bodyMedium",children:(0,Ne.Z)(p,{dps:4})})]})]}))}),(function(e){e.hoverData,e.marketAddressOrName,e.period;var r=ct(e,["hoverData","marketAddressOrName","period"]),t=(0,Ce.Z)();return(0,n.jsxs)(u.Z,lt({},r,{children:[(0,n.jsx)(xr.Z,{variant:"heading",width:100}),t?null:(0,n.jsxs)(u.Z,{my:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Token Value"}),(0,n.jsx)(xr.Z,{variant:"bodyMedium",width:80})]})]}))}));function ut(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ut(e,r,t[r])}))}return e}function ft(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var mt=(0,a.Z)((function(e){var r,t,a=e.marketAddressOrName,i=e.hoverData,l=e.period,c=e.onHover,s=void 0===c?Fr.Z:c,u=ft(e,["marketAddressOrName","hoverData","period","onHover"]),d=at(a,l),f=(0,o.useMemo)((function(){return d[d.length-2]}),[d]),m=null!==(r=null===i||void 0===i?void 0:i.pnl)&&void 0!==r?r:f.pnl,p=null!==(t=d[0].pnl)&&void 0!==t?t:0,y=0==p?0:(m-p)/p;return(0,n.jsx)(Xr.Z,dt({},u,{type:"linear",data:d,dataKeys:[{key:"pnl",label:"timestamp"}],lineColor:y>=0?"primary":"error",onHover:s,hideXAxis:!1,renderTooltip:function(e){var r=e.x;return(0,Ir.Z)(r,l)}}))}),(function(e){e.marketAddressOrName,e.period,e.onHover;var r=ft(e,["marketAddressOrName","period","onHover"]);return(0,n.jsx)(h.Z,dt({},r,{children:(0,n.jsx)(or.Z,{width:"100%",height:"100%"})}))})),pt=o.memo(mt),yt=t(46541);function vt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){vt(e,r,t[r])}))}return e}function ht(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var jt=(0,a.Z)((function(e){var r,t,a,i,l=e.hoverData,c=e.marketAddressOrName,s=e.period,d=ht(e,["hoverData","marketAddressOrName","period"]),f=(0,yt.Z)(c,s),p=(0,Ce.Z)(),y=(0,o.useMemo)((function(){return f[f.length-1]}),[f]),v=null!==(r=null===l||void 0===l?void 0:l.total)&&void 0!==r?r:null===y||void 0===y?void 0:y.total,b=null!==(t=null===l||void 0===l?void 0:l.utilization)&&void 0!==t?t:y.utilization,h=null!==(a=null===l||void 0===l?void 0:l.deposits)&&void 0!==a?a:y.deposits,j=null!==(i=f[0].total)&&void 0!==i?i:0,x=0==j?0:(v-j)/j;return(0,n.jsxs)(u.Z,bt({},d,{children:[(0,n.jsx)(m.Z,{variant:"heading",children:(0,Te.Z)(v)}),(0,n.jsx)(m.Z,{variant:"small",color:x>=0?"primaryText":"errorText",children:(0,w.Z)(x)}),p?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Pending Deposits"}),(0,n.jsx)(m.Z,{variant:"bodyMedium",color:"text",children:(0,Te.Z)(h)})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Utilization"}),(0,n.jsx)(m.Z,{variant:"bodyMedium",color:"text",children:(0,w.Z)(b,!0)})]})]})]}))}),(function(e){e.hoverData,e.marketAddressOrName,e.period;var r=ht(e,["hoverData","marketAddressOrName","period"]),t=(0,Ce.Z)();return(0,n.jsxs)(u.Z,bt({flexDirection:"column"},r,{children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(xr.Z,{variant:"heading",width:100}),(0,n.jsx)(xr.Z,{variant:"small",width:80})]}),t?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Pending Deposits"}),(0,n.jsx)(xr.Z,{variant:"body",width:80})]}),(0,n.jsxs)(u.Z,{mt:6,children:[(0,n.jsx)(m.Z,{variant:"secondary",color:"secondaryText",mb:2,children:"Utilization"}),(0,n.jsx)(xr.Z,{variant:"body",width:80})]})]})]}))})),xt=t(36228);function Ot(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function gt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Ot(e,r,t[r])}))}return e}function Zt(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var wt=(0,a.Z)((function(e){var r,t,a=e.marketAddressOrName,i=e.hoverData,l=e.period,c=e.onHover,s=void 0===c?Fr.Z:c,u=Zt(e,["marketAddressOrName","hoverData","period","onHover"]),d=(0,yt.Z)(a,l),f=(0,o.useMemo)((function(){return d[d.length-1]}),[d]),m=null!==(r=null===i||void 0===i?void 0:i.total)&&void 0!==r?r:f.total,p=null!==(t=d[0].total)&&void 0!==t?t:0,y=0==p?0:(m-p)/p;return(0,n.jsx)(xt.Z,gt({},u,{type:"linear",data:d,xAxisDataKey:"timestamp",dataKeys:[{key:"total",label:"timestamp"}],color:y>=0?"primary":"error",onHover:s,renderTooltip:function(e){var r=e.timestamp;return(0,Ir.Z)(r,l)}}))}),(function(e){e.marketAddressOrName,e.period,e.onHover;var r=Zt(e,["marketAddressOrName","period","onHover"]);return(0,n.jsx)(h.Z,gt({},r,{children:(0,n.jsx)(or.Z,{width:"100%",height:"100%"})}))})),Pt=o.memo(wt);function kt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function St(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function At(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){St(e,r,t[r])}))}return e}function Dt(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Ct(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return kt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tt=[dr.r.OneMonth,dr.r.ThreeMonths,dr.r.SixMonths,dr.r.OneYear],Nt=function(e){var r,t,a=e.marketAddressOrName,i=Dt(e,["marketAddressOrName"]),l=(0,o.useState)(dr.r.OneMonth),c=l[0],s=l[1],u=Ct((0,mr.Z)("chart"),2),f=u[0],m=u[1],p=null!==(t=(0,pr.Z)(Qe,f))&&void 0!==t?t:Qe.TVL,y=(0,o.useState)(null),v=y[0],j=y[1],O=(0,o.useState)(null),g=O[0],Z=O[1],w=(0,o.useState)(null),P=w[0],k=w[1],S=(0,o.useState)(null),A=S[0],D=S[1],C=(0,Ce.Z)(),T=(0,o.useState)(!1),N=T[0],F=T[1],I=(0,o.useState)(!0),E=I[0],M=I[1],V=null===(r=cr.find((function(e){return e.id===p})))||void 0===r?void 0:r.id,H=V===Qe.TVL?(0,n.jsx)(jt,{marketAddressOrName:a,hoverData:v,period:c}):V===Qe.PNL?(0,n.jsx)(st,{marketAddressOrName:a,hoverData:g,period:c}):V===Qe.Fees?(0,n.jsx)(Tr,{marketAddressOrName:a,hoverData:A,period:c}):(0,n.jsx)(Kr,{marketAddressOrName:a,hoverData:P,period:c}),L=V===Qe.TVL?(0,n.jsx)(Pt,{height:fr.kF,marketAddressOrName:a,period:c,hoverData:v,onHover:j}):V===Qe.PNL?(0,n.jsx)(pt,{height:fr.kF,marketAddressOrName:a,period:c,hoverData:g,onHover:Z}):V===Qe.Fees?(0,n.jsx)(Lr,{height:fr.kF,marketAddressOrName:a,period:c,onHover:D}):(0,n.jsx)(et,{height:fr.kF,marketAddressOrName:a,period:c,hoverData:P,onHover:k});return C?(0,n.jsx)(d.Z,At({},i,{children:(0,n.jsxs)(qe.Z,{height:"100%",children:[(0,n.jsx)(ur,{selectedChart:p,onChangeChart:function(e){m(e),(0,Q.Z)(W.g.VaultChartTypeSelect,{chart:e})},mx:-3}),H,L,(0,n.jsx)(h.Z,{mt:2,mb:4,children:(0,n.jsx)(rr.Z,{period:c,onChangePeriod:function(e){s(e),(0,Q.Z)(W.g.VaultChartPeriodSelect,{chart:V,period:e})},periods:Tt})}),(0,n.jsx)(q.ZP,{onClick:function(){return F(!0)},label:E?"Deposit":"Withdraw",size:"lg",variant:"primary",width:"100%"}),(0,n.jsx)(jr,{isDeposit:E,onToggleDeposit:M,onClose:function(){return F(!1)},isOpen:N,marketAddressOrName:a})]})})):(0,n.jsxs)(d.Z,At({flexDirection:"row"},i,{children:[(0,n.jsxs)(b.Z,{width:200,isHorizontal:!0,children:[(0,n.jsx)(ur,{selectedChart:p,onChangeChart:function(e){m(e),(0,Q.Z)(W.g.VaultChartTypeSelect,{chart:e,period:c})},mx:-3}),H]}),(0,n.jsx)(x.Z,{isVertical:!0}),(0,n.jsxs)(b.Z,{flexGrow:1,isHorizontal:!0,children:[(0,n.jsx)(rr.Z,{ml:"auto",mb:2,period:c,onChangePeriod:function(e){s(e),(0,Q.Z)(W.g.VaultChartPeriodSelect,{chart:V,period:e})},periods:Tt}),L]})]}))},Ft=t(42804),It=t(93314),Et=function(e){var r=e.market,t=(0,o.useState)(!0),a=t[0],i=t[1],l=(0,n.jsxs)(f.Z,{alignItems:"center",children:[(0,n.jsx)(p.Z,{mr:3,name:r.name,size:52}),(0,n.jsxs)(u.Z,{children:[(0,n.jsxs)(m.Z,{variant:"title",children:[r.name.toUpperCase()," Vault"]}),(0,n.jsx)(m.Z,{color:"secondaryText",children:"Market Maker Vault"})]})]});return(0,n.jsx)(Ft.Z,{desktopHeader:l,desktopRightColumn:(0,n.jsx)(d.Z,{overflowY:"auto",overflowX:"hidden",children:(0,n.jsx)(ke,{marketAddressOrName:r.address,isDeposit:a,onToggleDeposit:i})}),mobileHeader:l,mobileCollapsedHeader:(0,n.jsxs)(f.Z,{alignItems:"center",children:[(0,n.jsx)(p.Z,{mr:2,name:r.name,size:18}),(0,n.jsxs)(m.Z,{children:[r.name.toUpperCase()," Vault"]})]}),children:(0,n.jsxs)(It.Z,{children:[(0,n.jsx)(Nt,{marketAddressOrName:r.address}),(0,n.jsx)(Re,{marketAddressOrName:r.address}),(0,n.jsx)(er,{marketAddressOrName:r.address}),(0,n.jsx)(y.Z,{})]})})},Mt=(0,a.Z)((function(e){var r=e.marketName,t=(0,i.ZP)(r);return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{title:"".concat(t.name," Vault"),url:(0,Ie.Z)({page:Fe.u.Vaults,marketAddressOrName:t.name})}),(0,n.jsx)(Et,{market:t})]}):(0,n.jsx)(l.Z,{error:"Vault does not exist"})}),(function(){return(0,n.jsx)(c.Z,{})})),Vt=!0,Ht=Mt},33345:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(24246),o=t(68361),a=t(94006),i=(t(27378),t(27476)),l=t(99308),c=t(97879),s=t(26299),u=t(90782),d=t(79483),f=t(2105);function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}function y(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function v(e){var r=e.data,t=e.dataKeys,m=e.range,v=e.hideXAxis,b=void 0===v||v,h=e.onHover,j=e.renderTooltip,x=e.onMouseLeave,O=e.referenceLinesProps,g=e.color,Z=void 0===g?"primary":g,w=e.chartMargin,P=void 0===w?{top:24,bottom:8,left:16,right:16}:w,k=y(e,["data","dataKeys","range","hideXAxis","onHover","renderTooltip","onMouseLeave","referenceLinesProps","color","chartMargin"]),S=(0,a.Z)("secondaryText"),A=(0,a.Z)("hover"),D=(0,a.Z)(function(e){switch(e){case"primary":return"primaryLine";case"error":return"errorLine"}}(Z));return(0,n.jsx)(o.Z,p({},k,{children:(0,n.jsx)(i.h,{width:"100%",height:"100%",minWidth:void 0,children:(0,n.jsxs)(l.v,{data:r,margin:P,onMouseLeave:function(){x?x():h&&h(null)},children:[b?null:(0,n.jsx)(c.d,{y:0,stroke:S}),(0,n.jsx)(s.B,{hide:!0,type:"number",domain:null!==m&&void 0!==m?m:["dataMin","dataMax"]}),(0,n.jsx)(u.u,{cursor:{visibility:"default",stroke:A,fill:A},allowEscapeViewBox:{x:!0,y:!0},isAnimationActive:!1,offset:0,content:function(e){if(h&&e.payload&&e.payload.length&&h(e.payload[0].payload),j&&e.payload&&e.payload.length){var r=j(e.payload[0].payload);return"string"===typeof r?(0,n.jsx)(f.Z,{variant:"small",color:"secondaryText",ml:"-50%",children:r}):r}return null},position:{y:0}}),O?O.map((function(e){return(0,n.jsx)(c.d,p({},e),e.id)})):null,t.map((function(e){return(0,n.jsx)(d.$,{dataKey:e.key.toString(),animationDuration:300,fill:D,background:!1,stackId:e.stackId},e.key.toString())}))]})})}))}},85218:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(24246),o=t(37102),a=t(27378),i=t(73066),l=t(19749),c=t(94531),s=t(47929),u=t(30310),d=t(37393),f=t(32371);function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}function y(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function v(e){var r=e.children,t=e.placement,m=e.isOpen,v=e.onClose,b=e.hideRightIcon,h=y(e,["children","placement","isOpen","onClose","hideRightIcon"]),j=(0,a.useState)(null),x=j[0],O=j[1],g=(0,o.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.ZP,p({ref:O,rightIcon:b?null:m?s.T.ChevronUp:s.T.ChevronDown,rightIconSpacing:1},h)),g?(0,n.jsx)(d.Z,{isOpen:m,onClose:v,children:(0,n.jsx)(u.Z,{children:r})}):(0,n.jsx)(f.Z,{placement:t,innerRef:x,isOpen:m,onChange:function(e){e||v()},children:(0,n.jsx)(l.Z,{variant:"elevated",sx:{borderRadius:"list"},children:(0,n.jsx)(c.Z,{variant:"elevated",noPadding:!0,children:(0,n.jsx)(u.Z,{children:r})})})})]})}},27103:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(24246),o=t(3922),a=t(50535),i=t(24723),l=t(57712);function c(e,r){return parseFloat((0,l.formatUnits)(e.toString(),r))}function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if("number"===typeof e&&isNaN(e))return null;try{return(0,l.parseUnits)(e.toString(),r)}catch(t){return null}}var u=t(27378),d=t(46895),f=t(8413),m=t(40199);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var v=o.O$.from(2).pow(256).sub(1),b=o.O$.from(2).pow(256).sub(1).mul(-1),h=o.O$.from(0);function j(e){var r=e.value,t=e.onChange,l=e.min,j=void 0===l?b:l,x=e.max,O=void 0===x?v:x,g=e.decimals,Z=void 0===g?18:g,w=e.placeholder,P=void 0===w?h:w,k=e.onBlur,S=void 0===k?a.Z:k,A=e.onFocus,D=void 0===A?a.Z:A,C=e.customMaxMessage,T=e.customMinMessage,N=e.autoFocus,F=e.defaultValue,I=void 0===F?h:F,E=e.onEmpty,M=e.showMaxButton,V=y(e,["value","onChange","min","max","decimals","placeholder","onBlur","onFocus","customMaxMessage","customMinMessage","autoFocus","defaultValue","onEmpty","showMaxButton"]),H=(0,u.useState)(!1),L=H[0],B=H[1],z=(0,u.useState)(""),_=z[0],U=z[1],R=(0,u.useCallback)((function(e){var r=!1;return e.gt(O)?r=null!==C&&void 0!==C?C:"Input is too large":e.lt(j)?r=null!==T&&void 0!==T?T:"Input is too small":B(!1),B(r),r}),[B,C,T,O,j]);(0,u.useEffect)((function(){R(r);var e=s(_,Z);(e&&!r.eq(e)||""===_&&!r.isZero())&&U(c(r,Z).toString())}),[r,R,Z,_]);var q=o.O$.isBigNumber(P)?(0,i.Z)(c(P,Z),{minDps:1}):P;return(0,n.jsx)(m.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}({},V,{value:_,placeholder:q,onChange:function(e){var r=e.target.value;if(U(r),r){var n=s(r,Z);if(null!==n)return t(n),void R(n)}else E?E():t(I)},autoFocus:N,type:"number",onFocus:function(e){D(e),R(r)},onBlur:function(e){S(e),R(r)},error:L,rightContent:(0,n.jsxs)(d.Z,{alignItems:"center",children:[V.rightContent,M?(0,n.jsx)(f.Z,{ml:2,textVariant:"smallMedium",variant:"secondary",onClick:function(e){e.preventDefault(),t&&t(null!==O&&void 0!==O?O:h)},children:"MAX"}):null]})}))}},40199:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var n=t(24246),o=t(28055),a=t(27378),i=t(68361),l=t(46895),c=t(2105);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e){var r=e.label,t=e.rightContent,d=e.icon,f=e.error,m=e.isSuccess,p=e.onError,y=e.value,v=e.onChange,b=e.placeholder,h=e.autoFocus,j=e.type,x=e.onBlur,O=e.onFocus,g=e.isDisabled,Z=e.textAlign,w=u(e,["label","rightContent","icon","error","isSuccess","onError","value","onChange","placeholder","autoFocus","type","onBlur","onFocus","isDisabled","textAlign"]),P=(0,a.useState)(!1),k=P[0],S=P[1];return(0,a.useEffect)((function(){p&&p(null!==f&&void 0!==f?f:null)}),[f,p]),(0,n.jsxs)(i.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}({},w,{sx:{position:"relative"},children:[null!=r&&(0,n.jsx)(c.Z,{mx:2,mb:1,variant:"small",color:f?"errorText":"secondaryText",children:r}),(0,n.jsxs)(l.Z,{alignItems:"center",variant:"inputContainer",sx:{bg:k?"buttonBackground":void 0,borderColor:f?"inputError":m?"inputSuccess":k&&y?"outline":void 0,cursor:g?"not-allowed":"text"},children:[null!=d&&(0,n.jsx)(l.Z,{alignItems:"center",px:3,children:"string"===typeof d?(0,n.jsx)(c.Z,{variant:"secondary",children:d}):d}),(0,n.jsx)(o.II,{onBlur:function(e){S(!1),null!=x&&x(e)},onFocus:function(e){S(!0),null!=O&&O(e)},flex:1,pl:d?0:3,pr:t?0:3,value:y,onChange:v,placeholder:b,autoFocus:h,type:j,disabled:g,minHeight:"35px",height:"100%",sx:{textAlign:Z}}),null!=t&&(0,n.jsx)(l.Z,{alignItems:"center",mr:3,children:"string"===typeof t?(0,n.jsx)(c.Z,{variant:"secondary",children:t}):t})]})]}))}}},function(e){e.O(0,[5106,3310,1704,8221,7037,5885,290,4786,2804,11,2046,9911,618,9638,4920,3549,9774,2888,179],(function(){return r=86915,e(e.s=r);var r}));var r=e.O();_N_E=r}]);